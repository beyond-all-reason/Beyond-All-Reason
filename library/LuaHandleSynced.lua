
---!!! DO NOT MANUALLY EDIT THIS FILE !!!
---Generated by lua-doc-extractor 0.0.1
---https://github.com/rhys-vdw/lua-doc-extractor
---
---Date: Wed, 20 Nov 2024 13:06:36 GMT
---Source: rts/Lua/LuaHandleSynced.cpp
---
---@meta

---Callins, functions called by the Engine (Synced)
---
---@see rts/Lua/LuaHandleSynced.cpp

---Misc
---
---@section misc

---Receives data sent via `SendToUnsynced` callout.
---
---@param arg1 any
---@param arg2 any
---@param argn any
function RecvFromSynced(arg1, arg2, argn) end

---Custom Object Rendering
---
---For the following calls drawMode can be one of the following, notDrawing = 0, normalDraw = 1, shadowDraw = 2, reflectionDraw = 3, refractionDraw = 4, and finally gameDeferredDraw = 5 which was added in 102.0.
---
---@section custom_object

---For custom rendering of units
---
---@param unitID integer
---@param drawMode number
---@return boolean suppressEngineDraw
function DrawUnit(unitID, drawMode) end

---For custom rendering of features
---
---@param featureID integer
---@param drawMode number
---@return boolean suppressEngineDraw
function DrawFeature(featureID, drawMode) end

---For custom rendering of shields.
---
---@param featureID integer
---@param weaponID integer
---@param drawMode number
---@return boolean suppressEngineDraw
function DrawShield(featureID, weaponID, drawMode) end

---For custom rendering of weapon (& other) projectiles
---
---@param projectileID integer
---@param drawMode number
---@return boolean suppressEngineDraw
function DrawProjectile(projectileID, drawMode) end

---@param uuid number
---@param drawMode number
---@return boolean suppressEngineDraw
function DrawMaterial(uuid, drawMode) end

---Called when the unit reaches an unknown command in its queue (i.e. one not handled by the engine).
---
---@param unitID integer
---@param unitDefID integer
---@param unitTeam integer
---@param cmdID integer
---@param cmdParams number[]
---@param cmdOptions CommandOptions
---@param cmdTag number
---@return boolean whether to remove the command from the queue
function CommandFallback(unitID, unitDefID, unitTeam, cmdID, cmdParams, cmdOptions, cmdTag) end

---Called when the command is given, before the unit's queue is altered.
---
---The queue remains untouched when a command is blocked, whether it would be queued or replace the queue.
---
---@param unitID integer
---@param unitDefID integer
---@param unitTeam integer
---@param cmdID integer
---@param cmdParams number[]
---@param cmdOptions CommandOptions
---@param cmdTag number
---@param synced boolean
---@param fromLua boolean
---@return boolean whether it should be let into the queue.
function AllowCommand(unitID, unitDefID, unitTeam, cmdID, cmdParams, cmdOptions, cmdTag, synced, fromLua) end

---Called just before unit is created.
---
---@param unitDefID integer
---@param builderID integer
---@param builderTeam integer
---@param x number
---@param y number
---@param z number
---@param facing number
---@return boolean allow, boolean dropOrder
function AllowUnitCreation(unitDefID, builderID, builderTeam, x, y, z, facing) end

---Called just before a unit is transferred to a different team.
---
---@param unitID integer
---@param unitDefID integer
---@param oldTeam integer
---@param newTeam integer
---@param capture boolean
---@return boolean whether or not the transfer is permitted.
function AllowUnitTransfer(unitID, unitDefID, oldTeam, newTeam, capture) end

---Called just before a unit progresses its build percentage.
---
---@param builderID integer
---@param builderTeam integer
---@param unitID integer
---@param unitDefID integer
---@param part number
---@return boolean whether or not the build makes progress.
function AllowUnitBuildStep(builderID, builderTeam, unitID, unitDefID, part) end

---@param builderID integer
---@param builderTeam integer
---@param unitID integer
---@param unitDefID integer
---@param part number
---@return boolean whether or not the capture makes progress.
function AllowUnitCaptureStep(builderID, builderTeam, unitID, unitDefID, part) end

---@param transporterID integer
---@param transporterUnitDefID integer
---@param transporterTeam integer
---@param transporteeID integer
---@param transporteeUnitDefID integer
---@param transporteeTeam integer
---@return boolean whether or not the transport is allowed
function AllowUnitTransport(transporterID, transporterUnitDefID, transporterTeam, transporteeID, transporteeUnitDefID, transporteeTeam) end

---@param transporterID integer
---@param transporterUnitDefID integer
---@param transporterTeam integer
---@param transporteeID integer
---@param transporteeUnitDefID integer
---@param transporteeTeam integer
---@param x number
---@param y number
---@param z number
---@return boolean whether or not the transport load is allowed
function AllowUnitTransportLoad(transporterID, transporterUnitDefID, transporterTeam, transporteeID, transporteeUnitDefID, transporteeTeam, x, y, z) end

---@param transporterID integer
---@param transporterUnitDefID integer
---@param transporterTeam integer
---@param transporteeID integer
---@param transporteeUnitDefID integer
---@param transporteeTeam integer
---@param x number
---@param y number
---@param z number
---@return boolean whether or not the transport unload is allowed
function AllowUnitTransportUnload(transporterID, transporterUnitDefID, transporterTeam, transporteeID, transporteeUnitDefID, transporteeTeam, x, y, z) end

---@param unitID integer
---@param enemyID integer?
---@return boolean whether unit is allowed to cloak
function AllowUnitCloak(unitID, enemyID) end

---@param unitID integer
---@param objectID integer?
---@param weaponNum number?
---@return boolean whether unit is allowed to decloak
function AllowUnitCloak(unitID, objectID, weaponNum) end

---@param unitID integer
---@param targetID integer
---@return boolean whether unit is allowed to selfd
function AllowUnitKamikaze(unitID, targetID) end

---Called just before feature is created.
---
---@param featureDefID integer
---@param teamID integer
---@param x number
---@param y number
---@param z number
---@return boolean whether or not the creation is permitted
function AllowFeatureCreation(featureDefID, teamID, x, y, z) end

---Called just before a feature changes its build percentage.
---
---Note that this is also called for resurrecting features, and for refilling features with resources before resurrection.
---On reclaim the part values are negative, and on refill and ressurect they are positive.
---Part is the percentage the feature be built or reclaimed per frame.
---Eg. for a 30 workertime builder, that's a build power of 1 per frame.
---For a 50 buildtime feature reclaimed by this builder, part will be 100/-50(/1) = -2%, or -0.02 numerically.
---
---@param builderID integer
---@param builderTeam integer
---@param featureID integer
---@param featureDefID integer
---@param part number
---@return boolean whether or not the change is permitted
function AllowFeatureBuildStep(builderID, builderTeam, featureID, featureDefID, part) end

---Called when a team sets the sharing level of a resource.
---
---@param teamID integer
---@param res string
---@param level number
---@return boolean whether or not the sharing level is permitted
function AllowResourceLevel(teamID, res, level) end

---Called just before resources are transferred between players.
---
---@param oldTeamID integer
---@param newTeamID integer
---@param res string
---@param amount number
---@return boolean whether or not the transfer is permitted.
function AllowResourceTransfer(oldTeamID, newTeamID, res, amount) end

---Determines if this unit can be controlled directly in FPS view.
---
---@param unitID integer
---@param unitDefID integer
---@param unitTeam integer
---@param playerID integer
---@return boolean allow
function AllowDirectUnitControl(unitID, unitDefID, unitTeam, playerID) end

---Called when a construction unit wants to "use his nano beams".
---
---@param unitID integer
---@param unitDefID integer
---@param action number one of following:
---
----1 Build
---CMD.REPAIR Repair
---CMD.RECLAIM Reclaim
---CMD.RESTORE Restore
---CMD.RESURRECT Resurrect
---CMD.CAPTURE Capture
---@return boolean actionAllowed
function AllowBuilderHoldFire(unitID, unitDefID, action) end

---Whether a start position should be allowed
---
---clamped{X,Y,Z} are the coordinates clamped into start-boxes, raw is where player tried to place their marker.
---
---The readyState can be any one of:
---
---0 - player picked a position,
---1 - player clicked ready,
---2 - player pressed ready OR the game was force-started (player did not click ready, but is now forcibly readied) or
---3 - the player failed to load.
---The default 'failed to choose' start-position is the north-west point of their startbox, or (0,0,0) if they do not have a startbox.
---
---@param playerID integer
---@param teamID integer
---@param readyState number
---@param clampedX number
---@param clampedY number
---@param clampedZ number
---@param rawX number
---@param rawY number
---@param rawZ number
---@return boolean allow
function AllowStartPosition(playerID, teamID, readyState, clampedX, clampedY, clampedZ, rawX, rawY, rawZ) end

---Enable both Spring.MoveCtrl.SetCollideStop and Spring.MoveCtrl.SetTrackGround to enable this call-in.
---
---@param unitID integer
---@param unitDefID integer
---@param unitTeam integer
---@param data number was supposed to indicate the type of notification but currently never has a value other than 1 ("unit hit the ground").
---@return boolean whether or not the unit should remain script-controlled (false) or return to engine controlled movement (true).
function MoveCtrlNotify(unitID, unitDefID, unitTeam, data) end

---Called when pre-building terrain levelling terraforms are completed (c.f. levelGround)
---
---@param unitID integer
---@param unitDefID integer
---@param unitTeam integer
---@param buildUnitID integer
---@param buildUnitDefID integer
---@param buildUnitTeam integer
---@return boolean if true the current build order is terminated
function TerraformComplete(unitID, unitDefID, unitTeam, buildUnitID, buildUnitDefID, buildUnitTeam) end

---Damage Controllers
---
---For the following callins, in addition to being a regular weapon, weaponDefID may be one of the following:
---
----1 - debris collision, also default of Spring.AddUnitDamage
----2 - ground collision
----3 - object collision
----4 - fire damage
----5 - water damage
----6 - kill damage
----7 - crush damage

---Called before damage is applied to the unit, allows fine control over how much damage and impulse is applied.
---
---Called after every damage modification (even `HitByWeaponId`) but before the damage is applied
---
---expects two numbers returned by lua code:
---1st is stored under *newDamage if newDamage != NULL
---2nd is stored under *impulseMult if impulseMult != NULL
---
---@param unitID integer
---@param unitDefID integer
---@param unitTeam integer
---@param damage number
---@param paralyzer boolean
---@param weaponDefID integer? Synced Only
---@param projectileID integer? Synced Only
---@param attackerID integer? Synced Only
---@param attackerDefID integer? Synced Only
---@param attackerTeam integer? Synced Only
---@return number newDamage, number impulseMult
function UnitPreDamaged(unitID, unitDefID, unitTeam, damage, paralyzer, weaponDefID, projectileID, attackerID, attackerDefID, attackerTeam) end

---Called before damage is applied to the feature.
---
---Allows fine control over how much damage and impulse is applied.
---
---@param featureID integer
---@param featureDefID integer
---@param featureTeam integer
---@param damage number
---@param weaponDefID integer
---@param projectileID integer
---@param attackerID integer
---@param attackerDefID integer
---@param attackerTeam integer
---@return number newDamage
---@return number impulseMult
function FeaturePreDamaged(featureID, featureDefID, featureTeam, damage, weaponDefID, projectileID, attackerID, attackerDefID, attackerTeam) end

---Called before any engine shield-vs-projectile logic executes.
---
---If the weapon is a hitscan type (BeamLaser or LightningCanon) then proID is nil and beamEmitterWeaponNum and beamEmitterUnitID are populated instead.
---
---@param projectileID integer
---@param projectileOwnerID integer
---@param shieldWeaponNum integer
---@param shieldCarrierID integer
---@param bounceProjectile boolean
---@param beamEmitterWeaponNum integer
---@param beamEmitterUnitID integer
---@param startX number
---@param startY number
---@param startZ number
---@param hitX number
---@param hitY number
---@param hitZ number
---@return boolean if true the gadget handles the collision event and the engine does not remove the projectile
function ShieldPreDamaged(projectileID, projectileOwnerID, shieldWeaponNum, shieldCarrierID, bounceProjectile, beamEmitterWeaponNum, beamEmitterUnitID, startX, startY, startZ, hitX, hitY, hitZ) end

---Determines if this weapon can automatically generate targets itself. See also commandFire weaponDef tag.
---
---@param attackerID integer
---@param attackerWeaponNum integer
---@param attackerWeaponDefID integer
---@return boolean allowCheck
---@return boolean ignoreCheck
function AllowWeaponTargetCheck(attackerID, attackerWeaponNum, attackerWeaponDefID) end

---Controls blocking of a specific target from being considered during a weapon's periodic auto-targeting sweep.
---
---@param attackerID integer
---@param targetID integer
---@param attackerWeaponNum integer
---@param attackerWeaponDefID integer
---@param defPriority number
---@return boolean allowed
---@return number the new priority for this target (if you don't want to change it, return defPriority). Lower priority targets are targeted first.
function AllowWeaponTarget(attackerID, targetID, attackerWeaponNum, attackerWeaponDefID, defPriority) end

---Controls blocking of a specific intercept target from being considered during an interceptor weapon's periodic auto-targeting sweep.
---
---Only called for weaponDefIDs registered via Script.SetWatchWeapon.
---
---@param interceptorUnitID integer
---@param interceptorWeaponID integer
---@param targetProjectileID integer
---@return boolean allowed
function AllowWeaponInterceptTarget(interceptorUnitID, interceptorWeaponID, targetProjectileID) end