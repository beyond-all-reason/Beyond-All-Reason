-- genericshellexplosion-medium-lightning
-- genericshellexplosion-small-lightning
-- genericshellexplosion-large-lightning

local definitions = {

  ["genericshellexplosion-small-lightning"] = {
    blueelectricityspikes = {
      air                = true,
      class              = [[CSimpleParticleSystem]],
      count              = 1,
      ground             = true,
      water              = true,
	  underwater         = true,
      properties = {
        airdrag            = 0.8,
        colormap           = [[0.7 0.7 0.9 0.03   0.5 0.5 0.9 0.01]],
        directional        = true,
        emitrot            = 45,
        emitrotspread      = 32,
        emitvector         = [[0, 1, 0]],
        gravity            = [[0, -0.01, 0]],
        numparticles       = 6,
        particlelife       = 7,
        particlelifespread = 1,
        particlesize       = 8,
        particlesizespread = 1,
        particlespeed      = 2,
        particlespeedspread = 1.5,
        pos                = [[0, 2, 0]],
        sizegrowth         = 1,
        sizemod            = 1,
        texture            = [[whitelightb]],
        useairlos          = false,
      },
    },
    centerflare = {
      air                = true,
      class              = [[CHeatCloudProjectile]],
      count              = 1,
      ground             = true,
      water              = true,
	  underwater         = true,
      properties = {
                heat               = 7,
        heatfalloff        = 1.6,
        maxheat            = 15,
        pos                = [[r-2 r2, 5, r-2 r2]],
        size               = 1,
        sizegrowth         = 4,
        speed              = [[0, 1 0, 0]],
        texture            = [[flare]],
      },
    },
    electricstorm = {
      air                = true,
      class              = [[CExpGenSpawner]],
      count              = 2,
      ground             = true,
      water              = true,
	  underwater         = true,
      properties = {
        delay              = [[10 r70]],
        explosiongenerator = [[custom:lightning_stormbolt]],
        pos                = [[-40 r60, 1, -40 r60]],
      },
    },
    groundflash = {
      air                = true,
            flashalpha         = 0.18,
      flashsize          = 50,
      ground             = true,
      ttl                = 20,
      water              = true,
	  underwater         = true,
      color = {
        [1]  = 0,
        [2]  = 0.4,
        [3]  = 1,
      },
    },
    electricity = {
      air                = true,
      class              = [[CSimpleParticleSystem]],
      count              = 1,
      ground             = true,
      water              = true,
	  underwater         = true,
      properties = {
        airdrag            = 0.89,
        colormap           = [[0 0 0 0.0	 1 1 1 0.04	 0 0 0 0.0 	 0 0 0 0.0   1 1 1 0.04	 0 0 0 0.12   0 0 0 0.0   0 0 0 0.0   1 1 1 0.03   0 0 0 0.0   0 0 0 0.0 	 0 0 0 0.0   1 1 1 0.025	 0 0 0 0.0  0 0 0 0.0   0 0 0 0.0  	 0 0 0 0.0  1 1 1 0.025	 0 0 0 0.0  0 0 0 0.0    0 0 0 0.0  1 1 1 0.02	  0 0 0 0.0   0 0 0 0.0    0 0 0 0.0	  1 1 1 0.015	 0 0 0 0.0   0 0 0 0.0   0 0 0 0.0   0 0 0 0.0    0 0 0 0.0  	 0 0 0 0.0   1 1 1 0.012  0 0 0 0.0  ]],
        directional        = false,
        emitrot            = 90,
        emitrotspread      = 5,
        emitvector         = [[0, 1.1, 0]],
        gravity            = [[0, 0.1, 0]],
        numparticles       = 5,
        particlelife       = 3,
        particlelifespread = 24,
        particlesize       = 0.8,
        particlesizespread = 1.4,
        particlespeed      = 0.8,
        particlespeedspread = 3.5,
        pos                = [[0, 1, 0]],
        sizegrowth         = 0.4,
        sizemod            = 1.0,
        texture            = [[whitelightb]],
      },
    },
    outerflash = {
      air                = true,
      class              = [[CHeatCloudProjectile]],
      count              = 2,
      ground             = true,
      water              = true,
	  underwater         = true,
      properties = {
                heat               = 7,
        heatfalloff        = 1.6,
        maxheat            = 14,
        pos                = [[r-2 r2, 5, r-2 r2]],
        size               = 1,
        sizegrowth         = 8,
        speed              = [[0, 1 0, 0]],
        texture            = [[brightblueexplo]],
      },
    },
  },


  ["genericshellexplosion-medium-lightning"] = {
    blueelectricityspikes = {
      air                = true,
      class              = [[CSimpleParticleSystem]],
      count              = 1,
      ground             = true,
      water              = true,
      underwater         = true,
      properties = {
        airdrag            = 0.8,
        colormap           = [[0.7 0.7 0.9 0.037   0.5 0.5 0.9 0.01]],
        directional        = true,
        emitrot            = 45,
        emitrotspread      = 32,
        emitvector         = [[0, 1, 0]],
        gravity            = [[0, -0.01, 0]],
        numparticles       = 8,
        particlelife       = 7,
        particlelifespread = 1,
        particlesize       = 2,
        particlesizespread = 6,
        particlespeed      = 0,
        particlespeedspread = 4,
        rotParams          = [[-5 r10, 0, -180 r360]],
        pos                = [[0, 2, 0]],
        sizegrowth         = 0.75,
        sizemod            = 1,
        texture            = [[whitelightb]],
        useairlos          = false,
      },
    },
    centerflare = {
      air                = true,
      class              = [[CHeatCloudProjectile]],
      count              = 1,
      ground             = true,
      water              = true,
      underwater         = true,
      properties = {
        heat               = 10,
        heatfalloff        = 1.3,
        maxheat            = 20,
        pos                = [[r-2 r2, 5, r-2 r2]],
        size               = 1,
        sizegrowth         = 7,
        speed              = [[0, 1 0, 0]],
        texture            = [[flare]],
      },
    },
    electricstorm = {
      air                = true,
      class              = [[CExpGenSpawner]],
      count              = 1,
      ground             = true,
      water              = true,
      underwater         = true,
      properties = {
        delay              = [[10 r70]],
        explosiongenerator = [[custom:lightning_stormbolt]],
        pos                = [[-55 r70, 1, -55 r70]],
      },
    },
    groundflash = {
      air                = true,
      flashalpha         = 0.13,
      flashsize          = 80,
      ground             = true,
      ttl                = 45,
      water              = true,
      underwater         = true,
      color = {
        [1]  = 0,
        [2]  = 0.4,
        [3]  = 1,
      },
    },
    electricity = {
      air                = true,
      class              = [[CSimpleParticleSystem]],
      count              = 1,
      ground             = true,
      water              = true,
      underwater         = true,
      properties = {
        airdrag            = 0.86,
        colormap           = [[0 0 0 0.0	 1 1 1 0.04	 0 0 0 0.0 	 0 0 0 0.0 	 0 0 0 0.0   1 1 1 0.04	 0 0 0 0.12   0 0 0 0.0   0 0 0 0.0   1 1 1 0.03   0 0 0 0.0	 0 0 0 0.0    0 0 0 0.0 	 0 0 0 0.0   1 1 1 0.025	 0 0 0 0.0  0 0 0 0.0   0 0 0 0.0  	 0 0 0 0.0  1 1 1 0.025	 0 0 0 0.0  0 0 0 0.0    0 0 0 0.0  1 1 1 0.02	  0 0 0 0.0   0 0 0 0.0    0 0 0 0.0	  1 1 1 0.015	 0 0 0 0.0   0 0 0 0.0   0 0 0 0.0   0 0 0 0.0   0 0 0 0.0    0 0 0 0.0  	 0 0 0 0.0 	 0 0 0 0.0 	 0 0 0 0.0   1 1 1 0.012  0 0 0 0.0  ]],
        directional        = false,
        emitrot            = 90,
        emitrotspread      = 5,
        emitvector         = [[0, 1.1, 0]],
        gravity            = [[0, 0.07, 0]],
        numparticles       = 4,
        particlelife       = 3,
        particlelifespread = 26,
        particlesize       = 0.5,
        particlesizespread = 1.5,
        particlespeed      = 0.5,
        particlespeedspread = 7.5,
        rotParams          = [[-5 r10, 0, -180 r360]],
        pos                = [[0, 1, 0]],
        sizegrowth         = 0.22,
        sizemod            = 1.0,
        texture            = [[whitelightb]],
      },
    },
    outerflash = {
      air                = true,
      class              = [[CHeatCloudProjectile]],
      count              = 2,
      ground             = true,
      water              = true,
      underwater         = true,
      properties = {
        heat               = 8,
        heatfalloff        = 1.7,
        maxheat            = 20,
        pos                = [[r-2 r2, 5, r-2 r2]],
        size               = 1,
        sizegrowth         = 8,
        speed              = [[0, 1 0, 0]],
        texture            = [[brightblueexplo]],
      },
    },
  },


  ["genericshellexplosion-medium-lightning2"] = {
    blueelectricityspikes = {
      air                = true,
      class              = [[CSimpleParticleSystem]],
      count              = 0,
      ground             = true,
      water              = true,
      underwater         = true,
      properties = {
        airdrag            = 0.89,
        colormap           = [[0.65 0.7 0.9 0.037   0.5 0.6 0.9 0.01]],
        directional        = true,
        emitrot            = 45,
        emitrotspread      = 32,
        emitvector         = [[0, 0, 0]],
        gravity            = [[0, -0.01, 0]],
        numparticles       = [[0.4 r0.9]],
        particlelife       = 7,
        particlelifespread = 1,
        particlesize       = 3,
        particlesizespread = 6,
        particlespeed      = 0,
        particlespeedspread = 3.3,
        rotParams          = [[-5 r10, 0, -180 r360]],
        pos                = [[0, 2, 0]],
        sizegrowth         = 0.75,
        sizemod            = 1,
        texture            = [[whitelightb]],
        useairlos          = false,
      },
    },
    centerflare = {
      air                = true,
      class              = [[CHeatCloudProjectile]],
      count              = 1,
      ground             = true,
      water              = true,
      underwater         = true,
      properties = {
        heat               = 7,
        heatfalloff        = 1.8,
        maxheat            = 12,
        pos                = [[r-2 r3, 5, r-2 r3]],
        size               = 1.1,
        sizegrowth         = 7,
        speed              = [[0, 1 0, 0]],
        texture            = [[plasmaball]],
      },
    },
    sparks = {
      air                = true,
      class              = [[CSimpleParticleSystem]],
      count              = 1,
      ground             = true,
      water              = true,
      underwater         = true,
      properties = {
        airdrag            = 0.88,
        colormap           = [[0.8 0.9 1 0.02   0.6 0.7 0.9 0.01   0 0 0 0]],
        directional        = true,
        emitrot            = 15,
        emitrotspread      = 5,
        emitvector         = [[0, 1, 0]],
        gravity            = [[0, 0, 0]],
        numparticles       = [[0.4 r0.8]],
        particlelife       = 1.5,
        particlelifespread = 5,
        particlesize       = 20,
        particlesizespread = 22,
        particlespeed      = 15,
        particlespeedspread = 3.5,
        pos                = [[0, 12, 0]],
        sizegrowth         = -0.08,
        sizemod            = 0.9,
        texture            = [[flare2]],
        useairlos          = false,
      },
    },
    -- electricstorm = {
    --  air                = true,
    --  class              = [[CExpGenSpawner]],
    --  count              = 1,
    --  ground             = true,
    --  water              = true,
    --  underwater         = true,
    --  properties = {
    --    delay              = [[10 r70]],
    --    explosiongenerator = [[custom:lightning_stormbolt]],
    --    pos                = [[-55 r70, 1, -55 r70]],
    --  },
    -- },
    flare = {
        air                = true,
        class              = [[CSimpleParticleSystem]],
        count              = 1,
        ground             = true,
        water              = true,
        underwater         = true,
        properties = {
            airdrag            = 0.8,
            colormap           = [[0.5 0.5 0.75 0.04   0.0 0.0 0.0 0.0]],            
            directional        = true,
            emitrot            = 90,
            emitrotspread      = 0,
            emitvector         = [[0, 0, 0]],
            gravity            = [[0, 0, 0]],
            numparticles       = 1,
            particlelife       = 4,
            particlelifespread = 1,
            particlesize       = 15,
            particlesizespread = 30,
            particlespeed      = 0.0,
            particlespeedspread = 0.1,
            pos                = [[0, 0, 0]],
            rotParams          = [[-30 r60, 0, -180 r360]],
            sizegrowth         = 0.5,
            sizemod            = 1,
            texture            = [[whitelightb]],
            useairlos          = false,
        },
    },
    -- groundflash = {
    --   air                = true,
    --   flashalpha         = 0.04,
    --   flashsize          = 80,
    --   ground             = true,
    --   ttl                = 12,
    --   water              = true,
    --   underwater         = true,
    --   color = {
    --     [1]  = 0,
    --     [2]  = 0.4,
    --     [3]  = 1,
    --   },
    -- },
    electricity = {
      air                = true,
      class              = [[CSimpleParticleSystem]],
      count              = 1,
      ground             = true,
      water              = true,
      underwater         = true,
      properties = {
        airdrag            = 0.89,
        colormap           = [[0 0 0 0.0	 1 1 1 0.04	 0 0 0 0.0 	 0 0 0 0.0 	 0 0 0 0.0   1 1 1 0.04   0 0 0 0.0   0 0 0 0.0   1 1 1 0.03   0 0 0 0.0	]],
        directional        = false,
        emitrot            = 90,
        emitrotspread      = 45,
        emitvector         = [[0, 1, 0]],
        gravity            = [[0, -0.07, 0]],
        numparticles       = [[0.4 r0.9]],
        particlelife       = 2,
        particlelifespread = 15,
        particlesize       = 12,
        particlesizespread = 6.5,
        particlespeed      = 0.5,
        particlespeedspread = 1.5,
        rotParams          = [[-5 r10, 0, -180 r360]],
        pos                = [[0, 5, 0]],
        sizegrowth         = 0.22,
        sizemod            = 1.0,
        texture            = [[whitelightb]],
      },
    },
    outerflash = {
      air                = true,
      class              = [[CHeatCloudProjectile]],
      count              = 2,
      ground             = true,
      water              = true,
      underwater         = true,
      properties = {
        heat               = 3,
        heatfalloff        = 2,
        maxheat            = 10,
        pos                = [[r-2 r2, 5, r-2 r2]],
        size               = 1,
        sizegrowth         = 8,
        speed              = [[0, 1 0, 0]],
        texture            = [[brightblueexplo]],
      },
    },
  },


  ["genericshellexplosion-large-lightning"] = {
    blueelectricityspikes = {
      air                = true,
      class              = [[CSimpleParticleSystem]],
      count              = 1,
      ground             = true,
      water              = true,
      underwater         = true,
      properties = {
        airdrag            = 0.7,
        colormap           = [[0.7 0.5 0.9 0.03   0.5 0.4 0.9 0.01]],
        directional        = true,
        emitrot            = 45,
        emitrotspread      = 32,
        emitvector         = [[0, 1, 0]],
        gravity            = [[0, -0.01, 0]],
        numparticles       = 6,
        particlelife       = 8,
        particlelifespread = 5,
        particlesize       = 12,
        particlesizespread = 16,
        particlespeed      = 3,
        particlespeedspread = 13,
        rotParams          = [[-20 r40, -1 r2, -180 r360]],
        pos                = [[0, 2, 0]],
        sizegrowth         = 1.4,
        sizemod            = 1,
        texture            = [[lightninginair]],
        useairlos          = false,
        drawOrder          = 1,
      },
    },
    centerflare = {
      air                = true,
      class              = [[CHeatCloudProjectile]],
      count              = 1,
      ground             = true,
      water              = true,
      underwater         = true,
      properties = {
        heat               = 10,
        heatfalloff        = 1.15,
        maxheat            = 20,
        rotParams          = [[-120 r250, -80 r160, -180 r360]],
        pos                = [[r-2 r2, 5, r-2 r2]],
        size               = -2,
        sizegrowth         = 10,
        speed              = [[0, 2, 0]],
        texture            = [[bluenovaexplo]],
        drawOrder          = 1,
      },
    },
    sparks = {
      air                = true,
      class              = [[CSimpleParticleSystem]],
      count              = 1,
      ground             = true,
      water              = true,
    underwater         = true,
      properties = {
        airdrag            = 0.80,
        colormap           = [[0.6 0.6 1 0.017   0.6 0.6 1 0.011   0 0 0 0]],
        directional        = true,
        emitrot            = 30,
        emitrotspread      = 40,
        emitvector         = [[0, 1, 0]],
        gravity            = [[0, -0.05, 0]],
        numparticles       = 6,
        particlelife       = 6,
        particlelifespread = 8,
        particlesize       = 18,
        particlesizespread = 24,
        particlespeed      = 14.5,
        particlespeedspread = 14.4,
        pos                = [[0, 4, 0]],
        sizegrowth         = -0.3,
        sizemod            = 0.90,
        texture            = [[laser]],
        useairlos          = false,
        drawOrder          = 2,
      },
    },
    electricstorm = {
      air                = true,
      class              = [[CExpGenSpawner]],
      count              = 4,
      ground             = true,
      water              = true,
      underwater         = true,
      properties = {
        delay              = [[10 r30]],
        explosiongenerator = [[custom:lightning_storm_emp]],
        pos                = [[-40 r80, 20 r10, -40 r80]],
      },
    },
    electricstorm2 = {
      air                = true,
      class              = [[CExpGenSpawner]],
      count              = 4,
      ground             = true,
      water              = true,
      underwater         = true,
      properties = {
        delay              = [[10 r30]],
        explosiongenerator = [[custom:lightning_storm_emp2]],
        pos                = [[-40 r80, 20 r10, -40 r80]],
      },
    },
    shockwave = {
      air                = true,
      class              = [[CBitmapMuzzleFlame]],
      count              = 1,
      ground             = true,
      underwater         = false,
      water              = true,
      properties = {
        --colormap           = [[0 0 0 0   0.33 0.33 1 0.18   0.3 0.3 0.9 0.75  0.15 0.15 0.5 0.30   0.10 0.10 0.3 0.008    0.05 0.05 0.1 0.005    0.01 0.01 0.01 0.02]],
        colormap           = [[0 0 0 0   0.55 0.45 0.90 0.16   0.5 0.43 0.90 0.32  0.35 0.25 0.70 0.22   0.15 0.15 0.3 0.007    0.05 0.05 0.1 0.004    0.01 0.01 0.01 0.02]],
        dir                = [[0, 1, 0]],
        --gravity            = [[0.0, 0.1, 0.0]],
        frontoffset        = 0,
        fronttexture       = [[blastwave]],
        length             = 45,
        sidetexture        = [[none]],
        size               = 3.2,
        sizegrowth         = [[-24 r6]],
        ttl                = 8,
        pos                = [[0, 5, 0]],
        drawOrder          = 0,
      },
    },
    -- groundflash = {
    --   air                = true,
    --   flashalpha         = 0.6,
    --   flashsize          = 140,
    --   ground             = true,
    --   ttl                = 15,
    --   water              = true,
    --   underwater         = true,
    --   color = {
    --     [1]  = 0.4,
    --     [2]  = 0.5,
    --     [3]  = 0.8,
    --   },
    -- },
    -- shockwave = {
    --     class              = [[CSpherePartSpawner]],
    --         count              = 1,
    --         ground             = true,
    --         water              = true,
    --         underwater         = true,
    --         air                = true,
    --         properties = {
    --             alpha           = 0.3,
    --             ttl             = 8,
    --             expansionSpeed  = 9,
    --             color           = [[0.6, 0.60, 1]],
    --             --alwaysvisible      = true,
    --         },
    -- },
    -- grounddust = {
    --   air                = false,
    --   class              = [[CSimpleParticleSystem]],
    --   count              = 2,
    --   ground             = true,
    --   water              = true,
    --   underwater         = true,
    --   unit               = false,
    --   properties = {
    --     airdrag            = 0.86,
    --     colormap           = [[0.25 0.25 0.5 0.1   0 0 0 0.0]],
    --     directional        = false,
    --     emitrot            = 90,
    --     emitrotspread      = 2,
    --     emitvector         = [[0, 1, 0]],
    --     gravity            = [[-0.03 r0.06, -0.01 r0.08, -0.03 r0.06]],
    --     numparticles       = 2,
    --     particlelife       = 60,
    --     particlelifespread = 45,
    --     particlesize       = 64,
    --     particlesizespread = 52,
    --     particlespeed      = 6.5,
    --     particlespeedspread = 3,
    --     rotParams          = [[-4 r8, -1 r2, -180 r360]],
    --     pos                = [[0, 40, 0]],
    --     sizegrowth         = [[0.25 r0.12]],
    --     sizemod            = 1,
    --     texture            = [[smoke-ice-anim]],
    --        animParams         = [[8,8,60 r40]],
    --     --alwaysvisible      = true,
    --   },
    -- },
    -- grounddust2 = {
    --   air                = false,
    --   class              = [[CSimpleParticleSystem]],
    --   count              = 3,
    --   ground             = true,
    --   water              = true,
    --   underwater         = true,
    --   unit               = false,
    --   properties = {
    --     airdrag            = 0.86,
    --     colormap           = [[0 0 0 0.01  0.25 0.25 0.5 0.1   0 0 0 0.0]],
    --     directional        = false,
    --     emitrot            = 75,
    --     emitrotspread      = -2,
    --     emitvector         = [[0, 1, 0]],
    --     gravity            = [[-0.03 r0.06, -0.02 r0.07, -0.03 r0.06]],
    --     numparticles       = 1,
    --     particlelife       = 60,
    --     particlelifespread = 40,
    --     particlesize       = 23,
    --     particlesizespread = 42,
    --     particlespeed      = 3.5,
    --     particlespeedspread = 3,
    --     rotParams          = [[-8 r16, -8 r16, -180 r360]],
    --     pos                = [[0, 100, 0]],
    --     sizegrowth         = 0.3,
    --     sizemod            = 1,
    --     texture            = [[dirt]],
    --     --alwaysvisible      = true,
    --   },
    -- },
    electricity = {
      air                = true,
      class              = [[CSimpleParticleSystem]],
      count              = 3,
      ground             = true,
      water              = true,
      underwater         = true,
      properties = {
        airdrag            = 0.85,
        --colormap           = [[0 0 0 0.0	 1 1 1 0.04	 0 0 0 0.0 	 0 0 0 0.0   1 1 1 0.04	 0 0 0 0.12   0 0 0 0.0   0 0 0 0.0   1 1 1 0.03   0 0 0 0.0   0 0 0 0.0 	 0 0 0 0.0   1 1 1 0.025	 0 0 0 0.0  0 0 0 0.0   0 0 0 0.0  	 0 0 0 0.0  1 1 1 0.025	 0 0 0 0.0  0 0 0 0.0    0 0 0 0.0  1 1 1 0.02	  0 0 0 0.0   0 0 0 0.0    0 0 0 0.0	  1 1 1 0.015	 0 0 0 0.0   0 0 0 0.0   0 0 0 0.0   0 0 0 0.0    0 0 0 0.0  	 0 0 0 0.0   1 1 1 0.012  0 0 0 0.0  ]],
        colormap           = [[0 0 0 0.0	 1 1 1 0.04	 0 0 0 0.0 	 0 0 0 0.0   1 1 1 0.04	 0 0 0 0.12   0 0 0 0.0]],
        directional        = true,
        emitrot            = 90,
        emitrotspread      = -30,
        emitvector         = [[0, 1.15, 0]],
        gravity            = [[0, 0.1, 0]],
        numparticles       = 1,
        particlelife       = 6,
        particlelifespread = 24,
        particlesize       = 8,
        particlesizespread = 24,
        particlespeed      = 1,
        particlespeedspread = 10,
        rotParams          = [[-180 r360, 0, 0]],
        pos                = [[0, 1, 0]],
        sizegrowth         = 0.24,
        sizemod            = 1.02,
        texture            = [[lightninginair]],
        drawOrder          = 2,
      },
    },
    outerflash = {
      air                = true,
      class              = [[CHeatCloudProjectile]],
      count              = 1,
      ground             = true,
      water              = true,
      underwater         = true,
      properties = {
        heat               = 10,
        heatfalloff        = 1.8,
        maxheat            = 20,
        pos                = [[r-2 r2, 5, r-2 r2]],
        rotParams          = [[-250 r500, -80 r160, -180 r360]],
        size               = 16.5,
        sizegrowth         = 17,
        speed              = [[0, 1 0, 0]],
        texture            = [[brightblueexplo]],
        drawOrder          = 2,
      },
    },
  },

  ["genericshellexplosion-large-lightning-thor"] = {
    blueelectricityspikes = {
      air                = true,
      class              = [[CSimpleParticleSystem]],
      count              = 1,
      ground             = true,
      water              = true,
      underwater         = true,
      properties = {
        airdrag            = 0.75,
        colormap           = [[0.7 0.7 0.9 0.03   0.5 0.5 0.9 0.01]],
        directional        = false,
        emitrot            = 45,
        emitrotspread      = 32,
        emitvector         = [[0, 1, 0]],
        gravity            = [[0, 0.01, 0]],
        numparticles       = [[0.7 r1]],
        particlelife       = 10,
        particlelifespread = 6,
        particlesize       = 6,
        particlesizespread = 24,
        particlespeed      = 0,
        particlespeedspread = 14,
        rotParams          = [[-20 r40, -1 r2, -180 r360]],
        pos                = [[-5 r10, 4, -5 r10]],
        sizegrowth         = 0.9,
        sizemod            = 1,
        texture            = [[lightninginair]],
        useairlos          = false,
      },
    },
    centerflare = {
      air                = true,
      class              = [[CHeatCloudProjectile]],
      count              = 1,
      ground             = true,
      water              = true,
      underwater         = true,
      properties = {
        heat               = 7,
        heatfalloff        = 1.3,
        maxheat            = 10,
        pos                = [[-20 r40, -16 r32, -20 r40]],
        size               = [[1 r5]],
        sizegrowth         = 14,
        speed              = [[0, 4, 0]],
        texture            = [[bluenovaexplo]],
        drawOrder          = 1,
      },
    },
    sparks = {
      air                = true,
      class              = [[CSimpleParticleSystem]],
      count              = 1,
      ground             = true,
      water              = true,
    underwater         = true,
      properties = {
        airdrag            = 0.84,
        colormap           = [[0.6 0.6 1 0.032   0.6 0.6 1 0.020   0 0 0 0.01]],
        directional        = true,
        emitrot            = 30,
        emitrotspread      = 40,
        emitvector         = [[0, 1, 0]],
        gravity            = [[0, 0, 0]],
        numparticles       = [[0.5 r0.8]],
        particlelife       = 5,
        particlelifespread = 6,
        particlesize       = 24,
        particlesizespread = 20,
        particlespeed      = 25,
        particlespeedspread = 8,
        pos                = [[0, 4, 0]],
        sizegrowth         = 1,
        sizemod            = 0.95,
        texture            = [[laser]],
        useairlos          = false,
        drawOrder          = 2,
      },
    },
    -- electricstorm = {
    --   air                = true,
    --   class              = [[CExpGenSpawner]],
    --   count              = 1,
    --   ground             = true,
    --   water              = true,
    --   underwater         = true,
    --   properties = {
    --     delay              = [[10 r40]],
    --     explosiongenerator = [[custom:lightning_storm_emp]],
    --     pos                = [[-60 r120, 20, -60 r120]],
    --   },
    -- },
    shockwave = {
      air                = true,
      class              = [[CBitmapMuzzleFlame]],
      count              = 0,
      ground             = true,
      underwater         = false,
      water              = true,
      properties = {
        colormap           = [[0 0 0 0   0.33 0.33 1 0.15   0.3 0.3 0.9 0.50  0.15 0.15 0.5 0.20   0.10 0.10 0.3 0.007    0.05 0.05 0.1 0.005    0.01 0.01 0.01 0.02]],
        dir                = [[0, 1, 0]],
        --gravity            = [[0.0, 0.1, 0.0]],
        frontoffset        = 0,
        fronttexture       = [[blastwave]],
        length             = 45,
        sidetexture        = [[none]],
        size               = 4.2,
        sizegrowth         = [[-24 r6]],
        ttl                = 6,
        pos                = [[0, 5, 0]],
        drawOrder          = 0,
      },
    },
    groundflash = {
      air                = true,
      flashalpha         = 0.06,
      flashsize          = 140,
      ground             = true,
      ttl                = 20,
      water              = true,
      underwater         = true,
      color = {
        [1]  = 0.12,
        [2]  = 0.4,
        [3]  = 1,
      },
    },
    -- shockwave = {
    --     class              = [[CSpherePartSpawner]],
    --         count              = 1,
    --         ground             = true,
    --         water              = true,
    --         underwater         = true,
    --         air                = true,
    --         properties = {
    --             alpha           = 0.3,
    --             ttl             = 8,
    --             expansionSpeed  = 9,
    --             color           = [[0.6, 0.60, 1]],
    --             --alwaysvisible      = true,
    --         },
    -- },
    -- grounddust = {
    --   air                = false,
    --   class              = [[CSimpleParticleSystem]],
    --   count              = 1,
    --   ground             = true,
    --   water              = true,
    --   underwater         = true,
    --   unit               = false,
    --   properties = {
    --     airdrag            = 0.86,
    --     colormap           = [[0.25 0.25 0.5 0.1   0 0 0 0.0]],
    --     directional        = false,
    --     emitrot            = 90,
    --     emitrotspread      = -2,
    --     emitvector         = [[0, 1, 0]],
    --     gravity            = [[-0.03 r0.06, -0.03 r0.06, -0.03 r0.06]],
    --     numparticles       = [[0.3 r0.8]],
    --     particlelife       = 30,
    --     particlelifespread = 20,
    --     particlesize       = 26,
    --     particlesizespread = 26,
    --     particlespeed      = 6.7,
    --     particlespeedspread = 4,
    --     rotParams          = [[-4 r8, -1 r2, -180 r360]],
    --     pos                = [[0, 100, 0]],
    --     sizegrowth         = 0.3,
    --     sizemod            = 1,
    --     texture            = [[smoke_puff]],
    --     --alwaysvisible      = true,
    --   },
    -- },
    -- grounddust2 = {
    --   air                = false,
    --   class              = [[CSimpleParticleSystem]],
    --   count              = 1,
    --   ground             = true,
    --   water              = true,
    --   underwater         = true,
    --   unit               = false,
    --   properties = {
    --     airdrag            = 0.86,
    --     colormap           = [[0 0 0 0.01  0.25 0.25 0.5 0.1   0 0 0 0.0]],
    --     directional        = false,
    --     emitrot            = 75,
    --     emitrotspread      = -2,
    --     emitvector         = [[0, 1, 0]],
    --     gravity            = [[-0.03 r0.06, -0.02 r0.07, -0.03 r0.06]],
    --     numparticles       = 1,
    --     particlelife       = 40,
    --     particlelifespread = 20,
    --     particlesize       = 20,
    --     particlesizespread = 30,
    --     particlespeed      = 6.7,
    --     particlespeedspread = 4,
    --     rotParams          = [[-8 r16, -8 r16, -180 r360]],
    --     pos                = [[0, 100, 0]],
    --     sizegrowth         = 0.3,
    --     sizemod            = 1,
    --     texture            = [[dirt]],
    --     --alwaysvisible      = true,
    --   },
    -- },
    electricity = {
      air                = true,
      class              = [[CSimpleParticleSystem]],
      count              = 1,
      ground             = true,
      water              = true,
      underwater         = true,
      properties = {
        airdrag            = 0.85,
        colormap           = [[0 0 0 0.0   1 1 1 0.04  0 0 0 0.0   0 0 0 0.0   1 1 1 0.04  0 0 0 0.12   0 0 0 0.0   0 0 0 0.0   1 1 1 0.03   0 0 0 0.0   0 0 0 0.0   0 0 0 0.0   1 1 1 0.025   0 0 0 0.0  0 0 0 0.0   0 0 0 0.0    0 0 0 0.0  1 1 1 0.025  0 0 0 0.0  0 0 0 0.0    0 0 0 0.0  1 1 1 0.02    0 0 0 0.0   1 1 1 0.015  0 0 0 0.0]],
        directional        = true,
        emitrot            = 90,
        emitrotspread      = 30,
        emitvector         = [[0, 1.15, 0]],
        gravity            = [[0, 0.15, 0]],
        numparticles       = [[0.5 r0.8]],
        particlelife       = 4,
        particlelifespread = 18,
        particlesize       = 6,
        particlesizespread = 20,
        particlespeed      = 0,
        particlespeedspread = 10,
        rotParams          = [[-50 r100, 0, -180 r360]],
        pos                = [[0, 1, 0]],
        sizegrowth         = [[0.06 r0.2]],
        sizemod            = 1.0,
        texture            = [[lightninginair]],
        drawOrder          = 2,
      },
    },
    outerflash = {
      air                = true,
      class              = [[CHeatCloudProjectile]],
      count              = 0,
      ground             = true,
      water              = true,
      underwater         = true,
      properties = {
        heat               = 6,
        heatfalloff        = 2,
        maxheat            = 10,
        pos                = [[r-4 r4, 5, r-4 r4]],
        size               = 1,
        sizegrowth         = 8,
        speed              = [[0, 1 0, 0]],
        texture            = [[brightblueexplo]],
      },
    },
  },

["heatcloud-rot"] = {
    centerflare = {
      air                = true,
      class              = [[CHeatCloudProjectile]],
      count              = 1,
      ground             = true,
      water              = true,
      underwater         = true,
      properties = {
        heat               = 19,
        heatfalloff        = 0.5,
        maxheat            = 20,
        pos                = [[r-2 r2, 5, r-2 r2]],
        rotParams          = [[-50 r100, -5 r10, -90 r180]],
        size               = [[4 r2]],
        sizegrowth         = [[4 r2]],
        speed              = [[0, 1, 0]],
        texture            = [[bluenovaexplo]],
        drawOrder          = 1,
      },
    },
},
  ["genericshellexplosion-huge-lightning"] = {
    blueelectricityspikes = {
      air                = true,
      class              = [[CSimpleParticleSystem]],
      count              = 1,
      ground             = true,
      water              = true,
      underwater         = true,
      properties = {
        airdrag            = 0.7,
        colormap           = [[0.7 0.7 0.9 0.03   0.5 0.5 0.9 0.01]],
        directional        = true,
        emitrot            = 45,
        emitrotspread      = 32,
        emitvector         = [[0, 1, 0]],
        gravity            = [[0, -0.01, 0]],
        numparticles       = 20,
        particlelife       = 8,
        particlelifespread = 4,
        particlesize       = 8,
        particlesizespread = 12,
        particlespeed      = 0,
        particlespeedspread = 13,
        pos                = [[0, 2, 0]],
        sizegrowth         = 0.7,
        sizemod            = 1,
        texture            = [[lightninginair]],
        useairlos          = false,
        drawOrder          = 1,
      },
    },
    centerflare = {
      air                = true,
      class              = [[CHeatCloudProjectile]],
      count              = 1,
      ground             = true,
      water              = true,
      underwater         = true,
      properties = {
        heat               = 19,
        heatfalloff        = 1.1,
        maxheat            = 20,
        pos                = [[r-2 r2, 5, r-2 r2]],
        rotParams          = [[-125 r250, -10 r15, -180 r360]],
        size               = 5,
        sizegrowth         = 15,
        speed              = [[0, 3, 0]],
        texture            = [[bluenovaexplo]],
        drawOrder          = 1,
      },
    },
    sparks = {
      air                = true,
      class              = [[CSimpleParticleSystem]],
      count              = 1,
      ground             = true,
      water              = true,
    underwater         = true,
      properties = {
        airdrag            = 0.81,
        colormap           = [[0.6 0.6 1 0.017   0.6 0.6 1 0.015   0 0 0 0]],
        directional        = true,
        emitrot            = 30,
        emitrotspread      = 40,
        emitvector         = [[0, 1, 0]],
        gravity            = [[0, -0.05, 0]],
        numparticles       = 10,
        particlelife       = 8,
        particlelifespread = 9,
        particlesize       = 30,
        particlesizespread = 28,
        particlespeed      = 15,
        particlespeedspread = 15,
        pos                = [[0, 4, 0]],
        sizegrowth         = 1,
        sizemod            = 0.78,
        texture            = [[laser]],
        useairlos          = false,
        drawOrder          = 2,
      },
    },
    electricstorm = {
      air                = true,
      class              = [[CExpGenSpawner]],
      count              = 8,
      ground             = true,
      water              = true,
      underwater         = true,
      properties = {
        delay              = [[10 r100]],
        explosiongenerator = [[custom:lightning_storm_emp]],
        pos                = [[-50 r120, 20, -50 r120]],
      },
    },

    -- groundflash = {
    --   air                = true,
    --   flashalpha         = 0.13,
    --   flashsize          = 180,
    --   ground             = true,
    --   ttl                = 220,
    --   water              = true,
    --   underwater         = true,
    --   color = {
    --     [1]  = 0,
    --     [2]  = 0.4,
    --     [3]  = 1,
    --   },
    -- },
    -- shockwave = {
    --     class              = [[CSpherePartSpawner]],
    --         count              = 1,
    --         ground             = true,
    --         water              = true,
    --         underwater         = true,
    --         air                = true,
    --         properties = {
    --             alpha           = 0.4,
    --             ttl             = 9,
    --             expansionSpeed  = 14,
    --             color           = [[0.6, 0.6, 1]],
    --             --alwaysvisible      = true,
    --         },
    -- },
    -- grounddust-old = {
    --   air                = false,
    --   class              = [[CSimpleParticleSystem]],
    --   count              = 4,
    --   ground             = true,
    --   water              = true,
    --   underwater         = true,
    --   unit               = false,
    --   properties = {
    --     airdrag            = 0.88,
    --     colormap           = [[0.2 0.2 0.5 0.1   0 0 0 0.0]],
    --     directional        = false,
    --     emitrot            = 90,
    --     emitrotspread      = -2,
    --     emitvector         = [[0, 1, 0]],
    --     gravity            = [[0, 0.01 r0.02, 0]],
    --     numparticles       = 2,
    --     particlelife       = 180,
    --     particlelifespread = 60,
    --     particlesize       = 32,
    --     particlesizespread = 52,
    --     particlespeed      = 5,
    --     particlespeedspread = 9,
    --     rotParams          = [[-4 r8, -1 r2, -180 r360]],
    --     pos                = [[0, 100, 0]],
    --     sizegrowth         = 0.2,
    --     sizemod            = 1,
    --     texture            = [[smoke_puff]],
    --     --alwaysvisible      = true,
    --     drawOrder          = 1,
    --   },
    -- },
    grounddust = {
      air                = false,
      class              = [[CSimpleParticleSystem]],
      count              = 3,
      ground             = true,
      water              = true,
      underwater         = true,
      unit               = false,
      properties = {
        airdrag            = 0.88,
        colormap           = [[0.2 0.2 0.5 0.1   0 0 0 0.0]],
        directional        = false,
        emitrot            = 90,
        emitrotspread      = -2,
        emitvector         = [[0, 1, 0]],
        gravity            = [[0, 0.01 r0.02, 0]],
        numparticles       = 1,
        particlelife       = 60,
        particlelifespread = 60,
        particlesize       = 64,
        particlesizespread = 130,
        particlespeed      = 2,
        particlespeedspread = 4,
        pos                = [[0, 100, 0]],
        sizegrowth         = 0.2,
        sizemod            = 1,
        texture            = [[smoke-anim]],
        animParams         = [[8,6,90 r30]],
        rotParams          = [[-4 r8, -10 r20, -180 r360]],
        --alwaysvisible      = true,
        drawOrder          = 1,
      },
    },
    grounddust2 = {
      air                = false,
      class              = [[CSimpleParticleSystem]],
      count              = 6,
      ground             = true,
      water              = true,
      underwater         = true,
      unit               = false,
      properties = {
        airdrag            = 0.88,
        colormap           = [[0 0 0 0.01  0.17 0.17 0.35 0.1   0 0 0 0.0]],
        directional        = false,
        emitrot            = 60,
        emitrotspread      = -2,
        emitvector         = [[0, 1, 0]],
        gravity            = [[0, 0.01 r0.02, 0]],
        numparticles       = 1,
        particlelife       = 70,
        particlelifespread = 90,
        particlesize       = 32,
        particlesizespread = 58,
        particlespeed      = 3.5,
        particlespeedspread = 6,
        rotParams          = [[-6 r12, -6 r12, -180 r360]],
        pos                = [[0, 100, 0]],
        sizegrowth         = 0.2,
        sizemod            = 1,
        texture            = [[dirt]],
        --alwaysvisible      = true,
      },
    },
    shockwave = {
      air                = true,
      class              = [[CBitmapMuzzleFlame]],
      count              = 1,
      ground             = true,
      underwater         = false,
      water              = true,
      properties = {
        colormap           = [[0 0 0 0   0.45 0.45 0.95 0.18   0.4 0.4 0.98 0.35  0.25 0.25 0.7 0.25   0.10 0.10 0.3 0.007    0.05 0.05 0.1 0.004    0.01 0.01 0.01 0.02]],
        dir                = [[0, 1, 0]],
        --gravity            = [[0.0, 0.1, 0.0]],
        frontoffset        = 0,
        fronttexture       = [[explosionwave]],
        length             = 45,
        sidetexture        = [[none]],
        size               = 20.2,
        sizegrowth         = [[-10 r1.5]],
        ttl                = 21,
        pos                = [[0, 5, 0]],
        drawOrder          = 0,
      },
    },
    electricity = {
      air                = true,
      class              = [[CSimpleParticleSystem]],
      count              = 1,
      ground             = true,
      water              = true,
      underwater         = true,
      properties = {
        airdrag            = 0.85,
        colormap           = [[0 0 0 0.0   1 1 1 0.04  0 0 0 0.0   0 0 0 0.0   1 1 1 0.04  0 0 0 0.12   0 0 0 0.0   0 0 0 0.0   1 1 1 0.03   0 0 0 0.0   0 0 0 0.0   0 0 0 0.0   1 1 1 0.025   0 0 0 0.0  0 0 0 0.0   0 0 0 0.0    0 0 0 0.0  1 1 1 0.025  0 0 0 0.0  0 0 0 0.0    0 0 0 0.0  1 1 1 0.02    0 0 0 0.0   0 0 0 0.0    0 0 0 0.0    1 1 1 0.015  0 0 0 0.0   0 0 0 0.0   0 0 0 0.0   0 0 0 0.0    0 0 0 0.0    0 0 0 0.0   1 1 1 0.012  0 0 0 0.0  ]],
        directional        = true,
        emitrot            = 90,
        emitrotspread      = -30,
        emitvector         = [[0, 1.15, 0]],
        gravity            = [[0, 0.05, 0]],
        numparticles       = 10,
        particlelife       = 4,
        particlelifespread = 30,
        particlesize       = 2,
        particlesizespread = 6,
        particlespeed      = 0,
        particlespeedspread = 10,
        rotParams          = [[-4 r8, -1 r2, -180 r360]],
        pos                = [[0, 1, 0]],
        sizegrowth         = -0.16,
        sizemod            = 1.0,
        texture            = [[whitelightb]],
        drawOrder          = 1,
      },
    },
    outerflash = {
      air                = true,
      class              = [[CHeatCloudProjectile]],
      count              = 3,
      ground             = true,
      water              = true,
      underwater         = true,
      properties = {
        heat               = 10,
        heatfalloff        = 1.7,
        maxheat            = 20,
        pos                = [[r-2 r2, 5, r-2 r2]],
        size               = 8.2,
        sizegrowth         = 20,
        speed              = [[0, 1 0, 0]],
        texture            = [[brightblueexplo]],
        drawOrder          = 2,
      },
    },
  },


  ["genericshellexplosion-splash-lightning"] = {
    centerflare = {
      air                = true,
      class              = [[CHeatCloudProjectile]],
      count              = 1,
      ground             = true,
      water              = true,
      underwater         = true,
      properties = {
        heat               = 7,
        heatfalloff        = 1.6,
        maxheat            = 15,
        pos                = [[r-2 r3, 0, r-2 r3]],
        size               = 1.6,
        sizegrowth         = 4,
        speed              = [[0, 1 0, 0]],
        texture            = [[whitelightb]],
      },
    },
    -- groundflash_large = {
    --   class              = [[CSimpleGroundFlash]],
    --   count              = 1,
    --   air                = true,
    --   ground             = true,
    --   water              = true,
    --   underwater         = true,
    --   properties = {
    --     colormap           = [[0 0.36 0.9 1   0 0 0 0.01]],
    --     size               = 24,
    --     sizegrowth         = -1,
    --     ttl                = 8,
    --     texture            = [[whitelightb]],
    --   },
    -- },
    groundflash = {
      air                = true,
      flashalpha         = 0.08,
      flashsize          = 32,
      ground             = true,
      ttl                = 12,
      water              = true,
      underwater         = true,
      properties = {
        texture            = [[whitelightb]],
      },
      color = {
        [1]  = 0,
        [2]  = 0.3,
        [3]  = 0.9,
      },
    },
    electricity = {
      air                = true,
      class              = [[CSimpleParticleSystem]],
      count              = 1,
      ground             = true,
      water              = true,
      underwater         = true,
      properties = {
        airdrag            = 0.89,
        colormap           = [[0 0 0 0.0	 1 1 1 0.04	 0 0 0 0.0    0 0 0 0.0   0.9 0.9 0.9 0.038 	 0 0 0 0.0   0.8 0.8 0.8 0.035	 0 0 0 0.0  ]],
        directional        = false,
        emitrot            = 90,
        emitrotspread      = 5,
        emitvector         = [[0, 1.0, 0]],
        gravity            = [[0, -0.05, 0]],
        numparticles       = 1,
        particlelife       = 3,
        particlelifespread = 10,
        particlesize       = 2,
        particlesizespread = 6,
        particlespeed      = 1.6,
        particlespeedspread = 1.5,
        rotParams          = [[-10 r20, 0, -180 r360]],
        pos                = [[0, 12 r30, 0]],
        sizegrowth         = 0.3,
        sizemod            = 1.0,
        texture            = [[lightninginair]],
      },
    },
    sparks = {
      air                = true,
      class              = [[CSimpleParticleSystem]],
      count              = 1,
      ground             = true,
      water              = true,
      underwater         = true,
      properties = {
        airdrag            = 0.82,
        colormap           = [[0.8 0.9 1 0.02   0.6 0.7 0.9 0.01   0 0 0 0]],
        directional        = true,
        emitrot            = 45,
        emitrotspread      = 32,
        emitvector         = [[0, 1, 0]],
        gravity            = [[0, 0, 0]],
        numparticles       = [[0.4 r0.9]],
        particlelife       = 1,
        particlelifespread = 5,
        particlesize       = 11,
        particlesizespread = 22,
        particlespeed      = 11,
        particlespeedspread = 3,
        pos                = [[0, 5, 0]],
        sizegrowth         = -0.04,
        sizemod            = 0.9,
        texture            = [[flare2]],
        useairlos          = false,
      },
    },
    -- outerflash = {
    --   air                = true,
    --   class              = [[CHeatCloudProjectile]],
    --   count              = 1,
    --   ground             = true,
    --   water              = true,
    --   underwater         = true,
    --   properties = {
    --     heat               = 10,
    --     heatfalloff        = 1.7,
    --     maxheat            = 12,
    --     pos                = [[r-2 r2, 5, r-2 r2]],
    --     size               = 0.8,
    --     sizegrowth         = 5.5,
    --     speed              = [[0, 1 0, 0]],
    --     texture            = [[brightblueexplo]],
    --   },
    -- },
  },

  ["genericshellexplosion-splash-large-lightning"] = {
    centerflare = {
      air                = true,
      class              = [[CHeatCloudProjectile]],
      count              = 1,
      ground             = true,
      water              = true,
      underwater         = true,
      properties = {
        heat               = 7,
        heatfalloff        = 1.6,
        maxheat            = 15,
        pos                = [[r-2 r3, 0, r-2 r3]],
        size               = 1.8,
        sizegrowth         = 4,
        speed              = [[0, 1 0, 0]],
        texture            = [[flare]],
      },
    },
    -- groundflash_large = {
    --   class              = [[CSimpleGroundFlash]],
    --   count              = 1,
    --   air                = true,
    --   ground             = true,
    --   water              = true,
    --   underwater         = true,
    --   properties = {
    --     colormap           = [[0 0.36 0.9 1   0 0 0 0.01]],
    --     size               = 24,
    --     sizegrowth         = -1,
    --     ttl                = 8,
    --     texture            = [[whitelightb]],
    --   },
    -- },
    groundflash = {
      air                = true,
      flashalpha         = 0.08,
      flashsize          = 48,
      ground             = true,
      ttl                = 12,
      water              = true,
      underwater         = true,
      properties = {
        texture            = [[whitelightb]],
      },
      color = {
        [1]  = 0,
        [2]  = 0.3,
        [3]  = 0.9,
      },
    },
    electricity = {
      air                = true,
      class              = [[CSimpleParticleSystem]],
      count              = 1,
      ground             = true,
      water              = true,
      underwater         = true,
      properties = {
        airdrag            = 0.89,
        colormap           = [[0 0 0 0.0   1 1 1 0.04  0 0 0 0.0   0 0 0 0.0   1 1 1 0.04  0 0 0 0.0  ]],
        directional        = false,
        emitrot            = 90,
        emitrotspread      = 5,
        emitvector         = [[0, 1.0, 0]],
        gravity            = [[0, -0.1, 0]],
        numparticles       = 1,
        particlelife       = 5,
        particlelifespread = 12,
        particlesize       = 11,
        particlesizespread = 16,
        particlespeed      = 1.8,
        particlespeedspread = 1.5,
        rotParams          = [[-10 r20, 0, -180 r360]],
        pos                = [[0, 120 r30, 0]],
        sizegrowth         = 0.4,
        sizemod            = 0.99,
        texture            = [[lightning]],
      },
    },
    sparks = {
      air                = true,
      class              = [[CSimpleParticleSystem]],
      count              = 1,
      ground             = true,
      water              = true,
      underwater         = true,
      properties = {
        airdrag            = 0.82,
        colormap           = [[0.8 0.9 1 0.02   0.6 0.7 0.9 0.01   0 0 0 0]],
        directional        = true,
        emitrot            = 45,
        emitrotspread      = 32,
        emitvector         = [[0, 1, 0]],
        gravity            = [[0, 0, 0]],
        numparticles       = [[0.4 r0.9]],
        particlelife       = 4,
        particlelifespread = 5,
        particlesize       = 13,
        particlesizespread = 25,
        particlespeed      = 12,
        particlespeedspread = 4,
        pos                = [[0, 5, 0]],
        sizegrowth         = -0.04,
        sizemod            = 0.9,
        texture            = [[flare2]],
        useairlos          = false,
      },
    },
    -- outerflash = {
    --   air                = true,
    --   class              = [[CHeatCloudProjectile]],
    --   count              = 1,
    --   ground             = true,
    --   water              = true,
    --   underwater         = true,
    --   properties = {
    --     heat               = 10,
    --     heatfalloff        = 1.7,
    --     maxheat            = 12,
    --     pos                = [[r-2 r2, 5, r-2 r2]],
    --     size               = 0.8,
    --     sizegrowth         = 5.5,
    --     speed              = [[0, 1 0, 0]],
    --     texture            = [[brightblueexplo]],
    --   },
    -- },
  },




  ["juno_stormbolt"] = {
    groundflash = {
      circlealpha        = 1,
      circlegrowth       = 0,
      flashalpha         = 0.12,
      flashsize          = 40,
      ttl                = 3,
      color = {
        [1]  = 0.66,
        [2]  = 0.66,
        [3]  = 1,
      },
    },
    lightningballs = {
      air                = true,
      class              = [[CSimpleParticleSystem]],
      count              = 1,
      ground             = true,
      water              = true,
      underwater		 = true,
      properties = {
        airdrag            = 1,
        colormap           = [[0 0 0 0.01   0.66 1 0.5 0.01   0 0 0 0.01]],
        directional        = true,
        emitrot            = 80,
        emitrotspread      = 0,
        emitvector         = [[0, 1, 0]],
        gravity            = [[0, 0, 0]],
        numparticles       = 1,
        particlelife       = 3,
        particlelifespread = 0,
        particlesize       = 1.8,
        particlesizespread = 7.5,
        particlespeed      = 0.01,
        particlespeedspread = 0,
        pos                = [[-10 r10, 1.0, -10 r10]],
        sizegrowth         = 0,
        sizemod            = 1.0,
        texture            = [[lightbw]],
      },
    },
  },
  ["genericshellexplosion-juno-lightning"] = {
    centerflare = {
      air                = true,
      class              = [[CHeatCloudProjectile]],
      count              = 1,
      ground             = true,
      water              = true,
      underwater         = true,
      properties = {
        heat               = 11,
        heatfalloff        = 1.25,
        maxheat            = 22,
        pos                = [[r-2 r2, 5, r-2 r2]],
        size               = 1,
        sizegrowth         = 15,
        speed              = [[0, 1 0, 0]],
        texture            = [[flare]],
      },
    },
    electricstorm = {
      air                = true,
      class              = [[CExpGenSpawner]],
      count              = 33,
      ground             = true,
      water              = true,
      underwater         = true,
      properties = {
        delay              = [[20 r1000]],
        explosiongenerator = [[custom:juno_stormbolt]],
        pos                = [[-500 r1000, 1, -500 r1000]],
      },
    },
    groundflash = {
      air                = true,
      flashalpha         = 0.28,
      flashsize          = [[330]],
      ground             = true,
      ttl                = 200,
      water              = true,
      underwater         = true,
      alwaysVisible=1,
      color = {
        [1]  = 0.4,
        [2]  = 1,
        [3]  = 0.2,
      },
    },
    electricity = {
      air                = true,
      class              = [[CSimpleParticleSystem]],
      count              = 1,
      ground             = true,
      water              = true,
      underwater         = true,
      properties = {
        airdrag            = 0.85,
        colormap           = [[0 0 0 0.0	 0.66 1 0.5 0.04	 0 0 0 0.0 	 0 0 0 0.0   0.66 1 0.5 0.0     0 0 0 0.0 	 0 0 0 0.0   0.66 1 0.5 0.025	 0 0 0 0.0   0 0 0 0.0	 0.66 1 0.5 0.04    0 0 0 0.0 	 0 0 0 0.0   0.66 1 0.5 0.04    0 0 0 0.12   0 0 0 0.0   0 0 0 0.0   0.66 1 0.5 0.03   0 0 0 0.0   0 0 0 0.0 	 0 0 0 0.0   0.66 1 0.5 0.025	 0 0 0 0.0  0 0 0 0.0   0 0 0 0.0  	 0 0 0 0.0  0.66 1 0.5 0.025	 0 0 0 0.0  0 0 0 0.0    0 0 0 0.0  0.66 1 0.5 0.02	  0 0 0 0.0   0 0 0 0.0    0 0 0 0.0	  0.66 1 0.5 0.015	 0 0 0 0.0   0 0 0 0.0   0 0 0 0.0   0 0 0 0.0    0 0 0 0.0  	 0 0 0 0.0   0.66 1 0.5 0.012  0 0 0 0.0  ]],
        directional        = true,
        emitrot            = 90,
        emitrotspread      = -30,
        emitvector         = [[0, 1.15, 0]],
        gravity            = [[0, 0.05, 0]],
        numparticles       = 18,
        particlelife       = 15,
        particlelifespread = 75,
        particlesize       = 0.8,
        particlesizespread = 2.3,
        particlespeed      = 0,
        particlespeedspread = 34,
        pos                = [[0, 1, 0]],
        sizegrowth         = 0.11,
        sizemod            = 1.0,
        texture            = [[whitelightb]],
      },
    },
  },
}

-- add purple scavenger variants
local scavengerDefs = {}
for k,v in pairs(definitions) do
  scavengerDefs[k..'-purple'] = table.copy(definitions[k])
end

local purpleEffects = {
  blueelectricityspikes = {
    properties = {
      colormap = [[0.7 0.2 0.9 0.03   0.5 0.15 0.9 0.01]],
    },
  },
  groundflash = {
    color = {
      [1]  = 0.66,
      [2]  = 0.2,
      [3]  = 1,
    },
  },
  electricity = {
    properties = {
      colormap = [[0 0 0 0.0	 0.5 1 0.7 0.04	 0 0 0 0.0 	 0 0 0 0.0   0.5 0. 0.7 0.0     0 0 0 0.0 	 0 0 0 0.0   0.66 0.3 1 0.025	 0 0 0 0.0   0 0 0 0.0	 0.66 0.2 1 0.04    0 0 0 0.0 	 0 0 0 0.0   0.66 0.25 1 0.04    0 0 0 0.12   0 0 0 0.0   0 0 0 0.0   0.66 0.2 1 0.03   0 0 0 0.0   0 0 0 0.0 	 0 0 0 0.0   0.66 0.4 1 0.025	 0 0 0 0.0  0 0 0 0.0   0 0 0 0.0  	 0 0 0 0.0  0.6 0.5 1 0.025	 0 0 0 0.0  0 0 0 0.0    0 0 0 0.0  0.66 0.25 1 0.02	  0 0 0 0.0   0 0 0 0.0    0 0 0 0.0	  0.66 0.15 1 0.015	 0 0 0 0.0   0 0 0 0.0   0 0 0 0.0   0 0 0 0.0    0 0 0 0.0  	 0 0 0 0.0   0.66 0.2 1 0.012  0 0 0 0.0  ]],
    },
  },
  lightningballs = {
    properties = {
      colormap = [[0 0 0 0.01   0.66 0.33 1 0.01   0 0 0 0.01]],
    },
  },

}
for defName, def in pairs(scavengerDefs) do
  for effect, effectParams in pairs(purpleEffects) do
    if scavengerDefs[defName][effect] then
      for param, paramValue in pairs(effectParams) do
        if scavengerDefs[defName][effect][param] then
          if param == 'properties' then
            for property,propertyValue in pairs(paramValue) do
              if scavengerDefs[defName][effect][param][property] then
                scavengerDefs[defName][effect][param][property] = propertyValue
              end
            end
          else
            scavengerDefs[defName][effect][param] = paramValue
          end
        end
      end
    end
  end
end

table.mergeInPlace(definitions, scavengerDefs)

return definitions
