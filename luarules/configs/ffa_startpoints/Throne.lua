

local startpoints = {
	[1] = {
		x=1524,
		z=2777,
	},
	[2] = {
		x=11354,
		z=6660,
	},

	[3] = {
		x=4473,
		z=11133,
	},

	[4] = {
		x=5210,
		z=909,
	},

	[5] = {
		x=8995,
		z=10887,
	},

	[6] = {
		x=836,
		z=7791,
	},

	[7] = {
		x=10076,
		z=2089,
	},

	[8] = {
		x=4473,
		z=8970,
	},

	[9] = {
		x=5603,
		z=2286,
	},

	[10] = {
		x=8552,
		z=8184,
	},

	[11] = {
		x=2605,
		z=4891,
	},

	[12] = {
		x=9339,
		z=4301,
	},

	[13] = {
		x=4080,
		z=5726,
	},

	[14] = {
		x=6930,
		z=3908,
	},

	[15] = {
		x=7176,
		z=7348,
	},

	[16] = {
		x=6095,
		z=5579,
	},
}


local ffaStartPointsAll = { --ffaStartPointsAll[#allyteams][id] = {table of keys of startpoints table}
	[1] = {
		{1},{2},{3},{4},{5},{6},{7},{8},{9},{10},{11},{12},{13},{14},{15},{16},
	},
	
	[2] = {
		{1,2},
		{1,5},
		{4,3},
		{4,5},
		{7,6},
		{7,3},
		{2,6},
		{2,1},
		{2,3},
		{2,4},
		{1,7},
		{1,3},
		{5,6},
		{9,8},
		{9,10},
		{10,11},
		{11,12},
		{8,12},
		{1,6},
		{7,2},
		{3,5},
		{4,7},
	},

	[3] = {
		{4,2,6},
		{4,5,6},
		{7,5,6},
		{2,3,1},
		{2,6,4},
		{7,3,1},
		{13,14,15},
	},

	[4] = {
		{1,2,3,4},
		{1,7,3,6},
		{6,3,4,2},
		{1,5,6,7},
		{3,4,11,12},
		{4,5,11,12},
		{1,2,3,16},
		{6,10,16,4},
	},
	
	[5] = {
		{1,2,3,4,5},
		{1,3,6,7,8},
		{1,6,7,2,5},
		{3,6,4,7,2},
		{8,9,10,11,12},
		{4,11,12,3,5},
		{6,9,10,7,2},
	},
	
	[6] = {
		{2,3,4,5,6,7},
		{1,2,4,5,6,7},
		{1,2,3,5,6,7},
		{1,2,3,4,6,7},
		{1,2,3,4,5,7},
		{1,2,3,4,5,6},
		{1,2,3,8,9,10},
		{4,5,6,8,9,10},
	},
	
	[7] = {
		{1,2,3,4,5,6,7},
	},

	[8] = {
		{1,2,3,4,5,6,7,8},
		{1,2,3,4,5,6,7,9},
		{1,2,3,4,5,6,7,10},
		{1,2,3,4,9,10,11,12},
		{8,9,10,11,12,13,14,15},
		{4,3,5,6,7,9,12,8},
	},
	
	[9] = {
		{1,2,3,4,5,6,7,8,9},
		{1,2,3,4,5,6,7,9,10},
		{1,2,3,4,5,6,7,8,12},
		{1,2,3,4,5,6,7,10,11},
		{1,2,3,4,5,6,9,12,10},
		{1,2,4,5,8,9,10,11,12},
		{1,2,3,4,6,7,8,10,12},
		{2,4,5,6,8,11,12,16,14},
		{3,1,7,2,11,8,16,13,15},
	},
	
	[10] = {
		{1,2,3,4,5,6,7,8,9,10},
		{1,2,3,4,5,6,7,8,11,12},
		{1,2,3,4,5,6,7,9,10,11},
		{1,2,3,4,5,6,7,8,9,12},
		{1,2,3,4,5,6,7,10,11,12},
		{3,6,4,7,2,9,8,10,13,14},
		{5,6,7,8,9,10,13,14,15,16},
		{2,4,6,3,8,9,12,11,15,16},
	},
	
	[11] = {
		{1,2,3,4,5,6,7,8,9,10,11},
		{1,2,3,4,5,6,7,13,14,15,16},
		{1,7,3,5,9,10,11,12,13,14,15},
		{3,6,2,7,10,9,11,13,14,15,16},
		{1,2,3,4,5,6,8,9,10,11,12},
		{1,2,3,4,5,7,8,9,10,11,12},
		{1,2,3,4,6,7,8,9,10,11,12},
	},
	
	[12] = {
		{1,2,3,4,5,6,7,8,9,10,11,12},
	},
	
	[13] = {
		{1,2,3,4,5,6,7,8,9,10,11,12,13},
		{1,2,3,4,5,6,7,8,9,10,11,12,14},
		{1,2,3,4,5,6,7,8,9,10,11,12,15},
		{1,2,3,4,5,6,7,8,9,10,11,12,16},
		{1,3,4,5,6,7,8,9,10,12,13,14,16},
		{2,3,4,5,6,7,8,9,11,12,14,15,16},
		{1,2,3,5,6,7,9,10,11,12,13,15,16},
	},
	
	[14] = {
		{1,2,3,4,5,6,7,8,9,10,11,12,13,14},
		{1,2,3,4,5,6,7,8,9,10,11,12,13,15},
		{1,2,3,4,5,6,7,8,9,10,11,12,14,15},
		{1,2,3,4,5,6,7,8,9,10,11,12,13,16},
		{1,2,3,4,5,6,7,8,9,10,11,12,14,16},
		{1,2,3,4,5,6,7,8,9,10,11,12,15,16},
	},
	
	[15] = {
		{1,2,3,4,5,6,7,8,9,10,11,12,13,14,15},
		{1,2,3,4,5,6,7,8,9,10,11,12,13,14,16},
		{1,2,3,4,5,6,7,8,9,10,11,12,13,15,16},
		{1,2,3,4,5,6,7,8,9,10,11,12,14,15,16},
		{1,2,3,4,5,6,7,8,9,10,11,13,14,15,16},
		{1,2,3,4,5,6,7,8,9,10,12,13,14,15,16},
		{1,2,3,4,5,6,7,8,10,11,12,13,14,15,16},
		{1,2,3,4,5,6,7,9,10,11,12,13,14,15,16},
	},
	
	[16] = {
		{1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16},
	},
}

-- check that each of the above entries has the right length table
--[[
for i=1,16 do
	for j,v in pairs(ffaStartPointsAll[i]) do
		if #v ~= i then
			Spring.Echo("Error:", i,j)
		end
	end
end
]]

-- now construct (in global namespace) the ffa startpoints by randomly picking one element from each of the subtables of ffaStartPointsAll
-- and mapping that to a set of startpoints using the startpoints table
ffaStartPoints  = {}

for i=1,16 do
	local n = math.random(#(ffaStartPointsAll[i]))
	ffaStartPoints[i] = {}
	for j = 1,i do
		--Spring.Echo(i,n,j)
		local id = ffaStartPointsAll[i][n][j] 
		local sx = startpoints[id].x
		local sz = startpoints[id].z
		--Spring.Echo(sx,sz)
		ffaStartPoints[i][j] = {x=sx,z=sz} 
	end
end