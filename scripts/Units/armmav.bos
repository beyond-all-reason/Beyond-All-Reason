
#include "../recoil_common_includes.h"

piece  rflare, lflare, body, pelvis, rthigh, lthigh, rleg, head,
       luparm, ruparm, lloarm, rloarm, lleg, lhipgun, rhipgun, lholster, rhandgun, lhandgun,
       rholster, rfoot, lfoot, aimy1, aimx1;

static-var  ReadyToAim, gun_1, isMoving, isAiming, restore_delay, wpn1_lasthead, animSpeed, maxSpeed, 
			animFramesPerKeyframe;

// Signal definitions
#define SIGNAL_AIM1 256
#define SIGNAL_MOVE 1

#include "../opencloseanim.h"

lua_UnitScriptDecal(lightIndex, xpos,zpos, heading) 
{
	return 0;
}

Walk() {//Created by https://github.com/Beherith/Skeletor_S3O from C:\Users\ptasz\Documents\GitHub\support\Animation_sources\armmav_anim_walk.blend 
	//set-signal-mask SIGNAL_MOVE;
	if (isMoving) { //Frame:5
			turn lfoot to x-axis <-2.530919> speed <75.927574> / animSpeed; //delta=2.53 
			turn lfoot to y-axis <-0.860483> speed <25.814476> / animSpeed; //delta=-0.86 
			turn lleg to x-axis <7.005865> speed <210.175939> / animSpeed; //delta=-7.01 
			turn lthigh to x-axis <-4.191602> speed <125.748064> / animSpeed; //delta=4.19 
			turn lthigh to z-axis <-0.404988> speed <12.149641> / animSpeed; //delta=0.40 
			turn lthigh to y-axis <-0.170148> speed <5.104437> / animSpeed; //delta=-0.17 
			turn rfoot to x-axis <13.544923> speed <406.347676> / animSpeed; //delta=-13.54 
			turn rleg to x-axis <25.055087> speed <751.652619> / animSpeed; //delta=-25.06 
			turn rthigh to x-axis <-31.130749> speed <933.922467> / animSpeed; //delta=31.13 
			
			if (!isAiming) {
				turn rloarm to x-axis <-4.573658> speed <137.209732> / animSpeed; //delta=4.57 
				turn rloarm to z-axis <-1.688023> speed <50.640696> / animSpeed; //delta=1.69 
				turn rloarm to y-axis <1.147702> speed <34.431056> / animSpeed; //delta=1.15 
				turn ruparm to x-axis <20.169873> speed <605.096192> / animSpeed; //delta=-20.17 
				turn ruparm to z-axis <1.149265> speed <34.477944> / animSpeed; //delta=-1.15 
				turn ruparm to y-axis <-1.596893> speed <47.906787> / animSpeed; //delta=-1.60 
				turn rhandgun to x-axis <-0.253014> speed <7.590407> / animSpeed; //delta=0.25 
				turn luparm to x-axis <-20.082585> speed <602.477548> / animSpeed; //delta=20.08
				turn lloarm to x-axis <-4.016742> speed <120.502274> / animSpeed; //delta=4.02
				turn lhandgun to x-axis <5.553299> speed <166.598982> / animSpeed; //delta=-5.55
			}
		sleep ((33*animSpeed) -1);
	}
	while(isMoving) {
		if (isMoving) { //Frame:9
			turn body to x-axis <0.267404> speed <8.022119> / animSpeed; //delta=-0.27 
			turn body to z-axis <-2.0> speed <60.0> / animSpeed; //delta=2.00 
			turn body to y-axis <-9.0> speed <270.0> / animSpeed; //delta=-9.00 
			turn head to x-axis <2.500000> speed <74.999998> / animSpeed; //delta=-2.50 
			turn head to y-axis <2.500000> speed <74.999998> / animSpeed; //delta=2.50 
			turn lfoot to x-axis <-23.358820> speed <624.837028> / animSpeed; //delta=20.83 
			turn lfoot to z-axis <-3.466378> speed <102.953455> / animSpeed; //delta=3.43 
			turn lfoot to y-axis <-9.157037> speed <248.896620> / animSpeed; //delta=-8.30 
			turn lleg to x-axis <6.237536> speed <23.049852> / animSpeed; //delta=0.77 
			turn lthigh to x-axis <13.805222> speed <539.904721> / animSpeed; //delta=-18.00 
			turn lthigh to z-axis <-0.772921> speed <11.038002> / animSpeed; //delta=0.37 
			turn lthigh to y-axis <-0.020624> speed <4.485710> / animSpeed; //delta=0.15 
			move pelvis to y-axis [-1.0] speed [30.0] / animSpeed; //delta=-1.00 
			turn pelvis to x-axis <2.500000> speed <74.999998> / animSpeed; //delta=-2.50 
			turn pelvis to y-axis <3.500000> speed <104.999994> / animSpeed; //delta=3.50 
			turn rfoot to x-axis <33.259398> speed <591.434259> / animSpeed; //delta=-19.71 
			turn rfoot to z-axis <3.608300> speed <108.248992> / animSpeed; //delta=-3.61 
			turn rfoot to y-axis <-2.416032> speed <72.480964> / animSpeed; //delta=-2.42 
			turn rleg to x-axis <-35.156370> speed <1806.343725> / animSpeed; //delta=60.21 
			turn rthigh to x-axis <-25.282454> speed <175.448845> / animSpeed; //delta=-5.85 
			turn rthigh to z-axis <-0.147755> speed <4.432650> / animSpeed; //delta=0.15 
			turn rthigh to y-axis <-2.012217> speed <60.366499> / animSpeed; //delta=-2.01 
 			
			if (!isAiming) {
				turn ruparm to x-axis <28.570413> speed <252.016205> / animSpeed; //delta=-8.40 
				turn ruparm to z-axis <3.605945> speed <73.700419> / animSpeed; //delta=-2.46 
				turn ruparm to y-axis <0.986978> speed <77.516131> / animSpeed; //delta=2.58			
				turn rloarm to x-axis <-14.378967> speed <294.159283> / animSpeed; //delta=9.81 
				turn rloarm to z-axis <-0.883690> speed <24.130008> / animSpeed; //delta=-0.80 
				turn rloarm to y-axis <0.793694> speed <10.620232> / animSpeed; //delta=-0.35 
				turn luparm to x-axis <-30.077459> speed <299.846210> / animSpeed; //delta=9.99 
				turn luparm to z-axis <-2.949429> speed <88.482881> / animSpeed; //delta=2.95 
				turn lloarm to x-axis <-13.907302> speed <296.716800> / animSpeed; //delta=9.89 
				turn lloarm to z-axis <-0.819308> speed <24.579243> / animSpeed; //delta=0.82 
				turn lloarm to y-axis <0.690206> speed <20.706188> / animSpeed; //delta=0.69 
				turn lhandgun to x-axis <-6.186390> speed <352.190683> / animSpeed; //delta=11.74 
				turn rhandgun to x-axis <-4.374067> speed <123.631610> / animSpeed; //delta=4.12 
			}
		sleep ((33*animSpeed) -1);
		}
		if (isMoving) { //Frame:13
			call-script lua_UnitScriptDecal(1, (get PIECE_XZ(lfoot) & 0xffff0000) / 0x00010000 , (get PIECE_XZ(lfoot) & 0x0000ffff),   get HEADING(0));
			turn body to x-axis <0.534808> speed <8.022119> / animSpeed; //delta=-0.27 
			turn body to z-axis <-4.0> speed <60.0> / animSpeed; //delta=2.00 
			turn body to y-axis <-18.0> speed <270.0> / animSpeed; //delta=-9.00 
			turn head to x-axis <5.0> speed <74.999998> / animSpeed; //delta=-2.50 
			turn head to y-axis <5.0> speed <74.999998> / animSpeed; //delta=2.50 
			turn lfoot to x-axis <-19.952538> speed <102.188458> / animSpeed; //delta=-3.41 
			turn lfoot to z-axis <-2.631772> speed <25.038186> / animSpeed; //delta=-0.83 
			turn lfoot to y-axis <-8.141532> speed <30.465145> / animSpeed; //delta=1.02 
			turn lleg to x-axis <50.893625> speed <1339.682653> / animSpeed; //delta=-44.66 
			turn lthigh to x-axis <9.499171> speed <129.181528> / animSpeed; //delta=4.31 
			turn lthigh to z-axis <-5.504052> speed <141.933930> / animSpeed; //delta=4.73 
			turn lthigh to y-axis <0.765201> speed <23.574761> / animSpeed; //delta=0.79 
			move pelvis to y-axis [-2.0] speed [30.0] / animSpeed; //delta=-1.00 
			turn pelvis to x-axis <5.0> speed <74.999998> / animSpeed; //delta=-2.50 
			turn pelvis to y-axis <7.0> speed <104.999994> / animSpeed; //delta=3.50 
			turn rfoot to x-axis <17.649557> speed <468.295221> / animSpeed; //delta=15.61 
			turn rfoot to z-axis <1.979915> speed <48.851556> / animSpeed; //delta=1.63 
			turn rfoot to y-axis <-7.237163> speed <144.633939> / animSpeed; //delta=-4.82 
			turn rholster to x-axis <-2.507860> speed <75.235787> / animSpeed; //delta=2.51 
			turn rholster to z-axis <-10.202968> speed <306.089045> / animSpeed; //delta=10.20 
			turn rholster to y-axis <-2.241042> speed <67.231249> / animSpeed; //delta=-2.24 
			turn rleg to x-axis <9.286621> speed <1333.289724> / animSpeed; //delta=-44.44 
			turn rthigh to x-axis <-33.567071> speed <248.538494> / animSpeed; //delta=8.28 
			turn rthigh to z-axis <2.081719> speed <66.884218> / animSpeed; //delta=-2.23 
			turn rthigh to y-axis <0.996376> speed <90.257780> / animSpeed; //delta=3.01 
			
			if (!isAiming) {
				turn ruparm to x-axis <7.408239> speed <634.865221> / animSpeed; //delta=21.16 
				turn ruparm to z-axis <2.635002> speed <29.128309> / animSpeed; //delta=0.97 
				turn ruparm to y-axis <-0.879626> speed <55.998139> / animSpeed; //delta=-1.87 			
				turn rloarm to x-axis <-12.270259> speed <63.261246> / animSpeed; //delta=-2.11 			
				turn rhandgun to x-axis <-6.305859> speed <57.953741> / animSpeed; //delta=1.93 			
				turn luparm to x-axis <-13.489640> speed <497.634563> / animSpeed; //delta=-16.59 
				turn luparm to z-axis <-2.717614> speed <6.954454> / animSpeed; //delta=-0.23 
				turn luparm to y-axis <0.387911> speed <13.297908> / animSpeed; //delta=0.44 			
				turn lloarm to x-axis <-7.066988> speed <205.209422> / animSpeed; //delta=-6.84 
				turn lloarm to z-axis <-0.972080> speed <4.583157> / animSpeed; //delta=0.15 			
				turn lhandgun to x-axis <-3.712156> speed <74.227017> / animSpeed; //delta=-2.47 					
			}		
		sleep ((33*animSpeed) -1);
		}
		if (isMoving) { //Frame:17
			turn body to x-axis <0.267404> speed <8.022119> / animSpeed; //delta=0.27 
			turn body to z-axis <-2.0> speed <60.0> / animSpeed; //delta=-2.00 
			turn body to y-axis <-9.0> speed <270.0> / animSpeed; //delta=9.00 
			turn head to x-axis <4.0> speed <29.999997> / animSpeed; //delta=1.00 
			turn head to y-axis <2.500000> speed <74.999998> / animSpeed; //delta=-2.50 
			turn lfoot to x-axis <-29.780403> speed <294.835958> / animSpeed; //delta=9.83 
			turn lfoot to z-axis <-1.316841> speed <39.447944> / animSpeed; //delta=-1.31 
			turn lfoot to y-axis <-2.892384> speed <157.474417> / animSpeed; //delta=5.25 
			turn lleg to x-axis <47.969419> speed <87.726164> / animSpeed; //delta=2.92 
			turn lthigh to x-axis <-19.332068> speed <864.937181> / animSpeed; //delta=28.83 
			turn lthigh to z-axis <-1.408846> speed <122.856205> / animSpeed; //delta=-4.10 
			turn lthigh to y-axis <-0.339319> speed <33.135614> / animSpeed; //delta=-1.10 
			move pelvis to y-axis [-1.0] speed [30.0] / animSpeed; //delta=1.00 
			turn pelvis to x-axis <2.500000> speed <74.999998> / animSpeed; //delta=2.50 
			turn pelvis to y-axis <3.500000> speed <104.999994> / animSpeed; //delta=-3.50 
			turn rfoot to x-axis <-5.127601> speed <683.314745> / animSpeed; //delta=22.78 
			turn rfoot to z-axis <-0.629170> speed <78.272538> / animSpeed; //delta=2.61 
			turn rfoot to y-axis <-6.561834> speed <20.259869> / animSpeed; //delta=0.68 
			turn rholster to x-axis <-1.253930> speed <37.617893> / animSpeed; //delta=-1.25 
			turn rholster to z-axis <-5.101484> speed <153.044523> / animSpeed; //delta=-5.10 
			turn rholster to y-axis <-1.120521> speed <33.615624> / animSpeed; //delta=1.12 
			turn rleg to x-axis <20.964625> speed <350.340142> / animSpeed; //delta=-11.68 
			turn rthigh to x-axis <-18.483648> speed <452.502679> / animSpeed; //delta=-15.08 
			turn rthigh to z-axis <-0.449276> speed <75.929861> / animSpeed; //delta=2.53 
			turn rthigh to y-axis <-0.178923> speed <35.258962> / animSpeed; //delta=-1.18 
			
			if (!isAiming) {
			turn ruparm to x-axis <-2.728282> speed <304.095627> / animSpeed; //delta=10.14 
			turn ruparm to z-axis <0.048135> speed <77.605995> / animSpeed; //delta=2.59 
			turn ruparm to y-axis <-0.012223> speed <26.022093> / animSpeed; //delta=0.87 			
			turn rloarm to x-axis <-6.358361> speed <177.356927> / animSpeed; //delta=-5.91 
			turn rloarm to z-axis <0.018965> speed <28.816298> / animSpeed; //delta=-0.96 
			turn rloarm to y-axis <-0.012490> speed <22.611068> / animSpeed; //delta=-0.75 			
			turn rhandgun to x-axis <-8.790687> speed <74.544864> / animSpeed; //delta=2.48 			
			turn luparm to x-axis <-2.325565> speed <334.922258> / animSpeed; //delta=-11.16 
			turn luparm to z-axis <-0.090396> speed <78.816542> / animSpeed; //delta=-2.63 
			turn luparm to y-axis <0.023080> speed <10.944951> / animSpeed; //delta=-0.36 			
			turn lloarm to x-axis <-2.602222> speed <133.943004> / animSpeed; //delta=-4.46 
			turn lloarm to z-axis <-0.036626> speed <28.063627> / animSpeed; //delta=-0.94 
			turn lloarm to y-axis <0.024131> speed <19.316229> / animSpeed; //delta=-0.64 			
			turn lhandgun to x-axis <-2.782228> speed <27.897831> / animSpeed; //delta=-0.93 			
			}			
		sleep ((33*animSpeed) -1);
		}
		if (isMoving) { //Frame:21
			turn body to x-axis <-0.0> speed <8.022119> / animSpeed; //delta=0.27 
			turn body to z-axis <-0.0> speed <60.0> / animSpeed; //delta=-2.00 
			turn body to y-axis <0.0> speed <270.0> / animSpeed; //delta=9.00 
			turn head to x-axis <-0.0> speed <119.999999> / animSpeed; //delta=4.00 
			turn head to y-axis <0.0> speed <74.999998> / animSpeed; //delta=-2.50 
			turn lfoot to x-axis <13.544923> speed <1299.759779> / animSpeed; //delta=-43.33 
			turn lfoot to z-axis <-0.0> speed <39.505215> / animSpeed; //delta=-1.32 
			turn lfoot to y-axis <0.0> speed <86.771534> / animSpeed; //delta=2.89 
			turn lleg to x-axis <25.055087> speed <687.429956> / animSpeed; //delta=22.91 
			turn lthigh to x-axis <-31.130749> speed <353.960415> / animSpeed; //delta=11.80 
			turn lthigh to z-axis <-0.0> speed <42.265369> / animSpeed; //delta=-1.41 
			turn lthigh to y-axis <-0.0> speed <10.179579> / animSpeed; //delta=0.34 
			move pelvis to y-axis [0.0] speed [30.0] / animSpeed; //delta=1.00 
			turn pelvis to x-axis <-0.0> speed <74.999998> / animSpeed; //delta=2.50 
			turn pelvis to y-axis <0.0> speed <104.999994> / animSpeed; //delta=-3.50 
			turn rfoot to x-axis <-2.601025> speed <75.797286> / animSpeed; //delta=-2.53 
			turn rfoot to z-axis <-0.035549> speed <17.808636> / animSpeed; //delta=-0.59 
			turn rfoot to y-axis <-0.860318> speed <171.045502> / animSpeed; //delta=5.70 
			turn rholster to x-axis <-0.0> speed <37.617893> / animSpeed; //delta=-1.25 
			turn rholster to z-axis <-0.0> speed <153.044523> / animSpeed; //delta=-5.10 
			turn rholster to y-axis <0.0> speed <33.615624> / animSpeed; //delta=1.12 
			turn rleg to x-axis <6.982581> speed <419.461345> / animSpeed; //delta=13.98 
			turn rthigh to x-axis <-4.191602> speed <428.761373> / animSpeed; //delta=-14.29 
			
			if (!isAiming) {
				turn ruparm to x-axis <-20.082585> speed <520.629097> / animSpeed; //delta=17.35 			
				turn rhandgun to x-axis <5.553299> speed <430.319604> / animSpeed; //delta=-14.34 			
				turn luparm to x-axis <20.169873> speed <674.863129> / animSpeed; //delta=-22.50 
				turn luparm to z-axis <1.149265> speed <37.189830> / animSpeed; //delta=-1.24 
				turn luparm to y-axis <-1.596893> speed <48.599174> / animSpeed; //delta=-1.62 			
				turn lloarm to x-axis <-4.573658> speed <59.143084> / animSpeed; //delta=1.97 
				turn lloarm to z-axis <-1.688023> speed <49.541923> / animSpeed; //delta=1.65 
				turn lloarm to y-axis <1.147702> speed <33.707121> / animSpeed; //delta=1.12 			
				turn lhandgun to x-axis <-0.253014> speed <75.876447> / animSpeed; //delta=-2.53 			
				turn rloarm to x-axis <-4.016742> speed <70.248568> / animSpeed; //delta=-2.34 			
			}
		sleep ((33*animSpeed) -1);
		}
		if (isMoving) { //Frame:25
			turn body to z-axis <2.0> speed <60.0> / animSpeed; //delta=-2.00 
			turn body to y-axis <9.0> speed <270.0> / animSpeed; //delta=9.00 
			turn head to x-axis <2.500000> speed <74.999998> / animSpeed; //delta=-2.50 
			turn head to y-axis <-2.500000> speed <74.999998> / animSpeed; //delta=-2.50 
			turn lfoot to x-axis <32.513155> speed <569.046982> / animSpeed; //delta=-18.97 
			turn lfoot to z-axis <-1.204814> speed <36.144417> / animSpeed; //delta=1.20 
			turn lfoot to y-axis <8.382433> speed <251.473000> / animSpeed; //delta=8.38 
			turn lleg to x-axis <-33.503826> speed <1756.767412> / animSpeed; //delta=58.56 
			turn lthigh to x-axis <-25.282454> speed <175.448845> / animSpeed; //delta=-5.85 
			turn lthigh to z-axis <-0.147755> speed <4.432650> / animSpeed; //delta=0.15 
			turn lthigh to y-axis <-2.012217> speed <60.366499> / animSpeed; //delta=-2.01 
			move pelvis to y-axis [-1.0] speed [30.0] / animSpeed; //delta=-1.00 
			turn pelvis to x-axis <2.500000> speed <74.999998> / animSpeed; //delta=-2.50 
			turn pelvis to y-axis <-3.500000> speed <105.0> / animSpeed; //delta=-3.50 
			turn rfoot to x-axis <-23.369571> speed <623.056379> / animSpeed; //delta=20.77 
			turn rfoot to z-axis <0.567310> speed <18.085756> / animSpeed; //delta=-0.60 
			turn rfoot to y-axis <1.538573> speed <71.966728> / animSpeed; //delta=2.40 
			turn rleg to x-axis <5.466671> speed <45.477278> / animSpeed; //delta=1.52 
			turn rthigh to x-axis <13.975600> speed <545.016068> / animSpeed; //delta=-18.17 
			turn rthigh to z-axis <0.782695> speed <35.630501> / animSpeed; //delta=-1.19 
			turn rthigh to y-axis <-0.321612> speed <4.543923> / animSpeed; //delta=-0.15 
			
			if (!isAiming) {
				turn ruparm to x-axis <-29.840676> speed <292.742745> / animSpeed; //delta=9.76 
				turn ruparm to z-axis <2.935954> speed <88.078608> / animSpeed; //delta=-2.94 			
				turn rloarm to x-axis <-13.847616> speed <294.926207> / animSpeed; //delta=9.83 
				turn rloarm to z-axis <0.818475> speed <24.554262> / animSpeed; //delta=-0.82 
				turn rloarm to y-axis <-0.687835> speed <20.635040> / animSpeed; //delta=-0.69 			
				turn rhandgun to x-axis <-6.215908> speed <353.076222> / animSpeed; //delta=11.77 			
				turn luparm to x-axis <28.709771> speed <256.196947> / animSpeed; //delta=-8.54 
				turn luparm to z-axis <-1.330772> speed <74.401110> / animSpeed; //delta=2.48 
				turn luparm to y-axis <0.584731> speed <65.448714> / animSpeed; //delta=2.18 			
				turn lloarm to x-axis <-14.330384> speed <292.701789> / animSpeed; //delta=9.76 
				turn lloarm to z-axis <-2.228361> speed <16.210133> / animSpeed; //delta=0.54 
				turn lloarm to y-axis <2.020779> speed <26.192311> / animSpeed; //delta=0.87 			
				turn lhandgun to x-axis <-4.379618> speed <123.798134> / animSpeed; //delta=4.13 			
			}
		sleep ((33*animSpeed) -1);
		}
		if (isMoving) { //Frame:29
			call-script lua_UnitScriptDecal(1, (get PIECE_XZ(rfoot) & 0xffff0000) / 0x00010000 , (get PIECE_XZ(rfoot) & 0x0000ffff),   get HEADING(0));
			turn body to z-axis <4.0> speed <60.0> / animSpeed; //delta=-2.00 
			turn body to y-axis <18.0> speed <270.0> / animSpeed; //delta=9.00 
			turn head to x-axis <5.0> speed <74.999998> / animSpeed; //delta=-2.50 
			turn head to y-axis <-5.0> speed <74.999998> / animSpeed; //delta=-2.50 
			turn lfoot to x-axis <17.277085> speed <457.082116> / animSpeed; //delta=15.24 
			turn lfoot to z-axis <-2.026912> speed <24.662943> / animSpeed; //delta=0.82 
			turn lfoot to y-axis <7.573873> speed <24.256811> / animSpeed; //delta=-0.81 
			turn lholster to x-axis <-2.507860> speed <75.235787> / animSpeed; //delta=2.51 
			turn lholster to z-axis <10.203001> speed <306.090018> / animSpeed; //delta=-10.20 
			turn lholster to y-axis <-2.241042> speed <67.231249> / animSpeed; //delta=-2.24 
			turn lleg to x-axis <9.480718> speed <1289.536317> / animSpeed; //delta=-42.98 
			turn lthigh to x-axis <-33.441108> speed <244.759624> / animSpeed; //delta=8.16 
			turn lthigh to z-axis <-2.518069> speed <71.109433> / animSpeed; //delta=2.37 
			turn lthigh to y-axis <-0.990071> speed <30.664371> / animSpeed; //delta=1.02 
			move pelvis to y-axis [-2.0] speed [30.0] / animSpeed; //delta=-1.00 
			turn pelvis to x-axis <5.0> speed <74.999998> / animSpeed; //delta=-2.50 
			turn pelvis to y-axis <-7.0> speed <105.0> / animSpeed; //delta=-3.50 
			turn rfoot to x-axis <-21.122427> speed <67.414326> / animSpeed; //delta=-2.25 
			turn rfoot to z-axis <1.931439> speed <40.923867> / animSpeed; //delta=-1.36 
			turn rfoot to y-axis <5.707534> speed <125.068837> / animSpeed; //delta=4.17 
			turn rleg to x-axis <49.542480> speed <1322.274263> / animSpeed; //delta=-44.08 
			turn rthigh to x-axis <10.581186> speed <101.832434> / animSpeed; //delta=3.39 
			turn rthigh to z-axis <0.512170> speed <8.115747> / animSpeed; //delta=0.27 
			
			if (!isAiming) {
				turn ruparm to x-axis <-13.029054> speed <504.348682> / animSpeed; //delta=-16.81 
				turn ruparm to z-axis <2.694866> speed <7.232639> / animSpeed; //delta=0.24 
				turn ruparm to y-axis <-0.398529> speed <13.389429> / animSpeed; //delta=-0.45 			
				turn rloarm to x-axis <-6.953873> speed <206.812297> / animSpeed; //delta=-6.89 
				turn rloarm to z-axis <0.970846> speed <4.571114> / animSpeed; //delta=-0.15 			
				turn rhandgun to x-axis <-3.741787> speed <74.223623> / animSpeed; //delta=-2.47 
				turn luparm to x-axis <7.948658> speed <622.833390> / animSpeed; //delta=20.76 
				turn luparm to z-axis <-0.925245> speed <12.165804> / animSpeed; //delta=-0.41 
				turn luparm to y-axis <-0.774696> speed <40.782812> / animSpeed; //delta=-1.36 			
				turn lloarm to x-axis <-12.134745> speed <65.869183> / animSpeed; //delta=-2.20 
				turn lloarm to z-axis <-2.0> speed <6.831075> / animSpeed; //delta=-0.23 
				turn lloarm to y-axis <1.581415> speed <13.180913> / animSpeed; //delta=-0.44 			
				turn lhandgun to x-axis <-6.408969> speed <60.880524> / animSpeed; //delta=2.03 			
			}
		sleep ((33*animSpeed) -1);
		}
		if (isMoving) { //Frame:33
			turn body to z-axis <2.0> speed <60.0> / animSpeed; //delta=2.00 
			turn body to y-axis <9.0> speed <270.0> / animSpeed; //delta=-9.00 
			turn head to x-axis <2.500000> speed <74.999998> / animSpeed; //delta=2.50 
			turn head to y-axis <-4.0> speed <29.999997> / animSpeed; //delta=1.00 
			turn lfoot to x-axis <-5.101072> speed <671.344694> / animSpeed; //delta=22.38 
			turn lfoot to z-axis <0.351105> speed <71.340519> / animSpeed; //delta=-2.38 
			turn lfoot to y-axis <3.699151> speed <116.241658> / animSpeed; //delta=-3.87 
			turn lholster to x-axis <-1.253930> speed <37.617893> / animSpeed; //delta=-1.25 
			turn lholster to z-axis <5.101500> speed <153.045009> / animSpeed; //delta=5.10 
			turn lholster to y-axis <-1.120521> speed <33.615624> / animSpeed; //delta=1.12 
			turn lleg to x-axis <21.222948> speed <352.266921> / animSpeed; //delta=-11.74 
			turn lthigh to x-axis <-18.483648> speed <448.723809> / animSpeed; //delta=-14.96 
			turn lthigh to z-axis <-0.449276> speed <62.063789> / animSpeed; //delta=-2.07 
			turn lthigh to y-axis <-0.178923> speed <24.334447> / animSpeed; //delta=0.81 
			move pelvis to y-axis [-1.0] speed [30.0] / animSpeed; //delta=1.00 
			turn pelvis to x-axis <2.500000> speed <74.999998> / animSpeed; //delta=2.50 
			turn pelvis to y-axis <-3.500000> speed <105.0> / animSpeed; //delta=3.50 
			turn rfoot to x-axis <-27.943296> speed <204.626081> / animSpeed; //delta=6.82 
			turn rfoot to z-axis <-0.126986> speed <61.752730> / animSpeed; //delta=2.06 
			turn rfoot to y-axis <-0.302402> speed <180.298087> / animSpeed; //delta=-6.01 
			turn rleg to x-axis <48.342436> speed <36.001312> / animSpeed; //delta=1.20 
			turn rthigh to x-axis <-19.332068> speed <897.397621> / animSpeed; //delta=29.91 
			turn rthigh to z-axis <-1.408846> speed <57.630482> / animSpeed; //delta=1.92 
			
			if (!isAiming) {
				turn ruparm to x-axis <-2.094022> speed <328.050938> / animSpeed; //delta=-10.94 
				turn ruparm to z-axis <0.088062> speed <78.204100> / animSpeed; //delta=2.61 
				turn ruparm to y-axis <-0.022665> speed <11.275921> / animSpeed; //delta=0.38 			
				turn rloarm to x-axis <-2.530654> speed <132.696557> / animSpeed; //delta=-4.42 
				turn rloarm to z-axis <0.035710> speed <28.054089> / animSpeed; //delta=0.94 
				turn rloarm to y-axis <-0.023532> speed <19.238510> / animSpeed; //delta=0.64 			
				turn luparm to x-axis <-2.481838> speed <312.914889> / animSpeed; //delta=10.43 
				turn luparm to z-axis <-0.050784> speed <26.233851> / animSpeed; //delta=-0.87 			
				turn lloarm to x-axis <-6.293569> speed <175.235269> / animSpeed; //delta=-5.84 
				turn lloarm to z-axis <-0.020032> speed <59.418790> / animSpeed; //delta=-1.98 
				turn lloarm to y-axis <0.013190> speed <47.046759> / animSpeed; //delta=-1.57 			
				turn lhandgun to x-axis <-8.843295> speed <73.029791> / animSpeed; //delta=2.43 
				turn rhandgun to x-axis <-2.819657> speed <27.663899> / animSpeed; //delta=-0.92 
				turn luparm to y-axis <0.013013> speed <23.631275> / animSpeed; //delta=0.79 		
			}
		sleep ((33*animSpeed) -1);
		}
		if (isMoving) { //Frame:37
			turn body to z-axis <-0.0> speed <60.0> / animSpeed; //delta=2.00 
			turn body to y-axis <0.0> speed <270.0> / animSpeed; //delta=-9.00 
			turn head to x-axis <-0.0> speed <74.999998> / animSpeed; //delta=2.50 
			turn head to y-axis <0.0> speed <119.999999> / animSpeed; //delta=4.00 
			turn lfoot to x-axis <-2.530919> speed <77.104578> / animSpeed; //delta=-2.57 
			turn lfoot to z-axis <-0.034596> speed <11.571050> / animSpeed; //delta=0.39 
			turn lfoot to y-axis <-0.860483> speed <136.789008> / animSpeed; //delta=-4.56 
			turn lholster to x-axis <-0.0> speed <37.617893> / animSpeed; //delta=-1.25 
			turn lholster to z-axis <-0.0> speed <153.045009> / animSpeed; //delta=5.10 
			turn lholster to y-axis <0.0> speed <33.615624> / animSpeed; //delta=1.12 
			turn lleg to x-axis <7.005865> speed <426.512507> / animSpeed; //delta=14.22 
			turn lthigh to x-axis <-4.191602> speed <428.761373> / animSpeed; //delta=-14.29 
			move pelvis to y-axis [0.0] speed [30.0] / animSpeed; //delta=1.00 
			turn pelvis to x-axis <-0.0> speed <74.999998> / animSpeed; //delta=2.50 
			turn pelvis to y-axis <0.0> speed <105.0> / animSpeed; //delta=3.50 
			turn rfoot to x-axis <13.544923> speed <1244.646555> / animSpeed; //delta=-41.49 
			turn rfoot to z-axis <-0.0> speed <3.809573> / animSpeed; //delta=-0.13 
			turn rfoot to y-axis <0.0> speed <9.072053> / animSpeed; //delta=0.30 
			turn rleg to x-axis <25.055087> speed <698.620469> / animSpeed; //delta=23.29 
			turn rthigh to x-axis <-31.130749> speed <353.960415> / animSpeed; //delta=11.80 
			turn rthigh to z-axis <-0.0> speed <42.265369> / animSpeed; //delta=-1.41 
			turn rthigh to y-axis <-0.0> speed <10.179579> / animSpeed; //delta=0.34 
			
			if (!isAiming) {
				turn ruparm to x-axis <20.169873> speed <667.916865> / animSpeed; //delta=-22.26 
				turn ruparm to z-axis <1.149265> speed <31.836075> / animSpeed; //delta=-1.06 
				turn ruparm to y-axis <-1.596893> speed <47.226851> / animSpeed; //delta=-1.57 			
				turn rloarm to x-axis <-4.573658> speed <61.290105> / animSpeed; //delta=2.04 
				turn rloarm to z-axis <-1.688023> speed <51.711983> / animSpeed; //delta=1.72 
				turn rloarm to y-axis <1.147702> speed <35.137005> / animSpeed; //delta=1.17 			
				turn rhandgun to x-axis <-0.253014> speed <76.999311> / animSpeed; //delta=-2.57 			
				turn luparm to x-axis <-20.082585> speed <528.022407> / animSpeed; //delta=17.60 			
				turn lloarm to x-axis <-4.016742> speed <68.304795> / animSpeed; //delta=-2.28 			
				turn lhandgun to x-axis <5.553299> speed <431.897838> / animSpeed; //delta=-14.40 
			}
		sleep ((33*animSpeed) -1);
		}
	}
}
// Call this from StopMoving()!
StopWalking() {
	move pelvis to y-axis [0.0] speed [7.500000];
	turn body to x-axis <0.0> speed <2.005530>;
	turn body to y-axis <0.0> speed <67.500002>;
	turn body to z-axis <0.0> speed <15.0>;
	turn head to x-axis <0.0> speed <30.0>;
	turn head to y-axis <0.0> speed <30.0>;
	turn lfoot to x-axis <0.0> speed <324.939945>;
	turn lfoot to y-axis <0.0> speed <62.868250>;
	turn lfoot to z-axis <0.0> speed <25.738364>;
	turn lholster to x-axis <0.0> speed <18.808947>;
	turn lholster to y-axis <0.0> speed <16.807812>;
	turn lholster to z-axis <0.0> speed <76.522505>;
	turn lleg to x-axis <0.0> speed <439.191853>;
	turn lthigh to x-axis <0.0> speed <216.234295>;
	turn lthigh to y-axis <0.0> speed <15.091625>;
	turn lthigh to z-axis <0.0> speed <35.483483>;
	turn pelvis to x-axis <0.0> speed <18.749999>;
	turn pelvis to y-axis <0.0> speed <26.250000>;
	turn rfoot to x-axis <0.0> speed <311.161639>;
	turn rfoot to y-axis <0.0> speed <45.074522>;
	turn rfoot to z-axis <0.0> speed <27.062248>;
	turn rholster to x-axis <0.0> speed <18.808947>;
	turn rholster to y-axis <0.0> speed <16.807812>;
	turn rholster to z-axis <0.0> speed <76.522261>;
	turn rleg to x-axis <0.0> speed <451.585931>;
	turn rthigh to x-axis <0.0> speed <233.480617>;
	turn rthigh to y-axis <0.0> speed <22.564445>;
	turn rthigh to z-axis <0.0> speed <18.982465>;
	
	if (!isAiming) {
		turn ruparm to x-axis <0.0> speed <166.979216>;
		turn ruparm to y-axis <0.0> speed <19.379033>;
		turn ruparm to z-axis <0.0> speed <22.019652>;		
		turn rloarm to x-axis <0.0> speed <73.731552>;
		turn rloarm to y-axis <0.0> speed <8.784251>;
		turn rloarm to z-axis <0.0> speed <12.927996>;
		turn rhandgun to x-axis <0.0> speed <107.579901>;
		turn luparm to x-axis <0.0> speed <168.715782>;
		turn luparm to y-axis <0.0> speed <16.362178>;
		turn luparm to z-axis <0.0> speed <22.120720>;
		turn lloarm to x-axis <0.0> speed <74.179200>;
		turn lloarm to y-axis <0.0> speed <11.761690>;
		turn lloarm to z-axis <0.0> speed <14.854698>;
		turn lhandgun to x-axis <0.0> speed <107.974460>;
	}
}
// REMEMBER TO animspeed = 4 in Create() !!
UnitSpeed(){
	maxSpeed = get MAX_SPEED; // this returns cob units per frame i think
	animFramesPerKeyframe = 4; //we need to calc the frames per keyframe value, from the known animtime
	maxSpeed = maxSpeed + (maxSpeed /(2*animFramesPerKeyframe)); // add fudge
	while(TRUE){
		animSpeed = (get CURRENT_SPEED);
		if (animSpeed<1) animSpeed=1;
		animSpeed = (maxSpeed * 4) / animSpeed; 
		//get PRINT(maxSpeed, animFramesPerKeyframe, animSpeed); //how to print debug info from bos
		if (animSpeed<2) animSpeed=2;
		if (animspeed>8) animSpeed = 8;
		sleep 131;
	}
}
StartMoving(reversing){
	signal SIGNAL_MOVE;
  set-signal-mask SIGNAL_MOVE;
	isMoving=TRUE;
	start-script UnitSpeed();
	start-script Walk();
}
StopMoving(){
	signal SIGNAL_MOVE;
	isMoving=FALSE;
	call-script StopWalking();
}

ready2()
{
	move pelvis to z-axis [0.0] now;
	move body to y-axis [0.0] now;
	//move head to z-axis [0.0] now;
	move luparm to x-axis [0.0] now;
	move ruparm to x-axis [0.0] now;

	turn ruparm to x-axis <35.159341> now;
	turn ruparm to x-axis <13.703297> speed <306.434066>;
	turn luparm to x-axis <35.159341> now;
	turn luparm to x-axis <13.357143> speed <311.456044>;
	turn luparm to z-axis <0.0> now;
	turn luparm to z-axis <-24.615385> speed <351.648352>;
	turn lloarm to x-axis <-52.390110> now;
	turn lloarm to x-axis <-32.346154> speed <286.335165>;
	turn ruparm to z-axis <0.0> now;
	turn ruparm to z-axis <24.615385> speed <351.648352>;
	turn rloarm to x-axis <-52.038462> now;
	turn rloarm to x-axis <-32.346154> speed <281.313187>;
	sleep 30;

	turn ruparm to x-axis <0.0> speed <171.423077>;
	turn luparm to x-axis <0.0> speed <167.027473>;
	turn luparm to z-axis <-20.038462> speed <57.137363>;
	turn lloarm to x-axis <-30.945055> speed <17.582418>;
	turn ruparm to z-axis <20.038462> speed <57.137363>;
	turn rloarm to x-axis <-30.945055> speed <17.582418>;
	sleep 30;

	turn ruparm to x-axis <-41.489011> speed <691.571429>;
	turn luparm to x-axis <-41.137363> speed <685.714286>;
	turn luparm to z-axis <-11.247253> speed <146.516484>;
	turn lloarm to x-axis <-17.225275> speed <228.571429>;
	turn ruparm to z-axis <11.247253> speed <146.516484>;
	turn rloarm to x-axis <-16.527473> speed <240.291209>;
	sleep 5;

	turn ruparm to x-axis <-68.214286> speed <534.505495>;
	turn luparm to x-axis <-68.214286> speed <541.538462>;
	turn luparm to z-axis <0.0> speed <225.049451>;
	turn lloarm to x-axis <0.0> speed <344.615385>;
	turn ruparm to z-axis <0.0> speed <225.049451>;
	turn rloarm to x-axis <0.0> speed <330.549451>;
	sleep 5;

	turn ruparm to x-axis <-90.016484> speed <436.038462>;
	turn luparm to x-axis <-90.016484> speed <436.038462>;
	sleep 5;

	turn lholster to y-axis <30.945055> speed <427.0>;
	turn rholster to y-axis <-30.593407> speed <421.978022>;
	sleep 5;

	turn lholster to y-axis <0.0> speed <442.071429>;
	turn rholster to y-axis <0.0> speed <437.038462>;
	sleep 5;

}

ready() //move hands above hipguns, extend the holsters
{
	
	move pelvis to z-axis [0.0] now;
	move body to y-axis [0.0] now;
	move head to z-axis [0.0] now;
	move luparm to x-axis [0.0] now;
	move ruparm to x-axis [0.0] now;
	sleep 40;
	
	turn rholster to z-axis <-90> speed <360>;
	turn rhipgun to z-axis <90> speed <360>;
	turn lholster to z-axis <90> speed <360>;
	turn lhipgun to z-axis <-90> speed <360>;
	
	turn ruparm to z-axis <15> speed <150>;
	turn rloarm to z-axis <-15> speed <150>;
	turn luparm to z-axis <-15> speed <150>;
	turn lloarm to z-axis <15> speed <150>;
	sleep 100;
	
	turn ruparm to z-axis <-25> speed <300>;
	turn rloarm to z-axis <26> speed <300>;
	turn luparm to z-axis <25> speed <300>;
	turn lloarm to z-axis <-26> speed <300>;
	sleep 150;
	hide rhipgun; //grab guns
	hide lhipgun;
	show lhandgun;
	show rhandgun;
	
	
	
	//turn head to x-axis <-65> speed <200>;
	
	turn luparm to z-axis <0.0> now;
	turn luparm to z-axis <-23.203297> speed <140.659341>;
	turn lloarm to x-axis <0.0> now;
	turn lloarm to x-axis <-28.835165> speed <174.758242>;
	turn lloarm to z-axis <0> speed <300>;
	turn ruparm to z-axis <0.0> now;
	turn ruparm to z-axis <22.857143> speed <138.527473>;
	turn rloarm to x-axis <0.0> now;
	turn rloarm to x-axis <-28.478022> speed <172.626374>;
	turn rloarm to z-axis <0> speed <300>;
	sleep 30;


	turn rholster to z-axis <0> speed <360>;
	turn rhipgun to z-axis <0> speed <360>;
	turn lholster to z-axis <0> speed <360>;
	turn lhipgun to z-axis <0> speed <360>;
	
	turn ruparm to x-axis <19.335165> speed <111.148352>;
	turn luparm to x-axis <19.335165> speed <111.148352>;
	turn luparm to z-axis <-28.126374> speed <28.291209>;
	turn lloarm to x-axis <-40.434066> speed <66.681319>;
	turn ruparm to z-axis <28.126374> speed <30.313187>;
	turn rloarm to x-axis <-41.137363> speed <72.747253>;
	sleep 5;

	turn ruparm to x-axis <54.857143> speed <193.016484>;
	turn luparm to x-axis <54.148352> speed <189.192308>;
	turn luparm to z-axis <-34.813187> speed <36.302198>;
	turn lloarm to x-axis <-64.703297> speed <131.868132>;
	turn ruparm to z-axis <34.802198> speed <36.302198>;
	turn rloarm to x-axis <-64.346154> speed <126.126374>;
	sleep 5;


	sleep 5;

	turn ruparm to x-axis <66.104396> speed <98.703297>;
	turn luparm to x-axis <66.813187> speed <111.038462>;
	turn luparm to z-axis <-15.115385> speed <172.736264>;
	turn lloarm to x-axis <-90.016484> speed <222.093407>;
	turn ruparm to z-axis <15.115385> speed <172.736264>;
	turn rloarm to x-axis <-90.016484> speed <225.170330>;
	sleep 5;
}

holster()
{
	move pelvis to z-axis [0.0] now;
	move body to y-axis [0.0] now;
	//move head to z-axis [0.0] now;
	move luparm to x-axis [0.0] now;
	move ruparm to x-axis [0.0] now;
	turn ruparm to x-axis <-90.016484> now;
	turn luparm to x-axis <-90.016484> now;
	sleep 15;

	sleep 15;

	turn ruparm to x-axis <-39.379121> speed <265.115385>;
	turn luparm to x-axis <-36.214286> speed <281.681319>;
	turn luparm to z-axis <-35.505495> speed <185.945055>;
	turn ruparm to z-axis <35.159341> speed <184.104396>;
	sleep 15;

	turn ruparm to x-axis <0.0> speed <281.313187>;
	turn luparm to x-axis <0.0> speed <258.703297>;
	turn luparm to z-axis <-40.082418> speed <32.648352>;
	turn ruparm to z-axis <38.324176> speed <22.604396>;
	sleep 15;
	sleep 15;

	turn luparm to z-axis <-26.725275> speed <139.192308>;
	turn ruparm to z-axis <28.126374> speed <106.225275>;
	sleep 15;

	//move ruparm to y-axis [1.049994] speed [4.525848];
	//move luparm to y-axis [1.149994] speed [4.956891];
	turn luparm to z-axis <-38.681319> speed <51.527473>;
	turn lloarm to z-axis <43.945055> speed <189.456044>;
	turn ruparm to z-axis <37.269231> speed <39.401099>;
	turn rloarm to z-axis <-43.247253> speed <186.434066>;
	sleep 15;

	//move rshoulder to y-axis [0.0] speed [7.835803];
	//move lshoulder to y-axis [0.0] speed [8.582074];
	turn ruparm to x-axis <0.0> speed <200.0>;
	turn luparm to z-axis <-14.769231> speed <178.445055>;
	turn lloarm to z-axis <33.758242> speed <76.093407>;
	turn ruparm to z-axis <17.923077> speed <144.324176>;
	turn rloarm to z-axis <-36.571429> speed <49.857143>;
	sleep 15;

	move luparm to x-axis [0.0] speed [0.000061];
	move ruparm to x-axis [0.0] speed [0.000061];
	turn luparm to z-axis <0.0> speed <175.824176>;
	turn lloarm to z-axis <0.0> speed <401.879121>;
	turn ruparm to z-axis <0.0> speed <213.500000>;
	turn rloarm to z-axis <0.0> speed <435.368132>;
	sleep 30;
}

holster2()
{
/////

	move pelvis to z-axis [0.0] now;
	move body to y-axis [0.0] now;
	//move head to z-axis [0.0] now;
	move luparm to x-axis [0.0] now;
	move ruparm to x-axis [0.0] now;
	sleep 40;
	
	turn rholster to z-axis <-90> speed <360>;
	turn rhipgun to z-axis <90> speed <360>;
	turn lholster to z-axis <90> speed <360>;
	turn lhipgun to z-axis <-90> speed <360>;
	
	turn ruparm to z-axis <15> speed <150>;
	turn rloarm to z-axis <-15> speed <150>;
	turn luparm to z-axis <-15> speed <150>;
	turn lloarm to z-axis <15> speed <150>;
	sleep 100;
	
	turn ruparm to z-axis <-25> speed <300>;
	turn rloarm to z-axis <26> speed <300>;
	turn luparm to z-axis <25> speed <300>;
	turn lloarm to z-axis <-26> speed <300>;
	sleep 150;
	show rhipgun; //grab guns
	show lhipgun;
	hide lhandgun;
	hide rhandgun;
	
	

	sleep 30;


	turn rholster to z-axis <0> speed <360>;
	turn rhipgun to z-axis <0> speed <360>;
	turn lholster to z-axis <0> speed <360>;
	turn lhipgun to z-axis <0> speed <360>;
	
	turn ruparm to z-axis <0> speed <300>;
	turn rloarm to z-axis <0> speed <300>;
	turn luparm to z-axis <0> speed <300>;
	turn lloarm to z-axis <0> speed <300>;
	sleep 100;
	return (0);
/////

}

Open()
{
	call-script ready();
	hide rhipgun;
	hide lhipgun;
	show lhandgun;
	show rhandgun;
	call-script ready2();
	ReadyToAim = 1;
}

Close()
{
	ReadyToAim = 0;
	call-script holster();
	isAiming = FALSE;
	call-script holster2();
}



#define BASEPIECE pelvis
#define HITSPEED <45.0>
//how 'heavy' the unit is, on a scale of 1-10
#define UNITSIZE 5
#define MAXTILT 100

#include "../unit_hitbyweaponid_and_smoke.h"


Create()
{
	hide lflare;
	hide rflare;
	hide aimx1;
	hide aimy1;
	isMoving = FALSE;
	isAiming = FALSE;
	gun_1 = rflare;
	ReadyToAim = 0;
	animspeed = 4;
	hide lhandgun;
	hide rhandgun;
	turn lflare to x-axis <90> now;
	turn rflare to x-axis <90> now;
	restore_delay = 2000;
}

SetMaxReloadTime(reloadMS)
{
	restore_delay = reloadMS * 2;
}

static-var  Stunned;
ExecuteRestoreAfterDelay()
{
    if (Stunned) {
        return (1);
    }
	set-signal-mask 0;
	start-script OpenCloseAnim(0);
	turn aimy1 to y-axis <0.0> speed <200.038462>;
	isAiming = FALSE;
	wpn1_lasthead = 0xbadface;
}
SetStunned(State)
{
    Stunned = State;
	if (!Stunned) {
	    start-script ExecuteRestoreAfterDelay();
	}
}
RestoreAfterDelay()
{
	set-signal-mask SIGNAL_AIM1;
	sleep restore_delay;
	start-script ExecuteRestoreAfterDelay();
}

AimWeapon1(heading, pitch)
{
	signal SIGNAL_AIM1;
	start-script OpenCloseAnim(1);
	isAiming = TRUE;
	turn aimy1 to y-axis heading speed <250.027473>;
	turn aimx1 to x-axis -1*pitch speed <150>;
	
	while( !ReadyToAim )
	{
		return(0);
	}
	if ((wpn1_lasthead == 0xbadface) OR ABSOLUTE_GREATER_THAN(WRAPDELTA(heading - wpn1_lasthead), <7>))
	{
		wpn1_lasthead = 0xbadface;
		wait-for-turn aimy1 around y-axis;
		wait-for-turn aimx1 around x-axis;
	}
	start-script RestoreAfterDelay();
	wpn1_lasthead = heading;
	return (1);
}

FireWeapon1()
{
	if( gun_1 )
	{
	    emit-sfx 1024 + 0 from lflare;
	}
	else
	{
	    emit-sfx 1024 + 0 from rflare;
	}
	sleep 32;
	gun_1 = !gun_1;
}

AimFromWeapon1(pieceIndex)
{
	pieceIndex = body;
}

QueryWeapon1(pieceIndex)
{
	pieceIndex = gun_1;
}



Killed(severity, corpsetype)
{
	if( severity <= 25 )
	{
		corpsetype = 1 ;
		explode pelvis type BITMAPONLY | NOHEATCLOUD;
		explode body type BITMAPONLY | NOHEATCLOUD;
		explode lloarm type BITMAPONLY | NOHEATCLOUD;
		explode lhandgun type FIRE | SMOKE | FALL | NOHEATCLOUD;
		return(corpsetype);
	}
	if( severity <= 50 )
	{
		corpsetype = 2 ;
		explode pelvis type FIRE | SMOKE | FALL | NOHEATCLOUD;
		explode body type FIRE | SMOKE | FALL | NOHEATCLOUD;
		explode luparm type FIRE | SMOKE | FALL | NOHEATCLOUD;
		explode lloarm type FALL | NOHEATCLOUD;
		explode lhandgun type FALL | NOHEATCLOUD;
		return(corpsetype);
	}
	if( severity <= 99 )
	{
		corpsetype = 3 ;
		explode pelvis type FIRE | SMOKE | FALL | NOHEATCLOUD;
		explode body type EXPLODE_ON_HIT | FIRE | SMOKE | FALL | NOHEATCLOUD;
		explode luparm type FIRE | SMOKE | FALL | NOHEATCLOUD;
		explode lloarm type EXPLODE_ON_HIT | FIRE | SMOKE | FALL | NOHEATCLOUD;
		explode lhandgun type EXPLODE_ON_HIT | SMOKE | FALL | NOHEATCLOUD;
		return(corpsetype);
	}
	corpsetype = 3 ;
		explode pelvis type EXPLODE_ON_HIT | FIRE | SMOKE | FALL | NOHEATCLOUD;
		explode body type EXPLODE_ON_HIT | FIRE | FALL | NOHEATCLOUD;
		explode luparm type EXPLODE_ON_HIT | FIRE | FALL | NOHEATCLOUD;
		explode lloarm type EXPLODE_ON_HIT | FIRE | FALL | NOHEATCLOUD;
		explode lhandgun type EXPLODE_ON_HIT | FIRE | SMOKE | FALL | NOHEATCLOUD;
	return corpsetype;
}
