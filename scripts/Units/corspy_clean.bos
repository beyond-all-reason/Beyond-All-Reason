
#include "../recoil_common_includes.h"

piece  head, rthigh, lthigh, rfoot, lleg, lfoot, rleg, pelvis ;

static-var  isMoving, buildTimer;
// Generated for D:\spring\animation\corspy_anim_walk.blend
// Using https://github.com/Beherith/Skeletor_S3O 
// this animation uses the static-var animFramesPerKeyframe which contains how many frames each keyframe takes
static-var animSpeed, maxSpeed, animFramesPerKeyframe;
#define SIGNAL_MOVE 1
Walk() {//Created by https://github.com/Beherith/Skeletor_S3O from D:\spring\animation\corspy_anim_walk.blend 
	//set-signal-mask SIGNAL_MOVE;
	if (isMoving) { //Frame:4
			turn head to x-axis <-8.500000> speed <254.999990> / animSpeed; 
			turn head to z-axis <-0.884000> speed <26.519997> / animSpeed; 
			turn head to y-axis <0.884000> speed <26.519997> / animSpeed; 
			turn lfoot to x-axis <-44.885090> speed <898.488897> / animSpeed; 
			turn lfoot to z-axis <3.433169> speed <102.989782> / animSpeed; 
			turn lfoot to y-axis <-0.134460> speed <4.080039> / animSpeed; 
			turn lleg to x-axis <33.168611> speed <1362.394474> / animSpeed; 
			turn lleg to z-axis <-1.464682> speed <12.350145> / animSpeed; 
			turn lleg to y-axis <1.283392> speed <37.911369> / animSpeed; 
			turn lthigh to x-axis <12.123027> speed <84.563189> / animSpeed; 
			turn lthigh to z-axis <-0.740615> speed <20.467207> / animSpeed; 
			turn lthigh to y-axis <-1.186994> speed <424.911176> / animSpeed; 
			move pelvis to z-axis [0.039343] speed [31.395532] / animSpeed; 
			move pelvis to y-axis [0.983569] speed [108.822112] / animSpeed; 
			turn pelvis to x-axis <-0.0> speed <329.999975> / animSpeed; 
			turn pelvis to y-axis <5.357556> speed <160.726680> / animSpeed; 
			turn rfoot to x-axis <27.198047> speed <1276.335013> / animSpeed; 
			turn rfoot to z-axis <-1.693794> speed <50.808809> / animSpeed; 
			turn rfoot to y-axis <1.608394> speed <48.300200> / animSpeed; 
			turn rleg to x-axis <-0.254320> speed <368.280914> / animSpeed; 
			turn rleg to z-axis <1.592499> speed <6.034386> / animSpeed; 
			turn rthigh to x-axis <-57.333257> speed <2208.900492> / animSpeed; 
			turn rthigh to z-axis <4.340547> speed <67.802808> / animSpeed; 
			turn rthigh to y-axis <3.653189> speed <448.085361> / animSpeed; 
		sleep 131;
	}
	while(isMoving) {
		if (isMoving) { //Frame:8
			turn head to x-axis <-4.700000> speed <113.999990> / animSpeed; 
			turn head to z-axis <-2.992000> speed <63.239997> / animSpeed; 
			turn head to y-axis <2.992000> speed <63.239997> / animSpeed; 
			turn lfoot to x-axis <-51.914434> speed <210.880315> / animSpeed; 
			turn lfoot to z-axis <3.773175> speed <10.200179> / animSpeed; 
			turn lfoot to y-axis <0.724625> speed <25.772548> / animSpeed; 
			turn lleg to x-axis <72.143825> speed <1169.256430> / animSpeed; 
			turn lleg to z-axis <-20.435415> speed <569.122016> / animSpeed; 
			turn lleg to y-axis <23.235301> speed <658.557264> / animSpeed; 
			turn lthigh to x-axis <23.668086> speed <346.351755> / animSpeed; 
			turn lthigh to z-axis <-1.334595> speed <17.819393> / animSpeed; 
			turn lthigh to y-axis <-2.340412> speed <34.602537> / animSpeed; 
			move pelvis to z-axis [1.927795] speed [56.653579] / animSpeed; 
			move pelvis to y-axis [0.118028] speed [25.966225] / animSpeed; 
			turn pelvis to y-axis <7.966149> speed <78.257780> / animSpeed; 
			turn rfoot to x-axis <50.340567> speed <694.275598> / animSpeed; 
			turn rfoot to z-axis <-3.086771> speed <41.789312> / animSpeed; 
			turn rfoot to y-axis <2.610199> speed <30.054165> / animSpeed; 
			turn rleg to x-axis <45.516825> speed <1373.134349> / animSpeed; 
			turn rleg to z-axis <1.149389> speed <13.293284> / animSpeed; 
			turn rleg to y-axis <-0.833380> speed <70.596632> / animSpeed; 
			turn rthigh to x-axis <-97.046845> speed <1191.407655> / animSpeed; 
			turn rthigh to z-axis <-0.614718> speed <148.657971> / animSpeed; 
			turn rthigh to y-axis <-1.517551> speed <155.122199> / animSpeed; 
		sleep ((33*animSpeed) -1);
		}
		if (isMoving) { //Frame:12
			turn head to x-axis <8.399999> speed <392.999967> / animSpeed; 
			turn head to z-axis <-5.508000> speed <75.480002> / animSpeed; 
			turn head to y-axis <5.508000> speed <75.480002> / animSpeed; 
			turn lfoot to x-axis <-51.363562> speed <16.526155> / animSpeed; 
			turn lfoot to z-axis <3.953705> speed <5.415900> / animSpeed; 
			turn lfoot to y-axis <1.922545> speed <35.937601> / animSpeed; 
			turn lleg to x-axis <25.344626> speed <1403.975983> / animSpeed; 
			turn lleg to z-axis <-0.906087> speed <585.879849> / animSpeed; 
			turn lleg to y-axis <0.929147> speed <669.184629> / animSpeed; 
			turn lthigh to x-axis <44.203502> speed <616.062487> / animSpeed; 
			turn lthigh to z-axis <-0.122733> speed <36.355844> / animSpeed; 
			turn lthigh to y-axis <-1.408620> speed <27.953751> / animSpeed; 
			move pelvis to z-axis [0.904884] speed [30.687355] / animSpeed; 
			move pelvis to y-axis [-0.511456] speed [18.884528] / animSpeed; 
			turn pelvis to y-axis <3.821049> speed <124.352990> / animSpeed; 
			turn rfoot to x-axis <46.328073> speed <120.374810> / animSpeed; 
			turn rfoot to z-axis <-2.947048> speed <4.191685> / animSpeed; 
			turn rfoot to y-axis <1.346378> speed <37.914648> / animSpeed; 
			turn rleg to x-axis <7.566903> speed <1138.497655> / animSpeed; 
			turn rleg to z-axis <1.419854> speed <8.113954> / animSpeed; 
			turn rleg to y-axis <-1.736153> speed <27.083164> / animSpeed; 
			turn rthigh to x-axis <-55.135510> speed <1257.340052> / animSpeed; 
			turn rthigh to z-axis <2.570840> speed <95.566744> / animSpeed; 
			turn rthigh to y-axis <1.889787> speed <102.220164> / animSpeed; 
		sleep ((33*animSpeed) -1);
		}
		if (isMoving) { //Frame:16
			turn head to x-axis <1.700000> speed <200.999981> / animSpeed; 
			turn head to z-axis <-7.615999> speed <63.239974> / animSpeed; 
			turn head to y-axis <7.615999> speed <63.239974> / animSpeed; 
			turn lfoot to x-axis <0.680955> speed <1561.335505> / animSpeed; 
			turn lfoot to z-axis <2.243341> speed <51.310917> / animSpeed; 
			turn lfoot to y-axis <0.870291> speed <31.567613> / animSpeed; 
			turn lleg to x-axis <-22.504307> speed <1435.467988> / animSpeed; 
			turn lleg to z-axis <0.393971> speed <39.001736> / animSpeed; 
			turn lleg to y-axis <0.348446> speed <17.421039> / animSpeed; 
			turn lthigh to x-axis <22.431890> speed <653.148365> / animSpeed; 
			turn lthigh to z-axis <0.607069> speed <21.894077> / animSpeed; 
			move pelvis to z-axis [-0.904884] speed [54.293014] / animSpeed; 
			move pelvis to y-axis [-0.393428] speed [3.540849] / animSpeed; 
			turn pelvis to y-axis <0.089290> speed <111.952776> / animSpeed; 
			turn rfoot to x-axis <8.011376> speed <1149.500910> / animSpeed; 
			turn rfoot to z-axis <-2.255484> speed <20.746905> / animSpeed; 
			turn rfoot to y-axis <0.964495> speed <11.456472> / animSpeed; 
			turn rleg to x-axis <-4.299766> speed <356.0> / animSpeed; 
			turn rleg to z-axis <0.087867> speed <39.959610> / animSpeed; 
			turn rleg to y-axis <-0.257089> speed <44.371897> / animSpeed; 
			turn rthigh to x-axis <-3.942633> speed <1535.786310> / animSpeed; 
			turn rthigh to z-axis <0.097419> speed <74.202617> / animSpeed; 
			turn rthigh to y-axis <-0.126288> speed <60.482276> / animSpeed; 
		sleep ((33*animSpeed) -1);
		}
		if (isMoving) { //Frame:20
			turn head to x-axis <-8.500000> speed <305.999975> / animSpeed; 
			turn head to z-axis <-8.500000> speed <26.520019> / animSpeed; 
			turn head to y-axis <8.500000> speed <26.520019> / animSpeed; 
			turn lfoot to x-axis <29.155281> speed <854.229777> / animSpeed; 
			turn lfoot to z-axis <1.725429> speed <15.537363> / animSpeed; 
			turn lfoot to y-axis <-1.676206> speed <76.394908> / animSpeed; 
			turn lleg to x-axis <0.532384> speed <691.100743> / animSpeed; 
			turn lleg to z-axis <-1.352805> speed <52.403275> / animSpeed; 
			turn lleg to y-axis <2.538856> speed <65.712318> / animSpeed; 
			turn lthigh to x-axis <-59.739157> speed <2465.131402> / animSpeed; 
			turn lthigh to z-axis <-2.594345> speed <96.042423> / animSpeed; 
			move pelvis to z-axis [-0.472113] speed [12.983112] / animSpeed; 
			move pelvis to y-axis [0.865541] speed [37.769053] / animSpeed; 
			turn pelvis to y-axis <-4.922756> speed <150.361374> / animSpeed; 
			turn rfoot to x-axis <-45.876868> speed <1616.647327> / animSpeed; 
			turn rfoot to z-axis <-3.493938> speed <37.153619> / animSpeed; 
			turn rfoot to y-axis <0.049119> speed <27.461292> / animSpeed; 
			turn rleg to x-axis <32.234364> speed <1096.023897> / animSpeed; 
			turn rleg to z-axis <1.112917> speed <30.751488> / animSpeed; 
			turn rleg to y-axis <-1.480261> speed <36.695137> / animSpeed; 
			turn rthigh to x-axis <12.877703> speed <504.610077> / animSpeed; 
			turn rthigh to z-axis <0.547630> speed <13.506341> / animSpeed; 
			turn rthigh to y-axis <0.747492> speed <26.213417> / animSpeed; 
		sleep ((33*animSpeed) -1);
		}
		if (isMoving) { //Frame:24
			turn head to x-axis <-4.700000> speed <113.999990> / animSpeed; 
			turn head to z-axis <-4.700000> speed <113.999990> / animSpeed; 
			turn head to y-axis <4.700000> speed <113.999990> / animSpeed; 
			turn lfoot to x-axis <52.776298> speed <708.630521> / animSpeed; 
			turn lfoot to z-axis <3.259269> speed <46.015194> / animSpeed; 
			turn lfoot to y-axis <-2.831582> speed <34.661274> / animSpeed; 
			turn lleg to x-axis <52.230784> speed <1550.952002> / animSpeed; 
			turn lleg to z-axis <-1.593439> speed <7.219029> / animSpeed; 
			turn lleg to y-axis <0.860034> speed <50.364661> / animSpeed; 
			turn lthigh to x-axis <-102.290627> speed <1276.544119> / animSpeed; 
			turn lthigh to z-axis <-1.227646> speed <41.0> / animSpeed; 
			turn lthigh to y-axis <0.404285> speed <48.812960> / animSpeed; 
			move pelvis to z-axis [0.629484] speed [33.047922] / animSpeed; 
			turn pelvis to y-axis <-7.109897> speed <65.614217> / animSpeed; 
			turn rfoot to x-axis <-51.777864> speed <177.029897> / animSpeed; 
			turn rfoot to z-axis <-3.761566> speed <8.028838> / animSpeed; 
			turn rfoot to y-axis <-0.709802> speed <22.767627> / animSpeed; 
			turn rleg to x-axis <68.710248> speed <1094.276526> / animSpeed; 
			turn rleg to z-axis <15.188336> speed <422.262575> / animSpeed; 
			turn rleg to y-axis <-18.991338> speed <525.332310> / animSpeed; 
			turn rthigh to x-axis <24.350089> speed <344.171584> / animSpeed; 
			turn rthigh to z-axis <1.269270> speed <21.649200> / animSpeed; 
			turn rthigh to y-axis <1.276401> speed <15.867266> / animSpeed; 
		sleep ((33*animSpeed) -1);
		}
		if (isMoving) { //Frame:28
			turn head to x-axis <8.399999> speed <392.999967> / animSpeed; 
			turn head to z-axis <8.399999> speed <392.999967> / animSpeed; 
			turn head to y-axis <-8.399999> speed <392.999967> / animSpeed; 
			turn lfoot to x-axis <46.369884> speed <192.192405> / animSpeed; 
			turn lfoot to z-axis <2.950325> speed <9.268300> / animSpeed; 
			turn lfoot to y-axis <-1.351042> speed <44.416183> / animSpeed; 
			turn lleg to x-axis <5.265516> speed <1408.958047> / animSpeed; 
			turn lleg to z-axis <-1.242620> speed <10.524577> / animSpeed; 
			turn lleg to y-axis <1.426512> speed <16.994324> / animSpeed; 
			turn lthigh to x-axis <-52.922727> speed <1481.037012> / animSpeed; 
			turn lthigh to z-axis <-1.531722> speed <9.122282> / animSpeed; 
			turn lthigh to y-axis <-0.397569> speed <24.055620> / animSpeed; 
			move pelvis to z-axis [0.944226] speed [9.442263] / animSpeed; 
			move pelvis to y-axis [-0.708170] speed [46.031034] / animSpeed; 
			turn pelvis to y-axis <-3.765937> speed <100.318783> / animSpeed; 
			turn rfoot to x-axis <-54.237166> speed <73.779055> / animSpeed; 
			turn rfoot to z-axis <-4.223790> speed <13.866710> / animSpeed; 
			turn rfoot to y-axis <-2.261097> speed <46.538849> / animSpeed; 
			turn rleg to x-axis <27.051668> speed <1249.757415> / animSpeed; 
			turn rleg to z-axis <0.946921> speed <427.242455> / animSpeed; 
			turn rleg to y-axis <-1.731303> speed <517.801040> / animSpeed; 
			turn rthigh to x-axis <46.852376> speed <675.068611> / animSpeed; 
			turn rthigh to z-axis <0.800274> speed <14.069907> / animSpeed; 
			turn rthigh to y-axis <-0.304817> speed <47.436538> / animSpeed; 
		sleep ((33*animSpeed) -1);
		}
		if (isMoving) { //Frame:32
			turn head to x-axis <1.700000> speed <200.999981> / animSpeed; 
			turn head to z-axis <1.700000> speed <200.999981> / animSpeed; 
			turn head to y-axis <-1.700000> speed <200.999981> / animSpeed; 
			turn lfoot to x-axis <5.289944> speed <1232.398229> / animSpeed; 
			turn lfoot to z-axis <2.243030> speed <21.218847> / animSpeed; 
			turn lfoot to y-axis <-0.856976> speed <14.821998> / animSpeed; 
			turn lleg to x-axis <-5.668773> speed <328.028667> / animSpeed; 
			turn lleg to z-axis <-0.002018> speed <37.218076> / animSpeed; 
			turn lleg to y-axis <0.266314> speed <34.805937> / animSpeed; 
			turn lthigh to x-axis <0.773101> speed <1610.874854> / animSpeed; 
			turn lthigh to z-axis <-0.014990> speed <45.501968> / animSpeed; 
			turn lthigh to y-axis <-0.027578> speed <11.099716> / animSpeed; 
			move pelvis to z-axis [-0.511456] speed [43.670468] / animSpeed; 
			turn pelvis to y-axis <0.238528> speed <120.133939> / animSpeed; 
			turn rfoot to x-axis <-5.615610> speed <1458.646700> / animSpeed; 
			turn rfoot to z-axis <-2.254204> speed <59.087574> / animSpeed; 
			turn rfoot to y-axis <-1.116807> speed <34.328706> / animSpeed; 
			turn rleg to x-axis <-22.998258> speed <1501.497766> / animSpeed; 
			turn rleg to z-axis <-0.221595> speed <35.055478> / animSpeed; 
			turn rleg to y-axis <0.006436> speed <52.132162> / animSpeed; 
			turn rthigh to x-axis <27.696029> speed <574.690392> / animSpeed; 
			turn rthigh to z-axis <-0.371491> speed <35.152928> / animSpeed; 
			turn rthigh to y-axis <0.759533> speed <31.930506> / animSpeed; 
		sleep ((33*animSpeed) -1);
		}
		if (isMoving) { //Frame:36
			turn head to x-axis <-8.500000> speed <305.999975> / animSpeed; 
			turn head to z-axis <-0.884000> speed <77.519982> / animSpeed; 
			turn head to y-axis <0.884000> speed <77.519982> / animSpeed; 
			turn lfoot to x-axis <-44.105445> speed <1481.861642> / animSpeed; 
			turn lfoot to z-axis <3.387161> speed <34.323910> / animSpeed; 
			turn lfoot to y-axis <-0.200034> speed <19.708258> / animSpeed; 
			turn lleg to x-axis <29.965546> speed <1069.029560> / animSpeed; 
			turn lleg to z-axis <-0.918776> speed <27.502752> / animSpeed; 
			turn lleg to y-axis <0.428036> speed <4.851677> / animSpeed; 
			turn lthigh to x-axis <10.795044> speed <300.658275> / animSpeed; 
			turn lthigh to z-axis <-0.560927> speed <16.378090> / animSpeed; 
			turn lthigh to y-axis <-1.019150> speed <29.747163> / animSpeed; 
			move pelvis to z-axis [-0.944226] speed [12.983111] / animSpeed; 
			move pelvis to y-axis [0.865541] speed [44.850751] / animSpeed; 
			turn pelvis to y-axis <3.714154> speed <104.268806> / animSpeed; 
			turn rfoot to x-axis <31.372592> speed <1109.646052> / animSpeed; 
			turn rfoot to z-axis <-1.764245> speed <14.698761> / animSpeed; 
			turn rfoot to y-axis <1.752401> speed <86.076238> / animSpeed; 
			turn rleg to x-axis <5.404275> speed <852.075994> / animSpeed; 
			turn rleg to z-axis <1.357257> speed <47.365570> / animSpeed; 
			turn rleg to y-axis <-2.463979> speed <74.112445> / animSpeed; 
			turn rthigh to x-axis <-67.579551> speed <2858.267426> / animSpeed; 
			turn rthigh to z-axis <4.496048> speed <146.026174> / animSpeed; 
			turn rthigh to y-axis <3.811669> speed <91.564060> / animSpeed; 
		sleep ((33*animSpeed) -1);
		}
	}
}
// Call this from StopMoving()!
StopWalking() {
	move pelvis to y-axis [-2.643835] speed [27.205528];
	move pelvis to z-axis [1.085860] speed [14.163395];
	turn head to x-axis <0.0> speed <98.249992>;
	turn head to y-axis <0.0> speed <98.249992>;
	turn head to z-axis <0.0> speed <98.249992>;
	turn lfoot to x-axis <-14.935460> speed <390.333876>;
	turn lfoot to y-axis <0.0> speed <19.098727>;
	turn lfoot to z-axis <0.0> speed <25.747446>;
	turn lleg to x-axis <-12.244538> speed <387.738000>;
	turn lleg to y-axis <2.547105> speed <167.296157>;
	turn lleg to z-axis <-1.053010> speed <146.469962>;
	turn lthigh to x-axis <14.941800> speed <616.282850>;
	turn lthigh to y-axis <-15.350700> speed <106.227794>;
	turn lthigh to z-axis <-1.422855> speed <24.010606>;
	turn pelvis to x-axis <10.999999> speed <82.499994>;
	turn pelvis to y-axis <0.0> speed <40.181670>;
	turn rfoot to x-axis <-15.346453> speed <404.161832>;
	turn rfoot to y-axis <0.0> speed <21.519060>;
	turn rfoot to z-axis <0.0> speed <14.771893>;
	turn rleg to x-axis <-12.530351> speed <375.374441>;
	turn rleg to y-axis <-3.121162> speed <131.333077>;
	turn rleg to z-axis <1.391352> speed <106.810614>;
	turn rthigh to x-axis <16.296760> speed <714.566856>;
	turn rthigh to y-axis <18.589367> speed <112.021340>;
	turn rthigh to z-axis <2.080454> speed <37.164493>;
}
// REMEMBER TO animspeed = 4 in Create() !!
UnitSpeed(){
	maxSpeed = get MAX_SPEED; // this returns cob units per frame i think
	animFramesPerKeyframe = 4; //we need to calc the frames per keyframe value, from the known animtime
	maxSpeed = maxSpeed + (maxSpeed /(2*animFramesPerKeyframe)); // add fudge
	while(TRUE){
		animSpeed = (get CURRENT_SPEED);
		if (animSpeed<1) animSpeed=1;
		animSpeed = (maxSpeed * 4) / animSpeed; 
		//get PRINT(maxSpeed, animFramesPerKeyframe, animSpeed); //how to print debug info from bos
		if (animSpeed<2) animSpeed = 2;
		if (animspeed>8) animSpeed = 8;
		sleep 131;
	}
}
StartMoving(reversing){
	signal SIGNAL_MOVE;
  set-signal-mask SIGNAL_MOVE;
	isMoving=TRUE;
	start-script UnitSpeed();
  start-script Walk();
}
StopMoving(){
	signal SIGNAL_MOVE;
	isMoving=FALSE;
  call-script StopWalking();
}

Create()
{
	buildTimer = 1;
	animSpeed = 4;
	isMoving = FALSE;
}

#define BASEPIECE pelvis
#include "../unit_hitbyweaponid_and_smoke.h"

Reload()
{
	sleep 5000;
	buildTimer = 1;
}

QueryNanoPiece(pieceIndex)
{
	pieceIndex = head;
}

StartBuilding(heading)
{
	while( !buildTimer )
	{
		sleep 100;
	}
	buildTimer = 0;
	set INBUILDSTANCE to 1;
	start-script Reload();
}

StopBuilding()
{
	set INBUILDSTANCE to 0;
}

AimWeapon1()
{
	return (TRUE);
}

FireWeapon1()
{
	get KILL_UNIT(get MY_ID,TRUE,FALSE);
}

QueryWeapon1(piecenum)
{
	piecenum = head;
}

AimFromWeapon1(piecenum)
{
	piecenum = head;
}


Killed(severity, corpsetype)
{
	if( severity <= 25 )
	{
		corpsetype = 1 ;
		explode pelvis type BITMAPONLY | NOHEATCLOUD;
		explode head type BITMAPONLY | NOHEATCLOUD;
		explode rthigh type BITMAPONLY | NOHEATCLOUD;
		explode rleg type BITMAPONLY | NOHEATCLOUD;
		explode rfoot type FIRE | SMOKE | FALL | NOHEATCLOUD;
		explode lthigh type BITMAPONLY | NOHEATCLOUD;
		explode lleg type BITMAPONLY | NOHEATCLOUD;
		explode lfoot type BITMAPONLY | NOHEATCLOUD;
		return(corpsetype);
	}
	if( severity <= 50 )
	{
		corpsetype = 2 ;
		explode pelvis type BITMAPONLY | NOHEATCLOUD;
		explode head type FIRE | SMOKE | FALL | NOHEATCLOUD;
		explode rthigh type FIRE | SMOKE | FALL | NOHEATCLOUD;
		explode rleg type FIRE | SMOKE | FALL | NOHEATCLOUD;
		explode rfoot type FIRE | SMOKE | FALL | NOHEATCLOUD;
		explode lthigh type FIRE | SMOKE | FALL | NOHEATCLOUD;
		explode lleg type FIRE | SMOKE | FALL | NOHEATCLOUD;
		explode lfoot type FIRE | SMOKE | FALL | NOHEATCLOUD;
		return(corpsetype);
	}
	if( severity <= 99 )
	{
		corpsetype = 3 ;
		explode pelvis type FIRE | SMOKE | FALL | NOHEATCLOUD;
		explode head type EXPLODE_ON_HIT | FIRE | SMOKE | FALL | NOHEATCLOUD;
		explode rthigh type EXPLODE_ON_HIT | SMOKE | FALL | NOHEATCLOUD;
		explode rleg type EXPLODE_ON_HIT | SMOKE | FALL | NOHEATCLOUD;
		explode rfoot type SMOKE | FALL | NOHEATCLOUD;
		explode lthigh type SMOKE | FALL | NOHEATCLOUD;
		explode lleg type EXPLODE_ON_HIT | SMOKE | FALL | NOHEATCLOUD;
		explode lfoot type SMOKE | FALL | NOHEATCLOUD;
		return(corpsetype);
	}
	corpsetype = 3 ;
		explode pelvis type EXPLODE_ON_HIT | FIRE | SMOKE | FALL | NOHEATCLOUD;
		explode head type EXPLODE_ON_HIT | FIRE | FALL | NOHEATCLOUD;
		explode rthigh type EXPLODE_ON_HIT | FIRE | SMOKE | FALL | NOHEATCLOUD;
		explode rleg type EXPLODE_ON_HIT | FIRE | SMOKE | FALL | NOHEATCLOUD;
		explode rfoot type EXPLODE_ON_HIT | FIRE | SMOKE | FALL | NOHEATCLOUD;
		explode lthigh type EXPLODE_ON_HIT | FIRE | FALL | NOHEATCLOUD;
		explode lleg type EXPLODE_ON_HIT | FIRE | SMOKE | FALL | NOHEATCLOUD;
		explode lfoot type EXPLODE_ON_HIT | FIRE | FALL | NOHEATCLOUD;
	return corpsetype;
}
