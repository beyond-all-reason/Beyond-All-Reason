
#include "../recoil_common_includes.h"

piece
	base,
	wing,
	thrusters,
	radarDishes,
	radarPulse,
	thrust1,
	thrust2
;

// Signal definitions
#define SIGNAL_MOVE 1

#define BASEPIECE base
#define HITSPEED <105.0>
//how 'heavy' the unit is, on a scale of 1-10
#define UNITSIZE 4
#define MAXTILT 100

#include "../air_barrelroll.h"

static-var Stunned;

Lights()
{
	if (!Stunned) {
	    emit-sfx 1024 + 0 from radarPulse;
	}
	sleep 2500;
	start-script Lights();
}

Create()
{
    hide thrust1;
    hide thrust2;
    Stunned = 0;
	start-script BarrelRoll();
    call-script Deactivate();
}

Activate()
{
	show thrust1;
	show thrust2;
	signal SIGNAL_MOVE;
	set-signal-mask SIGNAL_MOVE;
	start-script Lights();

}

Deactivate()
{
	hide thrust1;
	hide thrust2;
	signal SIGNAL_MOVE;
	// set-signal-mask SIGNAL_MOVE;		 
}


Killed(severity, corpsetype)
{
	if( severity <= 25 )
	{
		corpsetype = 1 ;
		explode base type BITMAPONLY | NOHEATCLOUD;
		// explode cowlfr type BITMAPONLY | NOHEATCLOUD;
		// explode fanfr type FIRE | SMOKE | FALL | NOHEATCLOUD;
		// explode cowlbr type BITMAPONLY | NOHEATCLOUD;
		// explode fanbr type BITMAPONLY | NOHEATCLOUD;
		// explode wingr type BITMAPONLY | NOHEATCLOUD;
		// explode wing1 type BITMAPONLY | NOHEATCLOUD;
		// explode turret type BITMAPONLY | NOHEATCLOUD;
		// explode dish type BITMAPONLY | NOHEATCLOUD;
		// explode cowlbl type BITMAPONLY | NOHEATCLOUD;
		// explode fanbl type BITMAPONLY | NOHEATCLOUD;
		// explode cowlfl type BITMAPONLY | NOHEATCLOUD;
		// explode fanfl type BITMAPONLY | NOHEATCLOUD;
		return(corpsetype);
	}
	if( severity <= 50 )
	{
		corpsetype = 2 ;
		explode base type BITMAPONLY | NOHEATCLOUD;
		// explode cowlfr type BITMAPONLY | NOHEATCLOUD;
		// explode fanfr type FIRE | SMOKE | FALL | NOHEATCLOUD;
		// explode cowlbr type BITMAPONLY | NOHEATCLOUD;
		// explode fanbr type BITMAPONLY | NOHEATCLOUD;
		// explode wingr type BITMAPONLY | NOHEATCLOUD;
		// explode wing1 type BITMAPONLY | NOHEATCLOUD;
		// explode turret type BITMAPONLY | NOHEATCLOUD;
		// explode dish type BITMAPONLY | NOHEATCLOUD;
		// explode cowlbl type BITMAPONLY | NOHEATCLOUD;
		// explode fanbl type BITMAPONLY | NOHEATCLOUD;
		// explode cowlfl type BITMAPONLY | NOHEATCLOUD;
		// explode fanfl type BITMAPONLY | NOHEATCLOUD;
		return(corpsetype);
	}
	if( severity <= 99 )
	{
		corpsetype = 3 ;
		explode base type BITMAPONLY | NOHEATCLOUD;
		// explode cowlfr type BITMAPONLY | NOHEATCLOUD;
		// explode fanfr type EXPLODE_ON_HIT | FIRE | SMOKE | FALL | NOHEATCLOUD;
		// explode cowlbr type BITMAPONLY | NOHEATCLOUD;
		// explode fanbr type BITMAPONLY | NOHEATCLOUD;
		// explode wingr type EXPLODE_ON_HIT | FIRE | SMOKE | FALL | NOHEATCLOUD;
		// explode wing1 type BITMAPONLY | NOHEATCLOUD;
		// explode turret type BITMAPONLY | NOHEATCLOUD;
		// explode dish type EXPLODE_ON_HIT | FIRE | SMOKE | FALL | NOHEATCLOUD;
		// explode cowlbl type BITMAPONLY | NOHEATCLOUD;
		// explode fanbl type BITMAPONLY | NOHEATCLOUD;
		// explode cowlfl type BITMAPONLY | NOHEATCLOUD;
		// explode fanfl type BITMAPONLY | NOHEATCLOUD;
		return(corpsetype);
	}
	corpsetype = 3 ;
    explode base type BITMAPONLY | NOHEATCLOUD;
    // explode cowlfr type BITMAPONLY | NOHEATCLOUD;
    // explode fanfr type EXPLODE_ON_HIT | FIRE | SMOKE | FALL | NOHEATCLOUD;
    // explode cowlbr type BITMAPONLY | NOHEATCLOUD;
    // explode fanbr type BITMAPONLY | NOHEATCLOUD;
    // explode wingr type EXPLODE_ON_HIT | FIRE | SMOKE | FALL | NOHEATCLOUD;
    // explode wing1 type BITMAPONLY | NOHEATCLOUD;
    // explode turret type BITMAPONLY | NOHEATCLOUD;
    // explode dish type EXPLODE_ON_HIT | FIRE | FALL | NOHEATCLOUD;
    // explode cowlbl type BITMAPONLY | NOHEATCLOUD;
    // explode fanbl type BITMAPONLY | NOHEATCLOUD;
    // explode cowlfl type BITMAPONLY | NOHEATCLOUD;
    // explode fanfl type BITMAPONLY | NOHEATCLOUD;
	return corpsetype;
}
