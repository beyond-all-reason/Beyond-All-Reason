
#include "../recoil_common_includes.h"

piece  torso, lbarrel, lfoot, lleg, lsleeve, lthigh, pack, pelvis, rbarrel, rfoot, rleg, rsleeve, rthigh,
       lfirept, rfirept, aimx1, aimy1;

static-var  isMoving, isAiming, gun_1, wpnheading, animSpeed, maxSpeed, animFramesPerKeyframe, StompXZ, StompHeading;

lua_UnitScriptDecal(lightIndex, xpos,zpos, heading)
{
	return 0;
}

// Signal definitions
#define SIGNAL_AIM1 256
#define SIGNAL_MOVE 1
Walk() {// For D:\images\bar\final-corthud-anim-chonky-fixed-baked2.blend Created by https://github.com/Beherith/Skeletor_S3O V((0, 4, 2))
	set-signal-mask SIGNAL_MOVE;
	if (isMoving) { //Frame:2
			turn lfoot to x-axis <-26.852175> speed <27.345738> / animSpeed;
			turn lfoot to y-axis <0.917878> speed <5.466009> / animSpeed;
			turn lleg to x-axis <-15.034153> speed <164.068947> / animSpeed;
			turn lleg to z-axis <-1.023779> speed <3.042142> / animSpeed;
			turn lleg to y-axis <-0.283106> speed <5.071121> / animSpeed;
			move lsleeve to y-axis [-0.944519] speed [14.272070] / animSpeed;
			turn lsleeve to x-axis <7.819658> speed <78.196578> / animSpeed;
			turn lthigh to x-axis <41.893863> speed <191.610370> / animSpeed;
			turn lthigh to z-axis <-1.198993> speed <6.253391> / animSpeed;
			turn lthigh to y-axis <0.277546> speed <6.405674> / animSpeed;
			move pelvis to y-axis [-1.535913] speed [17.030482] / animSpeed;
			turn rfoot to x-axis <61.001888> speed <144.432888> / animSpeed;
			turn rfoot to z-axis <1.482887> speed <30.557759> / animSpeed;
			turn rfoot to y-axis <-2.517084> speed <36.751664> / animSpeed;
			turn rleg to x-axis <-22.054228> speed <57.621064> / animSpeed;
			turn rleg to z-axis <0.268072> speed <3.669699> / animSpeed;
			turn rleg to y-axis <-0.043535> speed <3.886169> / animSpeed;
			move rsleeve to y-axis [-1.288090] speed [19.425631] / animSpeed;
			turn rsleeve to x-axis <5.041321> speed <75.619812> / animSpeed;
			turn rthigh to x-axis <-38.984708> speed <87.460811> / animSpeed;
			turn rthigh to z-axis <-1.000498> speed <3.965776> / animSpeed;
			turn rthigh to y-axis <-0.655438> speed <3.014600> / animSpeed;
			turn torso to y-axis <4.940124> speed <15.990852> / animSpeed;
		sleep ((33*animSpeed) -1);
	}
	while(isMoving) {
		if (isMoving) { //Frame:4
			turn lfoot to x-axis <-16.181948> speed <320.106822> / animSpeed;
			turn lfoot to z-axis <0.055135> speed <4.919416> / animSpeed;
			turn lfoot to y-axis <0.387834> speed <15.901328> / animSpeed;
			turn lleg to x-axis <-3.878679> speed <334.664217> / animSpeed;
			turn lleg to z-axis <-0.644692> speed <11.372595> / animSpeed;
			turn lleg to y-axis <-0.436236> speed <4.593903> / animSpeed;
			move lsleeve to y-axis [-0.134008] speed [24.315319] / animSpeed;
			turn lsleeve to x-axis <8.724121> speed <27.133891> / animSpeed;
			turn lthigh to x-axis <20.058876> speed <655.049634> / animSpeed;
			turn lthigh to z-axis <-0.866358> speed <9.979049> / animSpeed;
			turn lthigh to y-axis <-0.039387> speed <9.507988> / animSpeed;
			move pelvis to y-axis [0.734819] speed [68.121958] / animSpeed;
			turn rfoot to x-axis <46.906345> speed <422.866301> / animSpeed;
			turn rfoot to z-axis <0.382167> speed <33.021596> / animSpeed;
			turn rfoot to y-axis <-0.880879> speed <49.086169> / animSpeed;
			turn rleg to x-axis <-26.144812> speed <122.717497> / animSpeed;
			turn rleg to z-axis <0.086214> speed <5.455768> / animSpeed;
			turn rleg to y-axis <-0.147244> speed <3.111286> / animSpeed;
			move rsleeve to y-axis [-0.508421] speed [23.390064] / animSpeed;
			turn rsleeve to x-axis <10.082640> speed <151.239573> / animSpeed;
			turn rthigh to x-axis <-20.771831> speed <546.386310> / animSpeed;
			turn rthigh to z-axis <-0.609167> speed <11.739906> / animSpeed;
			turn rthigh to y-axis <-0.240375> speed <12.451904> / animSpeed;
			turn torso to y-axis <5.106739> speed <4.998456> / animSpeed;
		sleep ((33*animSpeed) -1);
		}
		if (isMoving) { //Frame:6
			turn lfoot to x-axis <-5.839796> speed <310.264536> / animSpeed;
			turn lfoot to y-axis <0.106423> speed <8.442317> / animSpeed;
			turn lleg to x-axis <8.145928> speed <360.738208> / animSpeed;
			turn lleg to z-axis <-0.256099> speed <11.657804> / animSpeed;
			turn lleg to y-axis <-0.536883> speed <3.019417> / animSpeed;
			move lsleeve to y-axis [0.198566] speed [9.977245] / animSpeed;
			turn lsleeve to x-axis <5.319945> speed <102.125283> / animSpeed;
			turn lthigh to x-axis <-2.311624> speed <671.114988> / animSpeed;
			turn lthigh to z-axis <-0.759237> speed <3.213611> / animSpeed;
			move pelvis to y-axis [1.788618] speed [31.613960] / animSpeed;
			turn rfoot to x-axis <34.116552> speed <383.693765> / animSpeed;
			turn rfoot to z-axis <0.100695> speed <8.444163> / animSpeed;
			turn rfoot to y-axis <-0.328165> speed <16.581421> / animSpeed;
			turn rleg to x-axis <-27.264213> speed <33.582042> / animSpeed;
			move rsleeve to y-axis [0.271246] speed [23.390007] / animSpeed;
			turn rsleeve to x-axis <6.792985> speed <98.689655> / animSpeed;
			turn rthigh to x-axis <-6.855706> speed <417.483761> / animSpeed;
			turn rthigh to z-axis <-0.404061> speed <6.153179> / animSpeed;
			turn rthigh to y-axis <-0.073332> speed <5.011280> / animSpeed;
			turn torso to y-axis <4.343579> speed <22.894828> / animSpeed;
		sleep ((33*animSpeed) -1);
		}
		if (isMoving) { //Frame:8
			turn lfoot to x-axis <6.760241> speed <378.001127> / animSpeed;
			turn lfoot to y-axis <-0.094997> speed <6.042600> / animSpeed;
			turn lleg to x-axis <21.559591> speed <402.409901> / animSpeed;
			turn lleg to z-axis <0.178845> speed <13.048298> / animSpeed;
			turn lleg to y-axis <-0.693006> speed <4.683687> / animSpeed;
			move lsleeve to y-axis [0.053204] speed [4.360886] / animSpeed;
			turn lsleeve to x-axis <1.915768> speed <102.125302> / animSpeed;
			turn lthigh to x-axis <-28.328134> speed <780.495315> / animSpeed;
			move pelvis to y-axis [1.625488] speed [4.893894] / animSpeed;
			turn rfoot to x-axis <18.707492> speed <462.271813> / animSpeed;
			turn rfoot to y-axis <-0.078156> speed <7.500269> / animSpeed;
			turn rleg to x-axis <-20.902296> speed <190.857496> / animSpeed;
			move rsleeve to y-axis [0.139099] speed [3.964405] / animSpeed;
			turn rsleeve to x-axis <3.503333> speed <98.689566> / animSpeed;
			turn rthigh to x-axis <2.193954> speed <271.489787> / animSpeed;
			turn rthigh to z-axis <-0.235684> speed <5.051335> / animSpeed;
			turn torso to y-axis <2.789589> speed <46.619697> / animSpeed;
		sleep ((33*animSpeed) -1);
		}
		if (isMoving) { //Frame:10
			turn lfoot to x-axis <27.505804> speed <622.366871> / animSpeed;
			turn lfoot to y-axis <-0.276381> speed <5.441533> / animSpeed;
			turn lleg to x-axis <23.207328> speed <49.432111> / animSpeed;
			turn lleg to z-axis <0.366527> speed <5.630473> / animSpeed;
			turn lleg to y-axis <-0.518737> speed <5.228080> / animSpeed;
			turn lsleeve to x-axis <0.178066> speed <52.131067> / animSpeed;
			turn lthigh to x-axis <-50.719048> speed <671.727419> / animSpeed;
			turn lthigh to z-axis <-0.622838> speed <3.282105> / animSpeed;
			move pelvis to y-axis [1.462358] speed [4.893894] / animSpeed;
			turn rfoot to x-axis <7.549996> speed <334.724869> / animSpeed;
			turn rleg to x-axis <-24.280820> speed <101.355721> / animSpeed;
			turn rleg to z-axis <0.127549> speed <3.447538> / animSpeed;
			move rsleeve to y-axis [0.006952] speed [3.964405] / animSpeed;
			turn rsleeve to x-axis <0.213679> speed <98.689595> / animSpeed;
			turn rthigh to x-axis <16.730688> speed <436.102042> / animSpeed;
			turn rthigh to z-axis <-0.129642> speed <3.181260> / animSpeed;
			turn rthigh to y-axis <0.099502> speed <3.161553> / animSpeed;
			turn torso to y-axis <0.727702> speed <61.856591> / animSpeed;
		sleep ((33*animSpeed) -1);
		}
		if (isMoving) { //Frame:12
			turn lfoot to x-axis <51.281433> speed <713.268869> / animSpeed;
			turn lfoot to y-axis <0.012468> speed <8.665475> / animSpeed;
			turn lleg to x-axis <12.911436> speed <308.876761> / animSpeed;
			turn lleg to z-axis <0.142801> speed <6.711776> / animSpeed;
			turn lleg to y-axis <-0.023765> speed <14.849174> / animSpeed;
			turn lthigh to x-axis <-64.192891> speed <404.215274> / animSpeed;
			turn lthigh to z-axis <-0.141670> speed <14.435038> / animSpeed;
			turn lthigh to y-axis <0.326945> speed <14.180271> / animSpeed;
			move pelvis to y-axis [1.299229] speed [4.893894] / animSpeed;
			turn rfoot to x-axis <2.467615> speed <152.471440> / animSpeed;
			turn rleg to x-axis <-38.761067> speed <434.407408> / animSpeed;
			turn rleg to z-axis <0.384847> speed <7.718934> / animSpeed;
			turn rleg to y-axis <0.106617> speed <4.341817> / animSpeed;
			turn rthigh to x-axis <36.293528> speed <586.885200> / animSpeed;
			turn torso to y-axis <-1.466675> speed <65.831309> / animSpeed;
		sleep ((33*animSpeed) -1);
		}
		if (isMoving) { //Frame:14
			turn lfoot to x-axis <63.534440> speed <367.590228> / animSpeed;
			turn lfoot to z-axis <-0.154859> speed <4.466222> / animSpeed;
			turn lfoot to y-axis <0.250081> speed <7.128376> / animSpeed;
			turn lleg to x-axis <-11.184152> speed <722.867649> / animSpeed;
			turn lleg to z-axis <-0.141133> speed <8.518038> / animSpeed;
			turn lleg to y-axis <0.095567> speed <3.579951> / animSpeed;
			turn lthigh to x-axis <-52.350863> speed <355.260849> / animSpeed;
			turn lthigh to z-axis <0.069926> speed <6.347890> / animSpeed;
			move pelvis to y-axis [-1.347775] speed [79.410124] / animSpeed;
			turn rfoot to x-axis <-18.086887> speed <616.635070> / animSpeed;
			turn rfoot to y-axis <-0.140679> speed <4.563864> / animSpeed;
			turn rleg to x-axis <-28.515845> speed <307.356668> / animSpeed;
			turn rthigh to x-axis <46.603234> speed <309.291183> / animSpeed;
			turn rthigh to z-axis <0.076523> speed <4.378016> / animSpeed;
			turn torso to y-axis <-3.394017> speed <57.820277> / animSpeed;
		sleep ((33*animSpeed) -1);
		}
		if (isMoving) { //Frame:16
			turn lfoot to x-axis <61.569955> speed <58.934560> / animSpeed;
			turn lfoot to z-axis <0.053525> speed <6.251499> / animSpeed;
			turn lfoot to y-axis <-0.089842> speed <10.197673> / animSpeed;
			turn lleg to x-axis <-20.602533> speed <282.551428> / animSpeed;
			turn lthigh to x-axis <-40.967557> speed <341.499179> / animSpeed;
			turn lthigh to y-axis <0.220415> speed <4.405064> / animSpeed;
			move pelvis to y-axis [-1.762985] speed [12.456293] / animSpeed;
			turn rfoot to x-axis <-24.724897> speed <199.140295> / animSpeed;
			turn rleg to x-axis <-18.015826> speed <315.000572> / animSpeed;
			turn rthigh to x-axis <42.741196> speed <115.861148> / animSpeed;
			turn torso to y-axis <-4.703416> speed <39.281974> / animSpeed;
		sleep ((33*animSpeed) -1);
		}
		if (isMoving) { //Frame:18
			turn lfoot to x-axis <46.134711> speed <463.057319> / animSpeed;
			turn lfoot to z-axis <0.173115> speed <3.587710> / animSpeed;
			turn lfoot to y-axis <-0.406503> speed <9.499822> / animSpeed;
			turn lleg to x-axis <-18.345232> speed <67.719020> / animSpeed;
			move lsleeve to y-axis [-0.944519] speed [28.544140] / animSpeed;
			turn lsleeve to x-axis <6.950808> speed <208.524245> / animSpeed;
			turn lthigh to x-axis <-27.790628> speed <395.307870> / animSpeed;
			turn lthigh to z-axis <-0.243348> speed <6.786470> / animSpeed;
			turn lthigh to y-axis <0.068329> speed <4.562594> / animSpeed;
			move pelvis to y-axis [0.053598] speed [54.497509] / animSpeed;
			turn rfoot to x-axis <-16.302471> speed <252.672774> / animSpeed;
			turn rfoot to y-axis <-0.029702> speed <4.178095> / animSpeed;
			turn rleg to x-axis <-4.103548> speed <417.368336> / animSpeed;
			turn rleg to z-axis <0.120746> speed <8.175607> / animSpeed;
			move rsleeve to y-axis [-1.288090] speed [38.851261] / animSpeed;
			turn rsleeve to x-axis <5.041320> speed <151.239598> / animSpeed;
			turn rthigh to x-axis <20.406056> speed <670.054211> / animSpeed;
			turn torso to y-axis <-5.156471> speed <13.591637> / animSpeed;
		sleep ((33*animSpeed) -1);
		}
		if (isMoving) { //Frame:20
			turn lfoot to x-axis <36.673437> speed <283.838210> / animSpeed;
			turn lfoot to y-axis <-0.516504> speed <3.300046> / animSpeed;
			turn lleg to x-axis <-28.059259> speed <291.420796> / animSpeed;
			turn lleg to z-axis <-0.264957> speed <3.609834> / animSpeed;
			move lsleeve to y-axis [-0.134008] speed [24.315319] / animSpeed;
			turn lsleeve to x-axis <8.724121> speed <53.199391> / animSpeed;
			turn lthigh to x-axis <-8.617344> speed <575.198507> / animSpeed;
			turn lthigh to z-axis <-0.361734> speed <3.551562> / animSpeed;
			move pelvis to y-axis [1.870184] speed [54.497566] / animSpeed;
			turn rfoot to x-axis <-1.007400> speed <458.852152> / animSpeed;
			turn rleg to x-axis <-1.736406> speed <71.014272> / animSpeed;
			turn rleg to z-axis <-0.031704> speed <4.573488> / animSpeed;
			turn rleg to y-axis <-0.049667> speed <3.397075> / animSpeed;
			move rsleeve to y-axis [-0.508421] speed [23.390064] / animSpeed;
			turn rsleeve to x-axis <10.082640> speed <151.239598> / animSpeed;
			turn rthigh to x-axis <2.743719> speed <529.870100> / animSpeed;
			turn rthigh to z-axis <-0.101020> speed <3.150531> / animSpeed;
			turn rthigh to y-axis <0.002480> speed <3.315153> / animSpeed;
			turn torso to y-axis <-4.670695> speed <14.573289> / animSpeed;
		sleep ((33*animSpeed) -1);
		}
		if (isMoving) { //Frame:22
			turn lfoot to x-axis <21.078987> speed <467.833517> / animSpeed;
			turn lfoot to z-axis <0.064894> speed <3.188765> / animSpeed;
			turn lfoot to y-axis <-0.348792> speed <5.031363> / animSpeed;
			turn lleg to x-axis <-19.264916> speed <263.830298> / animSpeed;
			turn lleg to y-axis <-0.055130> speed <4.435610> / animSpeed;
			move lsleeve to y-axis [0.198566] speed [9.977245] / animSpeed;
			turn lsleeve to x-axis <5.319945> speed <102.125283> / animSpeed;
			turn lthigh to x-axis <-1.818158> speed <203.975595> / animSpeed;
			turn lthigh to z-axis <-0.518415> speed <4.700443> / animSpeed;
			move pelvis to y-axis [1.707054] speed [4.893894] / animSpeed;
			turn rfoot to x-axis <9.801348> speed <324.262427> / animSpeed;
			turn rleg to x-axis <11.255257> speed <389.749884> / animSpeed;
			turn rleg to z-axis <-0.201326> speed <5.088676> / animSpeed;
			turn rleg to y-axis <-0.186264> speed <4.097921> / animSpeed;
			move rsleeve to y-axis [0.271246] speed [23.390007] / animSpeed;
			turn rsleeve to x-axis <6.792985> speed <98.689642> / animSpeed;
			turn rthigh to x-axis <-21.057840> speed <714.046787> / animSpeed;
			turn rthigh to z-axis <-0.273771> speed <5.182520> / animSpeed;
			turn rthigh to y-axis <-0.247019> speed <7.484986> / animSpeed;
			turn torso to y-axis <-3.334532> speed <40.084871> / animSpeed;
		sleep ((33*animSpeed) -1);
		}
		if (isMoving) { //Frame:24
			turn lfoot to x-axis <8.836229> speed <367.282742> / animSpeed;
			turn lfoot to y-axis <-0.175538> speed <5.197631> / animSpeed;
			turn lleg to x-axis <-19.025989> speed <7.167805> / animSpeed;
			turn lleg to z-axis <-0.524234> speed <5.298280> / animSpeed;
			turn lleg to y-axis <-0.155148> speed <3.000541> / animSpeed;
			move lsleeve to y-axis [0.053202] speed [4.360943] / animSpeed;
			turn lsleeve to x-axis <1.915768> speed <102.125302> / animSpeed;
			turn lthigh to x-axis <10.185305> speed <360.103884> / animSpeed;
			turn lthigh to z-axis <-0.635066> speed <3.499525> / animSpeed;
			move pelvis to y-axis [1.543924] speed [4.893894] / animSpeed;
			turn rfoot to x-axis <27.771956> speed <539.118229> / animSpeed;
			turn rfoot to z-axis <0.140977> speed <3.994462> / animSpeed;
			turn rfoot to y-axis <-0.570257> speed <14.368540> / animSpeed;
			turn rleg to x-axis <13.098587> speed <55.299892> / animSpeed;
			turn rleg to y-axis <-0.434389> speed <7.443763> / animSpeed;
			move rsleeve to y-axis [0.139097] speed [3.964462] / animSpeed;
			turn rsleeve to x-axis <3.503332> speed <98.689585> / animSpeed;
			turn rthigh to x-axis <-40.880547> speed <594.681195> / animSpeed;
			turn rthigh to z-axis <-0.661247> speed <11.624272> / animSpeed;
			turn rthigh to y-axis <-0.712216> speed <13.955905> / animSpeed;
			turn torso to y-axis <-1.391257> speed <58.298248> / animSpeed;
		sleep ((33*animSpeed) -1);
		}
		if (isMoving) { //Frame:26
			turn lfoot to x-axis <0.945707> speed <236.715642> / animSpeed;
			turn lfoot to y-axis <-0.023264> speed <4.568217> / animSpeed;
			turn lleg to x-axis <-27.278017> speed <247.560838> / animSpeed;
			turn lleg to z-axis <-0.757108> speed <6.986225> / animSpeed;
			turn lsleeve to x-axis <0.213679> speed <51.062670> / animSpeed;
			turn lthigh to x-axis <26.328173> speed <484.286034> / animSpeed;
			turn lthigh to z-axis <-0.799889> speed <4.944704> / animSpeed;
			turn lthigh to y-axis <0.065924> speed <3.886073> / animSpeed;
			move pelvis to y-axis [1.380793] speed [4.893951] / animSpeed;
			turn rfoot to x-axis <49.276922> speed <645.149001> / animSpeed;
			turn rfoot to z-axis <0.941457> speed <24.014384> / animSpeed;
			turn rfoot to y-axis <-2.052506> speed <44.467472> / animSpeed;
			turn rleg to x-axis <3.793254> speed <279.159983> / animSpeed;
			turn rleg to z-axis <0.033544> speed <6.896112> / animSpeed;
			move rsleeve to y-axis [0.006952] speed [3.964348] / animSpeed;
			turn rsleeve to x-axis <0.213679> speed <98.689588> / animSpeed;
			turn rthigh to x-axis <-53.114105> speed <367.006760> / animSpeed;
			turn rthigh to z-axis <-1.277424> speed <18.485313> / animSpeed;
			turn rthigh to y-axis <-1.289947> speed <17.331908> / animSpeed;
			turn torso to y-axis <0.805324> speed <65.897443> / animSpeed;
		sleep ((33*animSpeed) -1);
		}
		if (isMoving) { //Frame:28
			turn lfoot to x-axis <-11.837120> speed <383.484813> / animSpeed;
			turn lfoot to y-axis <0.365162> speed <11.652777> / animSpeed;
			turn lleg to x-axis <-27.741501> speed <13.904541> / animSpeed;
			turn lleg to z-axis <-0.990242> speed <6.994017> / animSpeed;
			turn lthigh to x-axis <39.579321> speed <397.534427> / animSpeed;
			turn lthigh to z-axis <-1.046298> speed <7.392272> / animSpeed;
			turn lthigh to y-axis <0.219441> speed <4.605498> / animSpeed;
			move pelvis to y-axis [-0.024275] speed [42.152023] / animSpeed;
			turn rfoot to x-axis <63.667103> speed <431.705419> / animSpeed;
			turn rfoot to z-axis <2.437714> speed <44.887723> / animSpeed;
			turn rfoot to y-axis <-3.925552> speed <56.191373> / animSpeed;
			turn rleg to x-axis <-11.438991> speed <456.967343> / animSpeed;
			turn rleg to z-axis <0.286844> speed <7.598990> / animSpeed;
			turn rleg to y-axis <-0.128980> speed <11.373823> / animSpeed;
			turn rthigh to x-axis <-52.304274> speed <24.294949> / animSpeed;
			turn rthigh to z-axis <-1.444992> speed <5.027034> / animSpeed;
			turn torso to y-axis <2.855279> speed <61.498643> / animSpeed;
		sleep ((33*animSpeed) -1);
		}
		if (isMoving) { //Frame:30
			turn lfoot to x-axis <-28.675224> speed <505.143126> / animSpeed;
			turn lfoot to z-axis <0.327758> speed <8.697082> / animSpeed;
			turn lfoot to y-axis <1.282279> speed <27.513501> / animSpeed;
			turn lleg to x-axis <-25.972085> speed <53.082506> / animSpeed;
			turn lleg to z-axis <-1.226588> speed <7.090383> / animSpeed;
			turn lleg to y-axis <0.054969> speed <4.987162> / animSpeed;
			turn lthigh to x-axis <54.667888> speed <452.657024> / animSpeed;
			turn lthigh to z-axis <-1.615885> speed <17.087613> / animSpeed;
			turn lthigh to y-axis <0.704591> speed <14.554507> / animSpeed;
			move pelvis to y-axis [-2.671278] speed [79.410095] / animSpeed;
			turn rfoot to x-axis <70.630754> speed <208.909532> / animSpeed;
			turn rfoot to z-axis <3.520071> speed <32.470704> / animSpeed;
			turn rfoot to y-axis <-4.967195> speed <31.249281> / animSpeed;
			turn rleg to x-axis <-25.895633> speed <433.699254> / animSpeed;
			turn rleg to z-axis <0.512719> speed <6.776260> / animSpeed;
			turn rleg to y-axis <0.215543> speed <10.335702> / animSpeed;
			turn rthigh to x-axis <-44.815432> speed <224.665242> / animSpeed;
			turn rthigh to z-axis <-1.264883> speed <5.403263> / animSpeed;
			turn rthigh to y-axis <-0.856412> speed <12.265689> / animSpeed;
			turn torso to y-axis <4.385380> speed <45.903027> / animSpeed;
		sleep ((33*animSpeed) -1);
		}
	}
}
// Call this from StopMoving()!
StopWalking() {
	animSpeed = 10; // tune restore speed here, higher values are slower restore speeds
	move lsleeve to y-axis [0] speed [142.720699] / animSpeed;
	move pelvis to y-axis [0] speed [184.209681] / animSpeed;
	move rsleeve to y-axis [0] speed [194.256306] / animSpeed;
	turn lfoot to x-axis <0> speed <3993.071425> / animSpeed;
	turn lfoot to y-axis <0> speed <152.001971> / animSpeed;
	turn lfoot to z-axis <0> speed <64.742268> / animSpeed;
	turn lleg to x-axis <0> speed <4752.297281> / animSpeed;
	turn lleg to y-axis <0> speed <184.355951> / animSpeed;
	turn lleg to z-axis <0> speed <109.583595> / animSpeed;
	turn lsleeve to x-axis <0> speed <1042.621226> / animSpeed;
	turn lthigh to x-axis <0> speed <4463.013242> / animSpeed;
	turn lthigh to y-axis <0> speed <177.591541> / animSpeed;
	turn lthigh to z-axis <0> speed <168.449156> / animSpeed;
	turn rfoot to x-axis <0> speed <3620.900991> / animSpeed;
	turn rfoot to y-axis <0> speed <432.508200> / animSpeed;
	turn rfoot to z-axis <0> speed <316.264530> / animSpeed;
	turn rleg to x-axis <0> speed <4275.668496> / animSpeed;
	turn rleg to y-axis <0> speed <144.656431> / animSpeed;
	turn rleg to z-axis <0> speed <56.485512> / animSpeed;
	turn rsleeve to x-axis <0> speed <756.198119> / animSpeed;
	turn rthigh to x-axis <0> speed <3955.018840> / animSpeed;
	turn rthigh to y-axis <0> speed <200.593803> / animSpeed;
	turn rthigh to z-axis <0> speed <203.625303> / animSpeed;
	turn torso to y-axis <0> speed <329.487213> / animSpeed;
}
// REMEMBER TO animspeed = 2 in Create() !!
UnitSpeed(){
	maxSpeed = get MAX_SPEED; // this returns cob units per frame i think
	animFramesPerKeyframe = 2; //we need to calc the frames per keyframe value, from the known animtime
	maxSpeed = maxSpeed + (maxSpeed /(2*animFramesPerKeyframe)); // add fudge
	while(TRUE){
		animSpeed = (get CURRENT_SPEED);
		if (animSpeed<1) animSpeed=1;
		animSpeed = (maxSpeed * 2) / animSpeed;
		//get PRINT(maxSpeed, animFramesPerKeyframe, animSpeed); //how to print debug info from bos
		if (animSpeed<1) animSpeed=1;
		if (animspeed>4) animSpeed = 4;
		sleep 65;
	}
}

#define BASEPIECE pelvis
#define HITSPEED <55.0>
//how 'heavy' the unit is, on a scale of 1-10
#define UNITSIZE 2
#define MAXTILT 100

#include "../unit_hitbyweaponid_and_smoke.h"

RockUnit(anglex, anglez)
{
	turn pelvis to x-axis anglex speed <50.0>;
	turn pelvis to z-axis <0> - anglez speed <50.0>;
	wait-for-turn pelvis around z-axis;
	wait-for-turn pelvis around x-axis;
	turn pelvis to z-axis <0.0> speed <20.0>;
	turn pelvis to x-axis <0.0> speed <20.0>;
}


Create()
{
	hide lfirept;
	hide rfirept;
	hide aimx1;
	hide aimy1;
	hide rfirept;
	hide lfirept;
	isMoving = FALSE;
	isAiming = 0;
	wpnheading = 0;
	animSpeed = 2;
	gun_1 = 0;
	start-script UnitSpeed();
}

StartMoving(reversing)
{
	isMoving = TRUE;
	signal SIGNAL_MOVE;
	set-signal-mask SIGNAL_MOVE;
	start-script Walk();
	start-script UnitSpeed();
}

StopMoving()
{
	signal SIGNAL_MOVE;
	isMoving = FALSE;
	call-script StopWalking();
}



AimFromWeapon1(pieceIndex)
{
	pieceIndex = aimy1;
}

QueryWeapon1(pieceIndex)
{
	pieceIndex = lfirept + gun_1;
}

static-var  Stunned;
ExecuteRestoreAfterDelay()
{
    if (Stunned) {
        return (1);
    }
    turn aimy1 to y-axis <0.0> speed <90>;
    turn aimx1 to x-axis <0.0> speed <45>;
    wpnheading = 0xbadface;

}
SetStunned(State)
{
    Stunned = State;
	if (!Stunned) {
	    start-script ExecuteRestoreAfterDelay();
	}
}
RestoreAfterDelay()
{

	set-signal-mask SIGNAL_AIM1;
    sleep 2750;
	start-script ExecuteRestoreAfterDelay();
}


AimWeapon1(heading, pitch)
{
	signal SIGNAL_AIM1;

	turn aimy1 to y-axis heading speed <140>;
	turn aimx1 to x-axis <0.0> - pitch speed <50>;

	//needed for luarules\gadgets\unit_continuous_aim.lua
	if (wpnheading == 0xbadface OR ANGLE_DIFFERENCE_GREATER_THAN(wpnheading-heading, <5>)){
		wpnheading = 0xbadface;
		wait-for-turn aimy1 around y-axis;
		wait-for-turn aimx1 around x-axis;
	}
	wpnheading = heading;
	start-script RestoreAfterDelay();
	return (1);
}



FireWeapon1()
{
	if( gun_1 == 0 )
	{
		move lbarrel to z-axis [-2.0] now;
		emit-sfx 1024 + 0 from lfirept;
		wait-for-move lbarrel along z-axis;
		move lbarrel to z-axis [0.0] speed [4.0];
		wait-for-move lbarrel along z-axis;
	}
	else
	{
		move rbarrel to z-axis [-2.0] now;
		emit-sfx 1024 + 0 from rfirept;
		wait-for-move rbarrel along z-axis;
		move rbarrel to z-axis [0.0] speed [4.0];
		wait-for-move rbarrel along z-axis;
	}
}

EndBurst1()
{
	gun_1 = !gun_1;
}

// For N:\animations\corthud_anim_death.blend Created by https://github.com/Beherith/Skeletor_S3O V((0, 2, 8))
//use call-script DeathAnim(); from Killed()
DeathAnim() {// For N:\animations\corthud_anim_death.blend Created by https://github.com/Beherith/Skeletor_S3O V((0, 2, 8))
	signal SIGNAL_MOVE;
	signal SIGNAL_AIM1;
	call-script StopWalking();
	turn aimy1 to y-axis <0> speed <200>;
	turn aimx1 to x-axis <0> speed <200>;
		if (TRUE) { //Frame:10
			turn lbarrel to x-axis <-33.089336> speed <99.268009> ; //delta=33.09
			turn lfoot to x-axis <-6.945373> speed <19.567049> ; //delta=6.52
			turn lfoot to y-axis <-0.865159> speed <2.093428> ; //delta=-0.70
			turn lleg to x-axis <7.805739> speed <25.614638> ; //delta=-8.54
			turn lleg to z-axis <0.891584> speed <3.724061> ; //delta=1.24
			turn lleg to y-axis <0.587484> speed <1.140150> ; //delta=0.38
			turn lthigh to x-axis <7.102166> speed <21.308018> ; //delta=-7.10
			turn lthigh to z-axis <1.461809> speed <6.126013> ; //delta=2.04
			turn lthigh to y-axis <14.416487> speed <3.600843> ; //delta=1.20
			move pelvis to z-axis [11.517023] speed [34.551069] ; //delta=11.52
			move pelvis to y-axis [-2.697025] speed [8.091074] ; //delta=-2.70
			turn pelvis to x-axis <43.435249> speed <130.305748> ; //delta=-43.44
			turn rfoot to x-axis <-6.884301> speed <18.866100> ; //delta=6.29
			turn rfoot to y-axis <1.020098> speed <2.224660> ; //delta=0.74
			turn rleg to x-axis <7.655927> speed <25.888408> ; //delta=-8.63
			turn rleg to z-axis <-0.901071> speed <4.770375> ; //delta=-1.59
			turn rleg to y-axis <-0.879568> speed <2.0> ; //delta=-0.67
			turn rthigh to x-axis <7.473859> speed <22.955275> ; //delta=-7.65
			turn rthigh to z-axis <-1.678257> speed <7.212598> ; //delta=-2.40
			turn rthigh to y-axis <-16.617184> speed <4.642435> ; //delta=-1.55
		sleep 329;
		}
		if (TRUE) { //Frame:15
			turn lbarrel to x-axis <-54.244058> speed <126.928329> ; //delta=21.15
			turn lfoot to x-axis <2.989375> speed <59.608484> ; //delta=-9.93
			turn lfoot to y-axis <0.199284> speed <6.386655> ; //delta=1.06
			turn lleg to x-axis <11.746052> speed <23.641878> ; //delta=-3.94
			turn lleg to z-axis <-1.691726> speed <15.499856> ; //delta=2.58
			turn lthigh to x-axis <26.946715> speed <119.067297> ; //delta=-19.84
			turn lthigh to z-axis <-3.826971> speed <31.732684> ; //delta=5.29
			turn lthigh to y-axis <18.672511> speed <25.536144> ; //delta=4.26
			move pelvis to z-axis [15.817684] speed [25.803967] ; //delta=4.30
			move pelvis to y-axis [-6.851900] speed [24.929253] ; //delta=-4.15
			turn pelvis to x-axis <48.586663> speed <30.908484> ; //delta=-5.15
			turn rfoot to x-axis <3.556655> speed <62.645738> ; //delta=-10.44
			turn rfoot to y-axis <-0.213011> speed <7.398653> ; //delta=-1.23
			explode rbarrel type FALL|SMOKE|FIRE|NOHEATCLOUD;
			hide rbarrel;
			explode rfirept type FALL|SMOKE|FIRE|NOHEATCLOUD;
			hide rfirept;
			turn rleg to x-axis <11.227784> speed <21.431141> ; //delta=-3.57
			turn rleg to z-axis <1.919777> speed <16.925090> ; //delta=-2.82
			turn rleg to y-axis <-1.045468> speed <0.995405> ; //delta=-0.17
			turn rthigh to x-axis <27.273505> speed <118.797882> ; //delta=-19.80
			turn rthigh to z-axis <4.724743> speed <38.417999> ; //delta=-6.40
			turn rthigh to y-axis <-21.928973> speed <31.870732> ; //delta=-5.31
		sleep 164;
		}
		if (TRUE) { //Frame:20
			turn lbarrel to x-axis <-62.399836> speed <48.934672> ; //delta=8.16
			turn lfoot to x-axis <11.522802> speed <51.200566> ; //delta=-8.53
			turn lfoot to z-axis <-6.209884> speed <0.704138> ; //delta=0.12
			turn lfoot to y-axis <1.123340> speed <5.544340> ; //delta=0.92
			explode lbarrel type FALL|SMOKE|FIRE|NOHEATCLOUD;
			hide lbarrel;
			explode lfirept type FALL|SMOKE|FIRE|NOHEATCLOUD;
			hide lfirept;
			turn lleg to x-axis <-1.742445> speed <80.930980> ; //delta=13.49
			turn lleg to z-axis <0.933257> speed <15.749897> ; //delta=-2.62
			turn lleg to y-axis <0.008897> speed <3.910881> ; //delta=-0.65
			turn lthigh to x-axis <11.550897> speed <92.374911> ; //delta=15.40
			turn lthigh to z-axis <1.768076> speed <33.570283> ; //delta=-5.60
			turn lthigh to y-axis <14.539997> speed <24.795082> ; //delta=-4.13
			move pelvis to z-axis [18.514709] speed [16.182152] ; //delta=2.70
			move pelvis to y-axis [-9.767603] speed [17.494217] ; //delta=-2.92
			turn pelvis to x-axis <83.165073> speed <207.470459> ; //delta=-34.58
			turn rfoot to x-axis <12.450249> speed <53.361562> ; //delta=-8.89
			turn rfoot to z-axis <6.862478> speed <0.895284> ; //delta=-0.15
			turn rfoot to y-axis <-1.278525> speed <6.393086> ; //delta=-1.07
			turn rleg to x-axis <-2.288166> speed <81.095700> ; //delta=13.52
			turn rleg to z-axis <-1.234413> speed <18.925144> ; //delta=3.15
			turn rleg to y-axis <0.052477> speed <6.587672> ; //delta=1.10
			turn rthigh to x-axis <12.131311> speed <90.853168> ; //delta=15.14
			turn rthigh to z-axis <-1.838792> speed <39.381207> ; //delta=6.56
			turn rthigh to y-axis <-16.901091> speed <30.167289> ; //delta=5.03
		sleep 164;
		}
}


Killed(severity, corpsetype)
{
	hide rfirept;
	hide lfirept;
	if( severity <= 25 )
	{
		call-script DeathAnim();
		corpsetype = 1 ;
		explode pelvis type BITMAPONLY | NOHEATCLOUD;
		explode lthigh type BITMAPONLY | NOHEATCLOUD;
		explode lleg type BITMAPONLY | NOHEATCLOUD;
		explode lfoot type BITMAPONLY | NOHEATCLOUD;
		explode torso type BITMAPONLY | NOHEATCLOUD;
		explode lbarrel type BITMAPONLY | NOHEATCLOUD;
		return(corpsetype);
	}
	if( severity <= 50 )
	{
		corpsetype = 2 ;
		explode pelvis type FIRE | SMOKE | FALL | NOHEATCLOUD;
		explode lthigh type FIRE | SMOKE | FALL | NOHEATCLOUD;
		explode lleg type FIRE | SMOKE | FALL | NOHEATCLOUD;
		explode lfoot type FIRE | SMOKE | FALL | NOHEATCLOUD;
		explode torso type FALL | NOHEATCLOUD;
		explode lbarrel type FIRE | SMOKE | FALL | NOHEATCLOUD;
		explode rbarrel type FIRE | SMOKE | FALL | NOHEATCLOUD;
		return(corpsetype);
	}
	if( severity <= 99 )
	{
		corpsetype = 3 ;
		explode pelvis type EXPLODE_ON_HIT | FIRE | SMOKE | FALL | NOHEATCLOUD;
		explode lthigh type FIRE | SMOKE | FALL | NOHEATCLOUD;
		explode lleg type SMOKE | FALL | NOHEATCLOUD;
		explode lfoot type FIRE | SMOKE | FALL | NOHEATCLOUD;
		explode torso type FIRE | SMOKE | FALL | NOHEATCLOUD;
		explode lbarrel type EXPLODE_ON_HIT | FIRE | SMOKE | FALL | NOHEATCLOUD;
		explode rbarrel type EXPLODE_ON_HIT | FIRE | SMOKE | FALL | NOHEATCLOUD;
		return(corpsetype);
	}
	corpsetype = 3 ;
		explode pelvis type EXPLODE_ON_HIT | FIRE | FALL | NOHEATCLOUD;
		explode lthigh type EXPLODE_ON_HIT | FIRE | SMOKE | FALL | NOHEATCLOUD;
		explode lleg type EXPLODE_ON_HIT | FIRE | FALL | NOHEATCLOUD;
		explode lfoot type EXPLODE_ON_HIT | FIRE | FALL | NOHEATCLOUD;
		explode torso type EXPLODE_ON_HIT | FIRE | FALL | NOHEATCLOUD;
		explode lbarrel type EXPLODE_ON_HIT | FIRE | FALL | NOHEATCLOUD;
		explode rbarrel type EXPLODE_ON_HIT | FIRE | FALL | NOHEATCLOUD;
	return corpsetype;
}
