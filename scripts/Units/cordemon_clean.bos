
#include "../recoil_common_includes.h"

piece  pelvis, torso, rthigh, rleg, rfoot, lthigh, lleg, lfoot,lbturret, lbbarrel1, lbbarrel2, rbturret,
rbbarrel1, rbbarrel2,luparm, llarm, lfbarrel1, lfbarrel2,ruparm, rlarm, rfbarrel1, rfbarrel2,
lfflare1, lfflare2, rfflare1, rfflare2,lbflare, rbflare, head, horns, aimx1, aimy1, aaturretl, aaturretr, boxl, boxr, aaflarel, aaflarer;

static-var  gun_1, isMoving, isAiming, gun_2, targetswap, oldheading, isfiring, issmoking, shotcount, lightcount1, lightcount2;

static-var animSpeed, maxSpeed, animFramesPerKeyframe;

// Signal definitions
#define SIGNAL_AIM1 256
#define SIGNAL_MOVE 1
#define SIGNAL_AIM2 512
#define SIGNAL_SHOOT1 16


Walk() {//Created by https://github.com/Beherith/Skeletor_S3O from N:\animations\corkarg_anim_walk.blend
	set-signal-mask SIGNAL_MOVE;
	if (isMoving) { //Frame:7
			turn lbturret to x-axis <-2.0> speed <60.0> / animSpeed; 
			turn lbturret to z-axis <-2.0> speed <60.0> / animSpeed; 
			turn lbturret to y-axis <2.0> speed <60.0> / animSpeed; 
			turn lfoot to x-axis <-16.258053> speed <487.741589> / animSpeed; 
			turn lfoot to z-axis <4.468625> speed <134.058757> / animSpeed; 
			turn lfoot to y-axis <-4.157313> speed <124.719387> / animSpeed; 
			turn lleg to x-axis <-20.219863> speed <606.595896> / animSpeed; 
			turn lleg to z-axis <-16.796834> speed <503.905010> / animSpeed; 
			turn lleg to y-axis <-3.716742> speed <111.502266> / animSpeed; 
			turn lthigh to x-axis <32.121430> speed <963.642908> / animSpeed; 
			turn lthigh to z-axis <15.117084> speed <453.512506> / animSpeed; 
			turn lthigh to y-axis <0.185975> speed <5.579236> / animSpeed; 
			move pelvis to y-axis [1.070645] speed [32.119356] / animSpeed; 
			turn rbturret to x-axis <-2.0> speed <60.0> / animSpeed; 
			turn rbturret to z-axis <-1.500000> speed <45.0> / animSpeed; 
			turn rbturret to y-axis <1.500000> speed <45.0> / animSpeed; 
			turn rfoot to x-axis <15.484350> speed <464.530301> / animSpeed; 
			turn rfoot to z-axis <-9.027691> speed <270.830721> / animSpeed; 
			turn rfoot to y-axis <-6.166939> speed <185.008155> / animSpeed; 
			turn rleg to x-axis <15.204647> speed <456.139396> / animSpeed; 
			turn rleg to z-axis <1.894440> speed <56.833202> / animSpeed; 
			turn rleg to y-axis <2.431542> speed <72.946267> / animSpeed; 
			turn rthigh to x-axis <-36.154257> speed <1084.627722> / animSpeed; 
			turn rthigh to z-axis <3.032219> speed <90.966581> / animSpeed; 
			turn rthigh to y-axis <12.533713> speed <376.011391> / animSpeed;

			turn ruparm to x-axis <16.996113> speed <509.883389> / animSpeed; 
			turn ruparm to z-axis <8.247604> speed <247.428111> / animSpeed; 
			turn luparm to x-axis <16.996101> speed <509.883030> / animSpeed; 
			turn luparm to z-axis <-10.117573> speed <303.527186> / animSpeed; 
			turn torso to x-axis <-1.997258> speed <59.917736> / animSpeed; 
			turn torso to z-axis <0.104714> speed <3.141430> / animSpeed; 
			turn rlarm to x-axis <-30.950251> speed <928.507527> / animSpeed; 
			turn rlarm to z-axis <-1.239022> speed <37.170674> / animSpeed; 
			turn llarm to x-axis <-26.801591> speed <804.047718> / animSpeed; 
			turn llarm to z-axis <1.239022> speed <37.170664> / animSpeed; 
			if (!isAiming) {
			turn ruparm to y-axis <1.015624> speed <30.468725> / animSpeed; 
			turn luparm to y-axis <-1.015624> speed <30.468725> / animSpeed; 
			turn torso to y-axis <-3.001825> speed <90.054764> / animSpeed;
			turn rlarm to y-axis <0.393403> speed <11.802102> / animSpeed; 
			turn llarm to y-axis <-0.393403> speed <11.802103> / animSpeed; 
			}
		sleep 197;
	}
	while(isMoving) {
		if (isMoving) { //Frame:13
			turn head to x-axis <5.115616> speed <153.468472> / animSpeed; 
			turn head to z-axis <-0.781383> speed <23.441488> / animSpeed; 
			turn head to y-axis <-5.785355> speed <173.560652> / animSpeed; 
			turn lbturret to x-axis <3.0> speed <150.0> / animSpeed; 
			turn lbturret to z-axis <-1.0> speed <30.0> / animSpeed; 
			turn lbturret to y-axis <1.0> speed <30.0> / animSpeed; 
			turn lfoot to x-axis <14.684955> speed <928.290225> / animSpeed; 
			turn lfoot to z-axis <7.411860> speed <88.297044> / animSpeed; 
			turn lfoot to y-axis <-5.309413> speed <34.563015> / animSpeed; 
			turn lleg to x-axis <-13.520025> speed <200.995153> / animSpeed; 
			turn lleg to z-axis <-21.398069> speed <138.037064> / animSpeed; 
			turn lleg to y-axis <-7.369687> speed <109.588345> / animSpeed; 
			turn lthigh to x-axis <46.716390> speed <437.848799> / animSpeed; 
			turn lthigh to z-axis <20.076455> speed <148.781140> / animSpeed; 
			turn lthigh to y-axis <-5.847293> speed <180.998024> / animSpeed; 
			move pelvis to y-axis [0.0] speed [32.119356] / animSpeed; 
			turn rbturret to x-axis <3.0> speed <150.0> / animSpeed; 
			turn rbturret to z-axis <-3.0> speed <45.0> / animSpeed; 
			turn rbturret to y-axis <3.0> speed <45.0> / animSpeed; 
			turn rfoot to x-axis <16.979029> speed <44.840380> / animSpeed; 
			turn rfoot to z-axis <-9.591265> speed <16.907228> / animSpeed; 
			turn rfoot to y-axis <-26.473596> speed <609.199709> / animSpeed; 
			turn rleg to x-axis <-42.743655> speed <1738.449049> / animSpeed; 
			turn rleg to z-axis <18.722739> speed <504.848959> / animSpeed; 
			turn rleg to y-axis <12.349952> speed <297.552291> / animSpeed; 
			turn rthigh to x-axis <-13.404572> speed <682.490576> / animSpeed; 
			turn rthigh to z-axis <-5.432731> speed <253.948517> / animSpeed; 
			turn rthigh to y-axis <10.547575> speed <59.584137> / animSpeed; 

			turn llarm to x-axis <-14.486900> speed <369.440732> / animSpeed; 
			turn llarm to z-axis <-0.261755> speed <45.023310> / animSpeed; 
			turn ruparm to x-axis <35.631202> speed <559.052657> / animSpeed; 
			turn ruparm to z-axis <3.625839> speed <138.652934> / animSpeed; 
			turn torso to x-axis <-0.0> speed <59.917736> / animSpeed; 
			turn torso to z-axis <-0.0> speed <3.141430> / animSpeed; 
			turn rlarm to x-axis <-40.672028> speed <291.653312> / animSpeed; 
			turn rlarm to z-axis <-2.739799> speed <45.023306> / animSpeed; 
			turn luparm to x-axis <-1.638990> speed <559.052727> / animSpeed; 
			turn luparm to z-axis <-3.608069> speed <195.285123> / animSpeed; 
			if (!isAiming) {
			turn llarm to y-axis <-0.050031> speed <10.301184> / animSpeed; 
			turn ruparm to y-axis <1.804893> speed <23.678055> / animSpeed; 
			turn torso to y-axis <-4.999999> speed <59.945219> / animSpeed; 
			turn rlarm to y-axis <0.736776> speed <10.301184> / animSpeed; 
			turn luparm to y-axis <-0.226356> speed <23.678055> / animSpeed; 
			}
		sleep ((33*animSpeed) -1);
		}
		if (isMoving) { //Frame:19
			turn head to x-axis <10.231231> speed <153.468472> / animSpeed; 
			turn head to z-axis <-1.562766> speed <23.441488> / animSpeed; 
			turn head to y-axis <-11.570710> speed <173.560652> / animSpeed; 
			turn lbturret to x-axis <-2.0> speed <150.0> / animSpeed; 
			turn lbturret to z-axis <-0.0> speed <30.0> / animSpeed; 
			turn lbturret to y-axis <0.0> speed <30.0> / animSpeed; 
			turn lfoot to x-axis <-23.150528> speed <1135.064486> / animSpeed; 
			turn lfoot to z-axis <5.376260> speed <61.068013> / animSpeed; 
			turn lfoot to y-axis <4.989234> speed <308.959415> / animSpeed; 
			turn lleg to x-axis <62.214923> speed <2272.048426> / animSpeed; 
			turn lleg to z-axis <8.794883> speed <905.788559> / animSpeed; 
			turn lleg to y-axis <-9.334244> speed <58.936712> / animSpeed; 
			turn lthigh to x-axis <7.490716> speed <1176.770219> / animSpeed; 
			turn lthigh to z-axis <13.742071> speed <190.031521> / animSpeed; 
			turn lthigh to y-axis <-2.141868> speed <111.162750> / animSpeed; 
			move pelvis to y-axis [-2.0] speed [60.0] / animSpeed; 
			turn rbturret to x-axis <-2.0> speed <150.0> / animSpeed; 
			turn rbturret to z-axis <2.0> speed <150.0> / animSpeed; 
			turn rbturret to y-axis <-2.0> speed <150.0> / animSpeed; 
			turn rfoot to x-axis <22.481716> speed <165.080618> / animSpeed; 
			turn rfoot to z-axis <-2.093311> speed <224.938618> / animSpeed; 
			turn rfoot to y-axis <-0.761537> speed <771.361771> / animSpeed; 
			turn rleg to x-axis <2.252379> speed <1349.881026> / animSpeed; 
			turn rleg to z-axis <4.897235> speed <414.765099> / animSpeed; 
			turn rleg to y-axis <5.887931> speed <193.860632> / animSpeed; 
			turn rthigh to x-axis <-23.493172> speed <302.658002> / animSpeed; 
			turn rthigh to y-axis <7.354512> speed <95.791892> / animSpeed; 
			
			turn llarm to x-axis <-8.889314> speed <167.927577> / animSpeed; 
			turn llarm to z-axis <-0.943926> speed <20.465139> / animSpeed; 
			turn luparm to x-axis <-10.109488> speed <254.114958> / animSpeed; 
			turn luparm to z-axis <-1.076476> speed <75.947770> / animSpeed; 
			turn rlarm to x-axis <-44.713868> speed <121.255187> / animSpeed; 
			turn rlarm to z-axis <-3.421970> speed <20.465134> / animSpeed; 
			turn ruparm to x-axis <44.101691> speed <254.114695> / animSpeed; 
			turn ruparm to z-axis <1.258670> speed <71.015082> / animSpeed; 
			turn torso to x-axis <1.989039> speed <59.671177> / animSpeed; 
			turn torso to z-axis <-0.209141> speed <6.274228> / animSpeed; 
			if (!isAiming) {
			turn luparm to y-axis <0.132403> speed <10.762751> / animSpeed; 
			turn rlarm to y-axis <0.892855> speed <4.682357> / animSpeed; 
			turn ruparm to y-axis <2.163651> speed <10.762754> / animSpeed; 
			turn torso to y-axis <-6.003630> speed <30.108930> / animSpeed;
			turn llarm to y-axis <0.106048> speed <4.682356> / animSpeed; 
			}			
		sleep ((33*animSpeed) -1);
		}
		if (isMoving) { //Frame:25
			turn head to x-axis <5.115616> speed <153.468472> / animSpeed; 
			turn head to z-axis <-0.781383> speed <23.441488> / animSpeed; 
			turn head to y-axis <-7.960355> speed <108.310655> / animSpeed; 
			turn lbturret to x-axis <-4.0> speed <60.0> / animSpeed; 
			turn lbturret to z-axis <1.0> speed <29.999997> / animSpeed; 
			turn lbturret to y-axis <-1.0> speed <29.999997> / animSpeed; 
			turn lfoot to x-axis <2.682528> speed <774.991689> / animSpeed; 
			turn lfoot to z-axis <7.893599> speed <75.520189> / animSpeed; 
			turn lfoot to y-axis <2.673194> speed <69.481203> / animSpeed; 
			turn lleg to x-axis <53.006311> speed <276.258339> / animSpeed; 
			turn lleg to z-axis <-3.143738> speed <358.158638> / animSpeed; 
			turn lleg to y-axis <0.967541> speed <309.053540> / animSpeed; 
			turn lthigh to x-axis <-27.653623> speed <1054.330164> / animSpeed; 
			turn lthigh to z-axis <3.509623> speed <306.973431> / animSpeed; 
			turn lthigh to y-axis <-8.527999> speed <191.583938> / animSpeed; 
			move pelvis to y-axis [0.0] speed [60.0] / animSpeed; 
			turn rbturret to x-axis <-4.0> speed <60.0> / animSpeed; 
			turn rbturret to z-axis <4.0> speed <60.0> / animSpeed; 
			turn rbturret to y-axis <-4.0> speed <60.0> / animSpeed; 
			turn rfoot to x-axis <-0.670919> speed <694.579052> / animSpeed; 
			turn rfoot to z-axis <2.975967> speed <152.078335> / animSpeed; 
			turn rfoot to y-axis <0.538870> speed <39.012228> / animSpeed; 
			turn rleg to x-axis <6.526784> speed <128.232149> / animSpeed; 
			turn rleg to z-axis <5.196882> speed <8.989404> / animSpeed; 
			turn rleg to y-axis <5.407822> speed <14.403255> / animSpeed; 
			turn rthigh to x-axis <-3.574738> speed <597.553018> / animSpeed; 
			turn rthigh to z-axis <-9.399787> speed <118.028525> / animSpeed; 
			turn rthigh to y-axis <2.904056> speed <133.513688> / animSpeed; 

			turn llarm to x-axis <-19.154144> speed <307.944901> / animSpeed; 
			turn llarm to z-axis <-0.261755> speed <20.465145> / animSpeed; 
			turn luparm to x-axis <-1.638986> speed <254.115066> / animSpeed; 
			turn luparm to z-axis <-3.504354> speed <72.836316> / animSpeed; 
			turn rlarm to x-axis <-39.116282> speed <167.927577> / animSpeed; 
			turn rlarm to z-axis <-2.739799> speed <20.465134> / animSpeed; 
			turn ruparm to x-axis <35.631191> speed <254.115002> / animSpeed; 
			turn ruparm to z-axis <3.827077> speed <77.052218> / animSpeed; 
			turn torso to x-axis <-0.0> speed <59.671177> / animSpeed; 
			turn torso to z-axis <-0.0> speed <6.274228> / animSpeed; 
			if (!isAiming) {
			turn llarm to y-axis <-0.050031> speed <4.682357> / animSpeed; 
			turn luparm to y-axis <-0.226356> speed <10.762752> / animSpeed; 
			turn rlarm to y-axis <0.736776> speed <4.682356> / animSpeed; 
			turn ruparm to y-axis <1.804893> speed <10.762754> / animSpeed; 
			turn torso to y-axis <0.0> speed <180.108912> / animSpeed; 
			}
		sleep ((33*animSpeed) -1);
		}
		if (isMoving) { //Frame:31
			turn head to x-axis <-0.0> speed <153.468472> / animSpeed; 
			turn head to z-axis <-0.0> speed <23.441488> / animSpeed; 
			turn head to y-axis <0.0> speed <238.810649> / animSpeed; 
			turn lbturret to x-axis <-2.0> speed <60.0> / animSpeed; 
			turn lbturret to z-axis <2.0> speed <30.0> / animSpeed; 
			turn lbturret to y-axis <-2.0> speed <30.0> / animSpeed; 
			turn lfoot to x-axis <13.534574> speed <325.561379> / animSpeed; 
			turn lfoot to z-axis <3.784626> speed <123.269192> / animSpeed; 
			turn lfoot to y-axis <15.811965> speed <394.163133> / animSpeed; 
			turn lleg to x-axis <16.636324> speed <1091.099617> / animSpeed; 
			turn lleg to z-axis <-1.906942> speed <37.103884> / animSpeed; 
			turn lleg to y-axis <-2.268857> speed <97.091938> / animSpeed; 
			turn lthigh to x-axis <-36.741278> speed <272.629664> / animSpeed; 
			turn lthigh to z-axis <-1.420526> speed <147.904461> / animSpeed; 
			turn lthigh to y-axis <-12.940526> speed <132.375802> / animSpeed; 
			move pelvis to y-axis [1.070645] speed [32.119356] / animSpeed; 
			turn rbturret to x-axis <-2.0> speed <60.0> / animSpeed; 
			turn rbturret to z-axis <2.0> speed <60.0> / animSpeed; 
			turn rbturret to y-axis <-2.0> speed <60.0> / animSpeed; 
			turn rfoot to x-axis <-19.062489> speed <551.747115> / animSpeed; 
			turn rfoot to z-axis <-14.793976> speed <533.098292> / animSpeed; 
			turn rfoot to y-axis <-11.442735> speed <359.448172> / animSpeed; 
			turn rleg to x-axis <-20.273405> speed <804.005674> / animSpeed; 
			turn rleg to z-axis <13.695447> speed <254.956947> / animSpeed; 
			turn rleg to y-axis <3.306414> speed <63.042240> / animSpeed; 
			turn rthigh to x-axis <31.903575> speed <1064.349367> / animSpeed; 
			turn rthigh to z-axis <-16.989962> speed <227.705248> / animSpeed; 
			turn rthigh to y-axis <0.427039> speed <74.310497> / animSpeed; 

			turn llarm to x-axis <-30.950251> speed <353.883217> / animSpeed; 
			turn llarm to z-axis <1.239022> speed <45.023314> / animSpeed; 
			turn luparm to x-axis <16.996113> speed <559.052977> / animSpeed; 
			turn luparm to z-axis <-8.247604> speed <142.297502> / animSpeed; 
			turn rlarm to x-axis <-26.801591> speed <369.440732> / animSpeed; 
			turn rlarm to z-axis <-1.239022> speed <45.023316> / animSpeed; 
			turn ruparm to x-axis <16.996101> speed <559.052708> / animSpeed; 
			turn ruparm to z-axis <10.117573> speed <188.714874> / animSpeed; 
			turn torso to x-axis <-1.997258> speed <59.917736> / animSpeed; 
			turn torso to z-axis <-0.104714> speed <3.141430> / animSpeed; 
			if(!isAiming) {
			turn llarm to y-axis <-0.393403> speed <10.301183> / animSpeed; 
			turn luparm to y-axis <-1.015624> speed <23.678055> / animSpeed; 
			turn rlarm to y-axis <0.393403> speed <10.301185> / animSpeed; 
			turn ruparm to y-axis <1.015624> speed <23.678055> / animSpeed; 
			turn torso to y-axis <3.001825> speed <90.054764> / animSpeed;
			}
		sleep ((33*animSpeed) -1);
		}
		if (isMoving) { //Frame:37
			turn head to x-axis <5.115616> speed <153.468472> / animSpeed; 
			turn head to z-axis <-0.781383> speed <23.441488> / animSpeed; 
			turn head to y-axis <7.989644> speed <239.689310> / animSpeed; 
			turn lbturret to x-axis <3.0> speed <150.0> / animSpeed; 
			turn lbturret to z-axis <3.0> speed <30.0> / animSpeed; 
			turn lbturret to y-axis <-3.0> speed <30.0> / animSpeed; 
			turn lfoot to x-axis <20.262972> speed <201.851940> / animSpeed; 
			turn lfoot to z-axis <5.234529> speed <43.497095> / animSpeed; 
			turn lfoot to y-axis <5.980149> speed <294.954471> / animSpeed; 
			turn lleg to x-axis <-39.337669> speed <1679.219783> / animSpeed; 
			turn lleg to z-axis <-20.597836> speed <560.726800> / animSpeed; 
			turn lleg to y-axis <-10.348217> speed <242.380797> / animSpeed; 
			turn lthigh to x-axis <-14.949358> speed <653.757601> / animSpeed; 
			turn lthigh to z-axis <4.258544> speed <170.372099> / animSpeed; 
			turn lthigh to y-axis <-9.720740> speed <96.593585> / animSpeed; 
			move pelvis to y-axis [0.0] speed [32.119356] / animSpeed; 
			turn rbturret to x-axis <3.0> speed <150.0> / animSpeed; 
			turn rfoot to x-axis <12.209921> speed <938.172313> / animSpeed; 
			turn rfoot to z-axis <-12.785014> speed <60.268881> / animSpeed; 
			turn rfoot to y-axis <-11.224617> speed <6.543560> / animSpeed; 
			turn rleg to x-axis <-13.182489> speed <212.727488> / animSpeed; 
			turn rleg to z-axis <18.496156> speed <144.021258> / animSpeed; 
			turn rleg to y-axis <6.772366> speed <103.978540> / animSpeed; 
			turn rthigh to x-axis <46.669617> speed <442.981276> / animSpeed; 
			turn rthigh to z-axis <-21.916293> speed <147.789909> / animSpeed; 
			turn rthigh to y-axis <6.159252> speed <171.966396> / animSpeed; 

			turn llarm to x-axis <-40.672028> speed <291.653312> / animSpeed; 
			turn llarm to z-axis <2.739799> speed <45.023306> / animSpeed; 
			turn luparm to x-axis <35.631202> speed <559.052657> / animSpeed; 
			turn luparm to z-axis <-3.625839> speed <138.652934> / animSpeed; 
			turn rlarm to x-axis <-14.486900> speed <369.440732> / animSpeed; 
			turn rlarm to z-axis <0.261755> speed <45.023310> / animSpeed; 
			turn ruparm to x-axis <-1.638990> speed <559.052727> / animSpeed; 
			turn ruparm to z-axis <3.608069> speed <195.285123> / animSpeed; 
			turn torso to x-axis <-0.0> speed <59.917736> / animSpeed; 
			turn torso to z-axis <-0.0> speed <3.141430> / animSpeed; 
			if (!isAiming) {
			turn luparm to y-axis <-1.804893> speed <23.678055> / animSpeed; 
			turn llarm to y-axis <-0.736776> speed <10.301184> / animSpeed; 
			turn rlarm to y-axis <0.050031> speed <10.301184> / animSpeed; 
			turn ruparm to y-axis <0.226356> speed <23.678055> / animSpeed; 
			turn torso to y-axis <4.999999> speed <59.945219> / animSpeed; 
			}
		sleep ((33*animSpeed) -1);
		}
		if (isMoving) { //Frame:43
			turn head to x-axis <10.231231> speed <153.468472> / animSpeed; 
			turn head to z-axis <-1.562766> speed <23.441488> / animSpeed; 
			turn head to y-axis <11.629288> speed <109.189317> / animSpeed; 
			turn lbturret to x-axis <-2.0> speed <150.0> / animSpeed; 
			turn lbturret to z-axis <-2.0> speed <150.0> / animSpeed; 
			turn lbturret to y-axis <2.0> speed <150.0> / animSpeed; 
			turn lfoot to x-axis <21.491052> speed <36.842399> / animSpeed; 
			turn lfoot to z-axis <0.548920> speed <140.568280> / animSpeed; 
			turn lfoot to y-axis <3.951416> speed <60.861980> / animSpeed; 
			turn llarm to x-axis <-44.713868> speed <121.255187> / animSpeed; 
			turn llarm to z-axis <3.421970> speed <20.465134> / animSpeed; 
			turn llarm to y-axis <-0.892855> speed <4.682357> / animSpeed; 
			turn lleg to x-axis <2.608436> speed <1258.383150> / animSpeed; 
			turn lleg to z-axis <-4.650761> speed <478.412246> / animSpeed; 
			turn lleg to y-axis <-5.879756> speed <134.053852> / animSpeed; 
			turn lthigh to x-axis <-23.540889> speed <257.745931> / animSpeed; 
			turn lthigh to z-axis <5.882684> speed <48.724175> / animSpeed; 
			turn lthigh to y-axis <-7.274906> speed <73.375006> / animSpeed; 
			move pelvis to y-axis [-2.0] speed [60.0] / animSpeed; 
			turn rbturret to x-axis <-2.0> speed <150.0> / animSpeed; 
			turn rfoot to x-axis <-21.107909> speed <999.534903> / animSpeed; 
			turn rfoot to z-axis <-6.244135> speed <196.226370> / animSpeed; 
			turn rfoot to y-axis <-1.188692> speed <301.077734> / animSpeed; 
			turn rleg to x-axis <61.791144> speed <2249.208973> / animSpeed; 
			turn rleg to z-axis <-6.494759> speed <749.727441> / animSpeed; 
			turn rleg to y-axis <7.983417> speed <36.331544> / animSpeed; 
			turn rthigh to x-axis <6.822557> speed <1195.411807> / animSpeed; 
			turn rthigh to z-axis <-13.318381> speed <257.937364> / animSpeed; 
			turn rthigh to y-axis <1.670271> speed <134.669440> / animSpeed; 

			turn luparm to x-axis <44.101691> speed <254.114695> / animSpeed; 
			turn luparm to z-axis <-1.258670> speed <71.015082> / animSpeed; 
			turn rlarm to x-axis <-8.889314> speed <167.927577> / animSpeed; 
			turn ruparm to x-axis <-10.109488> speed <254.114958> / animSpeed; 
			turn ruparm to z-axis <1.076476> speed <75.947770> / animSpeed; 
			turn torso to x-axis <1.989039> speed <59.671177> / animSpeed; 
			turn torso to z-axis <0.209141> speed <6.274228> / animSpeed; 
			turn rlarm to z-axis <0.943926> speed <20.465139> / animSpeed; 
			if (!isAiming) {
			turn rlarm to y-axis <-0.106048> speed <4.682356> / animSpeed; 
			turn luparm to y-axis <-2.163651> speed <10.762754> / animSpeed; 
			turn ruparm to y-axis <-0.132403> speed <10.762751> / animSpeed; 
			turn torso to y-axis <6.003630> speed <30.108930> / animSpeed; 
			}
		sleep ((33*animSpeed) -1);
		}
		if (isMoving) { //Frame:49
			turn head to x-axis <5.115616> speed <153.468472> / animSpeed; 
			turn head to z-axis <-0.781383> speed <23.441488> / animSpeed; 
			turn head to y-axis <5.814644> speed <174.439313> / animSpeed; 
			turn lbturret to x-axis <-4.0> speed <60.0> / animSpeed; 
			turn lbturret to z-axis <-4.0> speed <60.0> / animSpeed; 
			turn lbturret to y-axis <4.0> speed <60.0> / animSpeed; 
			turn lfoot to x-axis <-1.346246> speed <685.118927> / animSpeed; 
			turn lfoot to z-axis <-3.097530> speed <109.393495> / animSpeed; 
			turn lfoot to y-axis <1.727369> speed <66.721424> / animSpeed; 
			turn lleg to x-axis <6.517353> speed <117.267492> / animSpeed; 
			turn lleg to z-axis <-5.159376> speed <15.258468> / animSpeed; 
			turn lleg to y-axis <-5.418794> speed <13.828841> / animSpeed; 
			turn lthigh to x-axis <-3.443306> speed <602.927483> / animSpeed; 
			turn lthigh to z-axis <9.741890> speed <115.776202> / animSpeed; 
			turn lthigh to y-axis <-2.866482> speed <132.252737> / animSpeed; 
			move pelvis to y-axis [0.0] speed [60.0] / animSpeed; 
			turn rbturret to x-axis <-4.0> speed <60.0> / animSpeed; 
			turn rfoot to x-axis <3.464713> speed <737.178672> / animSpeed; 
			turn rfoot to z-axis <-13.821880> speed <227.332358> / animSpeed; 
			turn rfoot to y-axis <11.706689> speed <386.861438> / animSpeed; 
			turn rleg to x-axis <49.896677> speed <356.834012> / animSpeed; 
			turn rleg to z-axis <2.860165> speed <280.647726> / animSpeed; 
			turn rleg to y-axis <-0.034784> speed <240.546045> / animSpeed; 
			turn rthigh to x-axis <-27.229507> speed <1021.561918> / animSpeed; 
			turn rthigh to z-axis <-0.080827> speed <397.126601> / animSpeed; 
			turn rthigh to y-axis <8.673256> speed <210.089545> / animSpeed; 

			turn luparm to x-axis <35.631191> speed <254.115002> / animSpeed; 
			turn luparm to z-axis <-3.827077> speed <77.052218> / animSpeed; 
			turn llarm to x-axis <-39.116282> speed <167.927577> / animSpeed; 
			turn llarm to z-axis <2.739799> speed <20.465134> / animSpeed; 
			turn rlarm to x-axis <-19.154144> speed <307.944901> / animSpeed; 
			turn rlarm to z-axis <0.261755> speed <20.465145> / animSpeed; 
			turn ruparm to x-axis <-1.638986> speed <254.115066> / animSpeed; 
			turn ruparm to z-axis <3.504354> speed <72.836316> / animSpeed; 
			turn torso to x-axis <-0.0> speed <59.671177> / animSpeed; 
			turn torso to z-axis <-0.0> speed <6.274228> / animSpeed; 
			if (!isAiming) {
			turn luparm to y-axis <-1.804893> speed <10.762754> / animSpeed; 
			turn llarm to y-axis <-0.736776> speed <4.682356> / animSpeed; 
			turn rlarm to y-axis <0.050031> speed <4.682357> / animSpeed; 
			turn ruparm to y-axis <0.226356> speed <10.762752> / animSpeed; 
			turn torso to y-axis <0.0> speed <180.108912> / animSpeed; 
			}
		sleep ((33*animSpeed) -1);
		}
		if (isMoving) { //Frame:55
			turn head to x-axis <-0.0> speed <153.468472> / animSpeed; 
			turn head to z-axis <-0.0> speed <23.441488> / animSpeed; 
			turn head to y-axis <0.0> speed <174.439313> / animSpeed; 
			turn lbturret to x-axis <-2.0> speed <60.0> / animSpeed; 
			turn lbturret to z-axis <-2.0> speed <60.0> / animSpeed; 
			turn lbturret to y-axis <2.0> speed <60.0> / animSpeed; 
			turn lfoot to x-axis <-16.258053> speed <447.354219> / animSpeed; 
			turn lfoot to z-axis <4.468625> speed <226.984652> / animSpeed; 
			turn lfoot to y-axis <-4.157313> speed <176.540454> / animSpeed; 
			turn lleg to x-axis <-20.219863> speed <802.116482> / animSpeed; 
			turn lleg to z-axis <-16.796834> speed <349.123719> / animSpeed; 
			turn lleg to y-axis <-3.716742> speed <51.061559> / animSpeed; 
			turn lthigh to x-axis <32.121430> speed <1066.942096> / animSpeed; 
			turn lthigh to z-axis <15.117084> speed <161.255797> / animSpeed; 
			turn lthigh to y-axis <0.185975> speed <91.573685> / animSpeed; 
			move pelvis to y-axis [1.070645] speed [32.119356] / animSpeed; 
			turn rbturret to x-axis <-2.0> speed <60.0> / animSpeed; 
			turn rfoot to x-axis <15.484350> speed <360.589088> / animSpeed; 
			turn rfoot to z-axis <-9.027691> speed <143.825675> / animSpeed; 
			turn rfoot to y-axis <-6.166939> speed <536.208850> / animSpeed; 
			turn rleg to x-axis <15.204647> speed <1040.760901> / animSpeed; 
			turn rleg to z-axis <1.894440> speed <28.971754> / animSpeed; 
			turn rleg to y-axis <2.431542> speed <73.989799> / animSpeed; 
			turn rthigh to x-axis <-36.154257> speed <267.742510> / animSpeed; 
			turn rthigh to z-axis <3.032219> speed <93.391396> / animSpeed; 
			turn rthigh to y-axis <12.533713> speed <115.813712> / animSpeed; 

			turn llarm to x-axis <-26.801591> speed <369.440732> / animSpeed; 
			turn llarm to z-axis <1.239022> speed <45.023316> / animSpeed; 
			turn luparm to x-axis <16.996101> speed <559.052708> / animSpeed; 
			turn luparm to z-axis <-10.117573> speed <188.714874> / animSpeed; 
			turn rlarm to x-axis <-30.950251> speed <353.883217> / animSpeed; 
			turn rlarm to z-axis <-1.239022> speed <45.023314> / animSpeed; 
			turn ruparm to x-axis <16.996113> speed <559.052977> / animSpeed; 
			turn ruparm to z-axis <8.247604> speed <142.297502> / animSpeed; 
			turn torso to x-axis <-1.997258> speed <59.917736> / animSpeed; 
			turn torso to z-axis <0.104714> speed <3.141430> / animSpeed; 
			if (!isAiming) {
			turn llarm to y-axis <-0.393403> speed <10.301185> / animSpeed; 
			turn luparm to y-axis <-1.015624> speed <23.678055> / animSpeed; 
			turn rlarm to y-axis <0.393403> speed <10.301183> / animSpeed; 
			turn ruparm to y-axis <1.015624> speed <23.678055> / animSpeed; 
			turn torso to y-axis <-3.001825> speed <90.054764> / animSpeed; 
			}
		sleep ((33*animSpeed) -1);
		}
	}
}
// Call this from StopMoving()!
StopWalking() {
	move pelvis to y-axis [0] speed [10.0];
	turn head to x-axis <0> speed <25.578079>;
	turn head to y-axis <0> speed <39.948218>;
	turn head to z-axis <0> speed <3.906915>;
	turn lbturret to x-axis <0> speed <25.0>;
	turn lbturret to y-axis <0> speed <25.0>;
	turn lbturret to z-axis <0> speed <25.0>;
	turn lfoot to x-axis <0> speed <189.177414>;
	turn lfoot to y-axis <0> speed <65.693855>;
	turn lfoot to z-axis <0> speed <37.830775>;
	turn llarm to x-axis <0> speed <134.007953>;
	turn llarm to y-axis <0> speed <1.967017>;
	turn llarm to z-axis <0> speed <7.503886>;
	turn lleg to x-axis <0> speed <378.674738>;
	turn lleg to y-axis <0> speed <51.508923>;
	turn lleg to z-axis <0> speed <150.964760>;
	turn lthigh to x-axis <0> speed <196.128370>;
	turn lthigh to y-axis <0> speed <31.930656>;
	turn lthigh to z-axis <0> speed <75.585418>;
	turn luparm to x-axis <0> speed <93.175496>;
	turn luparm to y-axis <0> speed <5.078121>;
	turn luparm to z-axis <0> speed <50.587864>;
	turn rbturret to x-axis <0> speed <25.0>;
	turn rbturret to y-axis <0> speed <25.0>;
	turn rbturret to z-axis <0> speed <25.0>;
	turn rfoot to x-axis <0> speed <166.589151>;
	turn rfoot to y-axis <0> speed <128.560295>;
	turn rfoot to z-axis <0> speed <88.849715>;
	turn rlarm to x-axis <0> speed <154.751255>;
	turn rlarm to y-axis <0> speed <1.967017>;
	turn rlarm to z-axis <0> speed <7.503886>;
	turn rleg to x-axis <0> speed <374.868162>;
	turn rleg to y-axis <0> speed <49.592048>;
	turn rleg to z-axis <0> speed <124.954573>;
	turn rthigh to x-axis <0> speed <199.235301>;
	turn rthigh to y-axis <0> speed <62.668565>;
	turn rthigh to z-axis <0> speed <66.187767>;
	turn ruparm to x-axis <0> speed <93.175496>;
	turn ruparm to y-axis <0> speed <5.078121>;
	turn ruparm to z-axis <0> speed <41.238018>;
	turn torso to x-axis <0> speed <9.986289>;
	turn torso to y-axis <0> speed <30.018152>;
	turn torso to z-axis <0> speed <1.045705>;
}
UnitSpeed(){
 maxSpeed = get MAX_SPEED; // this returns cob units per frame i think
 animFramesPerKeyframe = 6; //we need to calc the frames per keyframe value, from the known animtime
 maxSpeed = maxSpeed + (maxSpeed /(2*animFramesPerKeyframe)); // add fudge
 while(TRUE){
  animSpeed = (get CURRENT_SPEED);
  if (animSpeed<1) animSpeed=1;
  animSpeed = (maxSpeed * 9) / animSpeed; 
  //get PRINT(maxSpeed, animFramesPerKeyframe, animSpeed);
  if (animSpeed<4) animSpeed=4;
  if (animspeed>16) animSpeed = 16;
  sleep 197;
 }
}

Die(){
	signal SIGNAL_MOVE;
	signal SIGNAL_AIM1;
	call-script StopWalking();
	turn aimy1 to y-axis <0> speed <120>;
	turn aimx1 to x-axis <0> speed <120>;
		if (TRUE) { //Frame:10
			turn lfoot to x-axis <-7.951412> speed <26.504706> ; //delta=7.95 
			turn lleg to x-axis <16.387120> speed <54.623732> ; //delta=-16.39 
			turn lleg to z-axis <2.910462> speed <9.701539> ; //delta=-2.91 
			turn lleg to y-axis <-0.890204> speed <2.967347> ; //delta=-0.89 
			turn lthigh to x-axis <21.986942> speed <73.289808> ; //delta=-21.99 
			turn lthigh to z-axis <-3.068785> speed <10.229283> ; //delta=3.07 
			turn lthigh to y-axis <5.482697> speed <18.275658> ; //delta=5.48 
			turn luparm to x-axis <7.189627> speed <23.965423> ; //delta=-7.19 
			turn luparm to z-axis <3.804238> speed <12.680794> ; //delta=-3.80 
			turn luparm to y-axis <16.101790> speed <53.672634> ; //delta=16.10 
			move pelvis to z-axis [12.866584] speed [42.888613] ; //delta=12.87 
			move pelvis to y-axis [-2.600693] speed [8.668975] ; //delta=-2.60 
			turn rfoot to x-axis <-7.431432> speed <24.771461> ; //delta=7.43 
			turn rfoot to y-axis <0.948566> speed <3.161888> ; //delta=0.95 
			turn rlarm to y-axis <-4.889189> speed <16.297297> ; //delta=-4.89 
			turn rleg to x-axis <16.642186> speed <55.473967> ; //delta=-16.64 
			turn rleg to z-axis <-2.685092> speed <8.950316> ; //delta=2.69 
			turn rleg to y-axis <0.863713> speed <2.879042> ; //delta=0.86 
			turn rthigh to x-axis <21.786275> speed <72.620909> ; //delta=-21.79 
			turn rthigh to z-axis <3.156952> speed <10.523178> ; //delta=-3.16 
			turn rthigh to y-axis <-5.485487> speed <18.284957> ; //delta=-5.49 
			turn ruparm to x-axis <5.767079> speed <19.223597> ; //delta=-5.77 
			turn ruparm to z-axis <4.057815> speed <13.526051> ; //delta=-4.06 
			turn ruparm to y-axis <-12.705579> speed <42.351928> ; //delta=-12.71 
		sleep 296;
		}
		if (TRUE) { //Frame:15
			turn lfoot to x-axis <-15.315950> speed <44.187228> ; //delta=7.36 
			turn lleg to x-axis <24.468591> speed <48.488828> ; //delta=-8.08 
			turn lleg to z-axis <6.280073> speed <20.217670> ; //delta=-3.37 
			turn lleg to y-axis <-2.043062> speed <6.917149> ; //delta=-1.15 
			turn lthigh to x-axis <24.869538> speed <17.295576> ; //delta=-2.88 
			turn lthigh to z-axis <-5.768810> speed <16.200149> ; //delta=2.70 
			turn lthigh to y-axis <6.978519> speed <8.974927> ; //delta=1.50 
			turn luparm to x-axis <11.183863> speed <23.965414> ; //delta=-3.99 
			turn luparm to z-axis <5.917704> speed <12.680795> ; //delta=-2.11 
			turn luparm to y-axis <25.047229> speed <53.672634> ; //delta=8.95 
			move pelvis to z-axis [18.306166] speed [32.637491] ; //delta=5.44 
			move pelvis to y-axis [-6.955265] speed [26.127432] ; //delta=-4.35 
			turn pelvis to x-axis <10.018159> speed <60.108957> ; //delta=-10.02 
			turn rfoot to x-axis <-14.345431> speed <41.483994> ; //delta=6.91 
			turn rfoot to z-axis <0.235474> speed <1.133379> ; //delta=-0.19 
			turn rfoot to y-axis <2.046286> speed <6.586320> ; //delta=1.10 
			turn rlarm to y-axis <-7.605405> speed <16.297293> ; //delta=-2.72 
			turn rleg to x-axis <24.662514> speed <48.121965> ; //delta=-8.02 
			turn rleg to z-axis <-5.765157> speed <18.480390> ; //delta=3.08 
			turn rleg to y-axis <1.976707> speed <6.677969> ; //delta=1.11 
			turn rthigh to x-axis <24.629416> speed <17.058848> ; //delta=-2.84 
			turn rthigh to z-axis <6.013948> speed <17.141978> ; //delta=-2.86 
			turn rthigh to y-axis <-7.018057> speed <9.195416> ; //delta=-1.53 
			turn ruparm to x-axis <8.971011> speed <19.223592> ; //delta=-3.20 
			turn ruparm to z-axis <6.312157> speed <13.526049> ; //delta=-2.25 
			turn ruparm to y-axis <-19.764232> speed <42.351918> ; //delta=-7.06 
		sleep 164;
		}
		if (TRUE) { //Frame:20
			turn lfoot to x-axis <-22.089711> speed <40.642569> ; //delta=6.77 
			turn lleg to x-axis <28.717790> speed <25.495194> ; //delta=-4.25 
			turn lleg to z-axis <10.460810> speed <25.084417> ; //delta=-4.18 
			turn lleg to y-axis <-2.856911> speed <4.883093> ; //delta=-0.81 
			turn lthigh to x-axis <17.317649> speed <45.311335> ; //delta=7.55 
			turn lthigh to z-axis <-6.483776> speed <4.289795> ; //delta=0.71 
			turn lthigh to y-axis <5.110625> speed <11.207365> ; //delta=-1.87 
			turn luparm to x-axis <15.178099> speed <23.965419> ; //delta=-3.99 
			turn luparm to z-axis <8.031170> speed <12.680798> ; //delta=-2.11 
			turn luparm to y-axis <33.992666> speed <53.672624> ; //delta=8.95 
			move pelvis to z-axis [21.763689] speed [20.745140] ; //delta=3.46 
			move pelvis to y-axis [-11.497799] speed [27.255206] ; //delta=-4.54 
			turn pelvis to x-axis <30.434005> speed <122.495071> ; //delta=-20.42 
			turn rfoot to x-axis <-20.668117> speed <37.936114> ; //delta=6.32 
			turn rfoot to z-axis <0.683975> speed <2.691005> ; //delta=-0.45 
			turn rfoot to y-axis <3.511500> speed <8.791286> ; //delta=1.47 
			turn rlarm to y-axis <-10.321621> speed <16.297296> ; //delta=-2.72 
			turn rleg to x-axis <28.707347> speed <24.268997> ; //delta=-4.04 
			turn rleg to z-axis <-9.647164> speed <23.292040> ; //delta=3.88 
			turn rleg to y-axis <2.690476> speed <4.282613> ; //delta=0.71 
			turn rthigh to x-axis <17.095822> speed <45.201567> ; //delta=7.53 
			turn rthigh to z-axis <7.019100> speed <6.030912> ; //delta=-1.01 
			turn rthigh to y-axis <-5.184667> speed <11.0> ; //delta=1.83 
			turn ruparm to x-axis <12.174945> speed <19.223605> ; //delta=-3.20 
			turn ruparm to z-axis <8.566498> speed <13.526049> ; //delta=-2.25 
			turn ruparm to y-axis <-26.822885> speed <42.351923> ; //delta=-7.06 
		sleep 164;
		}
		if (TRUE) { //Frame:25
			turn lfoot to x-axis <-13.091148> speed <53.991380> ; //delta=-9.00 
			turn lleg to x-axis <18.620366> speed <60.584543> ; //delta=10.10 
			turn lleg to z-axis <5.543192> speed <29.505703> ; //delta=4.92 
			turn lleg to y-axis <-1.105353> speed <10.509350> ; //delta=1.75 
			turn lthigh to x-axis <15.827384> speed <8.941592> ; //delta=1.49 
			turn lthigh to z-axis <-3.633101> speed <17.104045> ; //delta=-2.85 
			turn lthigh to y-axis <4.165242> speed <5.672296> ; //delta=-0.95 
			turn luparm to x-axis <19.172338> speed <23.965430> ; //delta=-3.99 
			turn luparm to z-axis <10.144636> speed <12.680793> ; //delta=-2.11 
			turn luparm to y-axis <42.938107> speed <53.672644> ; //delta=8.95 
			move pelvis to z-axis [26.502817] speed [28.434769] ; //delta=4.74 
			move pelvis to y-axis [-14.509933] speed [18.072802] ; //delta=-3.01 
			turn pelvis to x-axis <49.548569> speed <114.687387> ; //delta=-19.11 
			turn rfoot to x-axis <-12.250557> speed <50.505356> ; //delta=-8.42 
			turn rfoot to z-axis <0.201426> speed <2.895295> ; //delta=0.48 
			turn rfoot to y-axis <1.857616> speed <9.923305> ; //delta=-1.65 
			turn rlarm to y-axis <-13.037837> speed <16.297301> ; //delta=-2.72 
			turn rleg to x-axis <18.765332> speed <59.652089> ; //delta=9.94 
			turn rleg to z-axis <-5.149120> speed <26.988267> ; //delta=-4.50 
			turn rleg to y-axis <1.054574> speed <9.815415> ; //delta=-1.64 
			turn rthigh to x-axis <15.627579> speed <8.809458> ; //delta=1.47 
			turn rthigh to z-axis <3.883779> speed <18.811929> ; //delta=3.14 
			turn rthigh to y-axis <-4.196180> speed <5.930923> ; //delta=0.99 
			turn ruparm to x-axis <15.378878> speed <19.223595> ; //delta=-3.20 
			turn ruparm to z-axis <10.820841> speed <13.526054> ; //delta=-2.25 
			turn ruparm to y-axis <-33.881539> speed <42.351923> ; //delta=-7.06 
		sleep 164;
		}
		if (TRUE) { //Frame:30
			turn lfoot to x-axis <6.183374> speed <115.647131> ; //delta=-19.27 
			turn lleg to x-axis <3.002818> speed <93.705290> ; //delta=15.62 
			turn lleg to z-axis <-2.510946> speed <48.324833> ; //delta=8.05 
			turn lleg to y-axis <-0.123604> speed <5.890496> ; //delta=0.98 
			turn lthigh to x-axis <16.343596> speed <3.097272> ; //delta=-0.52 
			turn lthigh to z-axis <1.088185> speed <28.327718> ; //delta=-4.72 
			turn lthigh to y-axis <2.934389> speed <7.385117> ; //delta=-1.23 
			turn luparm to x-axis <23.166574> speed <23.965419> ; //delta=-3.99 
			turn luparm to z-axis <12.258101> speed <12.680793> ; //delta=-2.11 
			turn luparm to y-axis <51.883544> speed <53.672624> ; //delta=8.95 
			move pelvis to z-axis [31.482067] speed [29.875500] ; //delta=4.98 
			move pelvis to y-axis [-17.657333] speed [18.884405] ; //delta=-3.15 
			turn pelvis to x-axis <66.698771> speed <102.901212> ; //delta=-17.15 
			turn rfoot to x-axis <5.816803> speed <108.404162> ; //delta=-18.07 
			turn rfoot to z-axis <0.044184> speed <0.943448> ; //delta=0.16 
			turn rfoot to y-axis <-0.846276> speed <16.223353> ; //delta=-2.70 
			turn rlarm to y-axis <-15.754053> speed <16.297296> ; //delta=-2.72 
			turn rleg to x-axis <3.148200> speed <93.702791> ; //delta=15.62 
			turn rleg to z-axis <2.354425> speed <45.021265> ; //delta=-7.50 
			turn rleg to y-axis <0.117119> speed <5.624730> ; //delta=-0.94 
			turn rthigh to x-axis <16.315596> speed <4.128101> ; //delta=-0.69 
			turn rthigh to z-axis <-1.213100> speed <30.581272> ; //delta=5.10 
			turn rthigh to y-axis <-2.889764> speed <7.838492> ; //delta=1.31 
			turn ruparm to x-axis <18.582810> speed <19.223595> ; //delta=-3.20 
			turn ruparm to z-axis <13.075182> speed <13.526049> ; //delta=-2.25 
			turn ruparm to y-axis <-40.940195> speed <42.351933> ; //delta=-7.06 
		sleep 164;
		}
		if (TRUE) { //Frame:36
			turn lfoot to x-axis <22.858674> speed <83.376501> ; //delta=-16.68 
			turn lleg to x-axis <-9.415143> speed <62.089806> ; //delta=12.42 
			turn lleg to z-axis <-7.258226> speed <23.736398> ; //delta=4.75 
			turn lleg to y-axis <-0.677100> speed <2.767480> ; //delta=-0.55 
			turn lthigh to x-axis <13.516371> speed <14.136122> ; //delta=2.83 
			turn lthigh to z-axis <7.410415> speed <31.611152> ; //delta=-6.32 
			turn lthigh to y-axis <0.177773> speed <13.783080> ; //delta=-2.76 
			move pelvis to x-axis [-1.564401] speed [7.822003] ; //delta=-1.56 
			move pelvis to z-axis [35.089668] speed [18.038006] ; //delta=3.61 
			move pelvis to y-axis [-22.561186] speed [24.519262] ; //delta=-4.90 
			turn pelvis to x-axis <85.967336> speed <96.342824> ; //delta=-19.27 
			turn rfoot to x-axis <25.648935> speed <99.160659> ; //delta=-19.83 
			turn rfoot to z-axis <0.716651> speed <3.362332> ; //delta=-0.67 
			turn rfoot to y-axis <-3.649921> speed <14.018222> ; //delta=-2.80 
			turn rlarm to y-axis <-19.013512> speed <16.297292> ; //delta=-3.26 
			turn rleg to x-axis <-11.830570> speed <74.893848> ; //delta=14.98 
			turn rleg to z-axis <10.0> speed <38.230718> ; //delta=-7.65 
			turn rleg to y-axis <1.343435> speed <6.131581> ; //delta=1.23 
			turn rthigh to x-axis <14.475478> speed <9.200589> ; //delta=1.84 
			turn rthigh to z-axis <-3.123860> speed <9.553801> ; //delta=1.91 
			turn rthigh to y-axis <-2.028980> speed <4.303921> ; //delta=0.86 
		sleep 197;
		}
		if (TRUE) { //Frame:38
			turn lfoot to x-axis <24.088595> speed <18.448811> ; //delta=-1.23 
			turn lleg to x-axis <-11.162255> speed <26.206680> ; //delta=1.75 
			turn lleg to z-axis <-7.490688> speed <3.486931> ; //delta=0.23 
			turn lthigh to x-axis <10.917007> speed <38.990464> ; //delta=2.60 
			turn lthigh to z-axis <8.088870> speed <10.176820> ; //delta=-0.68 
			turn lthigh to y-axis <-0.460547> speed <9.574794> ; //delta=-0.64 
			move pelvis to x-axis [-1.854104] speed [4.345551] ; //delta=-0.29 
			move pelvis to z-axis [35.367222] speed [4.163303] ; //delta=0.28 
			move pelvis to y-axis [-23.109104] speed [8.218775] ; //delta=-0.55 
			turn pelvis to x-axis <90.401966> speed <66.519451> ; //delta=-4.43 
			explode rbturret type FALL|SMOKE|FIRE|NOHEATCLOUD;
			hide rbturret;
			explode rbbarrel1 type FALL|SMOKE|FIRE|NOHEATCLOUD;
			hide rbbarrel1;
			explode rbbarrel2 type FALL|SMOKE|FIRE|NOHEATCLOUD;
			hide rbbarrel2;
			explode rbflare type FALL|SMOKE|FIRE|NOHEATCLOUD;
			hide rbflare;
			turn rfoot to x-axis <27.810773> speed <32.427578> ; //delta=-2.16 
			turn rfoot to z-axis <0.823446> speed <1.601927> ; //delta=-0.11 
			turn rfoot to y-axis <-3.943304> speed <4.400753> ; //delta=-0.29 
			turn rlarm to y-axis <-20.099999> speed <16.297301> ; //delta=-1.09 
			turn rleg to x-axis <-14.010692> speed <32.701832> ; //delta=2.18 
			turn rleg to z-axis <10.768171> speed <11.514047> ; //delta=-0.77 
			turn rleg to y-axis <1.621355> speed <4.168806> ; //delta=0.28 
			turn rthigh to x-axis <12.105020> speed <35.556872> ; //delta=2.37 
			turn rthigh to y-axis <-1.615845> speed <6.197031> ; //delta=0.41 
		sleep 65;
		}
		if (TRUE) { //Frame:40
			turn lfoot to x-axis <23.354937> speed <11.004869> ; //delta=0.73 
			turn lleg to x-axis <-9.513333> speed <24.733831> ; //delta=-1.65 
			turn lleg to z-axis <-7.356158> speed <2.017950> ; //delta=-0.13 
			turn lthigh to x-axis <14.070623> speed <47.304242> ; //delta=-3.15 
			turn lthigh to z-axis <7.684261> speed <6.069140> ; //delta=0.40 
			turn lthigh to y-axis <0.165055> speed <9.384029> ; //delta=0.63 
			move pelvis to x-axis [-1.670315] speed [2.756832] ; //delta=0.18 
			move pelvis to z-axis [35.182568] speed [2.769814] ; //delta=-0.18 
			move pelvis to y-axis [-22.886957] speed [3.332205] ; //delta=0.22 
			turn pelvis to x-axis <86.086454> speed <64.732674> ; //delta=4.32 
			turn rfoot to x-axis <26.415816> speed <20.924353> ; //delta=1.39 
			turn rfoot to y-axis <-3.758445> speed <2.772886> ; //delta=0.18 
			turn rleg to x-axis <-12.105738> speed <28.574301> ; //delta=-1.90 
			turn rleg to z-axis <10.280707> speed <7.311969> ; //delta=0.49 
			turn rleg to y-axis <1.432247> speed <2.836620> ; //delta=-0.19 
			turn rthigh to x-axis <15.079104> speed <44.611270> ; //delta=-2.97 
			turn rthigh to y-axis <-2.186278> speed <8.556507> ; //delta=-0.57 
		sleep 65;
		}
		if (TRUE) { //Frame:45
			move lbturret to x-axis [-72.841965] speed [437.051788] ; //delta=-72.84 
			explode lbturret type FALL|SMOKE|FIRE|NOHEATCLOUD;
			hide lbturret;
			explode lbbarrel1 type FALL|SMOKE|FIRE|NOHEATCLOUD;
			hide lbbarrel1;
			explode lbbarrel2 type FALL|SMOKE|FIRE|NOHEATCLOUD;
			hide lbbarrel2;
			explode lbflare type FALL|SMOKE|FIRE|NOHEATCLOUD;
			hide lbflare;
			turn lfoot to x-axis <19.488089> speed <23.201091> ; //delta=3.87 
			turn lleg to x-axis <-5.632170> speed <23.286982> ; //delta=-3.88 
			turn lleg to z-axis <-6.511956> speed <5.065215> ; //delta=-0.84 
			turn lleg to y-axis <-0.465322> speed <1.399753> ; //delta=0.23 
			turn lthigh to x-axis <17.203098> speed <18.794850> ; //delta=-3.13 
			turn lthigh to z-axis <5.567228> speed <12.702195> ; //delta=2.12 
			turn lthigh to y-axis <1.438559> speed <7.641021> ; //delta=1.27 
			move pelvis to x-axis [-0.927052] speed [4.459579] ; //delta=0.74 
			move pelvis to z-axis [34.435806] speed [4.480568] ; //delta=-0.75 
			move pelvis to y-axis [-21.988571] speed [5.390316] ; //delta=0.90 
			turn pelvis to x-axis <79.400703> speed <40.114507> ; //delta=6.69 
			turn rfoot to x-axis <20.572164> speed <35.061912> ; //delta=5.84 
			turn rfoot to z-axis <0.488876> speed <1.599737> ; //delta=0.27 
			turn rfoot to y-axis <-2.952444> speed <4.836008> ; //delta=0.81 
			turn rleg to x-axis <-6.985100> speed <30.723834> ; //delta=-5.12 
			turn rleg to z-axis <8.118046> speed <12.975964> ; //delta=2.16 
			turn rleg to y-axis <0.718232> speed <4.284093> ; //delta=-0.71 
			turn rthigh to x-axis <17.709552> speed <15.782685> ; //delta=-2.63 
			turn rthigh to y-axis <-2.551461> speed <2.191096> ; //delta=-0.37 
		sleep 164;
		}
		if (TRUE) { //Frame:50
			turn lfoot to x-axis <21.546561> speed <12.350833> ; //delta=-2.06 
			turn lleg to x-axis <-8.365745> speed <16.401449> ; //delta=2.73 
			turn lleg to z-axis <-6.923944> speed <2.471931> ; //delta=0.41 
			turn lleg to y-axis <-0.596502> speed <0.787084> ; //delta=-0.13 
			turn lthigh to x-axis <14.016852> speed <19.117479> ; //delta=3.19 
			turn lthigh to z-axis <6.865205> speed <7.787863> ; //delta=-1.30 
			turn lthigh to y-axis <0.445852> speed <5.956240> ; //delta=-0.99 
			move pelvis to x-axis [-1.390578] speed [2.781156] ; //delta=-0.46 
			move pelvis to z-axis [34.901516] speed [2.794258] ; //delta=0.47 
			move pelvis to y-axis [-22.548840] speed [3.361610] ; //delta=-0.56 
			turn pelvis to x-axis <84.980537> speed <33.479005> ; //delta=-5.58 
			turn rfoot to x-axis <23.839915> speed <19.606502> ; //delta=-3.27 
			turn rfoot to z-axis <0.631858> speed <0.857892> ; //delta=-0.14 
			turn rfoot to y-axis <-3.417066> speed <2.787733> ; //delta=-0.46 
			turn rleg to x-axis <-10.501550> speed <21.098702> ; //delta=3.52 
			turn rleg to z-axis <9.383267> speed <7.591325> ; //delta=-1.27 
			turn rleg to y-axis <1.137137> speed <2.513432> ; //delta=0.42 
			turn rthigh to x-axis <14.857927> speed <17.109747> ; //delta=2.85 
			turn rthigh to y-axis <-2.089221> speed <2.773443> ; //delta=0.46 
		sleep 164;
		}
		if (TRUE) { //Frame:55
			explode head type FALL|SMOKE|FIRE|NOHEATCLOUD;
			hide head;
			turn lfoot to x-axis <24.066836> speed <15.121650> ; //delta=-2.52 
			turn lleg to x-axis <-11.201945> speed <17.017201> ; //delta=2.84 
			turn lleg to z-axis <-7.483747> speed <3.358816> ; //delta=0.56 
			turn lleg to y-axis <-0.744686> speed <0.889104> ; //delta=-0.15 
			turn lthigh to x-axis <10.776920> speed <19.439591> ; //delta=3.24 
			turn lthigh to z-axis <8.081734> speed <7.299173> ; //delta=-1.22 
			turn lthigh to y-axis <-0.479487> speed <5.552032> ; //delta=-0.93 
			move pelvis to x-axis [-1.854104] speed [2.781156] ; //delta=-0.46 
			move pelvis to z-axis [35.367222] speed [2.794235] ; //delta=0.47 
			move pelvis to y-axis [-23.109104] speed [3.361588] ; //delta=-0.56 
			turn pelvis to x-axis <90.560365> speed <33.478965> ; //delta=-5.58 
			turn rfoot to x-axis <27.794949> speed <23.730208> ; //delta=-3.96 
			turn rfoot to z-axis <0.822469> speed <1.143665> ; //delta=-0.19 
			turn rfoot to y-axis <-3.941405> speed <3.146035> ; //delta=-0.52 
			turn rleg to x-axis <-14.047901> speed <21.278107> ; //delta=3.55 
			turn rleg to z-axis <10.763769> speed <8.283010> ; //delta=-1.38 
			turn rleg to y-axis <1.620443> speed <2.899835> ; //delta=0.48 
			turn rthigh to x-axis <11.967635> speed <17.341751> ; //delta=2.89 
			turn rthigh to y-axis <-1.588510> speed <3.004261> ; //delta=0.50 
		sleep 164;
		}

}


StartMoving(reversing)
{
	signal SIGNAL_MOVE;
	set-signal-mask SIGNAL_MOVE;
	isMoving = TRUE;
	start-script Walk();
	start-script UnitSpeed();
}


StopMoving()
{
	signal SIGNAL_MOVE;
	start-script StopWalking();
	isMoving = FALSE;
}



#define BASEPIECE pelvis
#define HITSPEED <55.0>
//how 'heavy' the unit is, on a scale of 1-10
#define UNITSIZE 10
#define MAXTILT 100

#include "../unit_hitbyweaponid_and_smoke.h"

PilotLight()
{
	while( TRUE )
	{
		emit-sfx 1024 + 1 from rfflare2;
		emit-sfx 1024 + 1 from lfflare1;
		sleep 120;
	}
}

Create()
{
	hide rfflare1;
	hide rfflare2;
	hide lfflare2;
	hide lfflare1;
	hide aimx1;
	hide rbflare;
	hide lbflare;
	hide aimy1;
	gun_1 = 1;
	gun_2 = 0;
	targetswap = 0;
	isfiring = 0;
	issmoking = 0;
	shotcount = 0;
	lightcount1 = 0;
	lightcount2 = 0;
	isMoving = FALSE;
	isAiming = FALSE;
	animSpeed = 6;
	start-script PilotLight();
	
	turn rbflare to x-axis <-130> now;
	turn lbflare to x-axis <-130> now;
	
	turn rbflare to y-axis <35> now;
	turn lbflare to y-axis <-35> now;
	SLEEP_UNTIL_UNITFINISHED;
	return (0);
}



QueryWeapon1(pieceIndex)
{
	if( gun_1 == 1 )
	{
		pieceIndex = lfflare1;
		return (0);
	}
	if( gun_1 == 2 )
	{
		pieceIndex = rfflare1;
		return (0);
	}
	if( gun_1 == 3 )
	{
		pieceIndex = lfflare2;
		return (0);
	}
	if( gun_1 == 4 )
	{
		pieceIndex = rfflare2;
		return (0);
	}
}

QueryWeapon2(pieceIndex)
{
	if( gun_2 == 0 )
	{
		pieceIndex = aaflarel;
		return (0);
	}
	if( gun_2 == 1 )
	{
		pieceIndex = aaflarer;
		return (0);
	}
}

AimFromWeapon1(pieceIndex)
{
	pieceIndex = torso;
	return (0);
}

AimFromWeapon2(pieceIndex)
{
	if( gun_2 == 1 )
	{
		pieceIndex = aaflarel;
		return (0);
	}
	if( gun_2 == 0 )
	{
		pieceIndex = aaflarer;
		return (0);
	}
}

RestoreAfterDelay()
{
	sleep 1000;
	isAiming = FALSE;
	isfiring = 0;
	targetswap = 0;
	turn aimx1 to x-axis <0.0> speed <80.0>;
	turn aimy1 to y-axis  <0.0> speed <80.0>;
	turn aaturretl to x-axis <0.0> speed <80.0>;
	turn aaturretl to y-axis  <0.0> speed <80.0>;
	turn aaturretr to x-axis <0.0> speed <80.0>;
	turn aaturretr to y-axis  <0.0> speed <80.0>;
}

lua_UnitScriptLight(lightIndex, count)
{
	return 0;
}

lua_UnitScriptDistortion(lightIndex, count)
{
	return 0;
}


SmokeItUp()
{	
	if (issmoking == 0 OR TRUE)
	{
		issmoking = 1;
		emit-sfx 257 from lbbarrel1;
		emit-sfx 258 from rbflare;
		sleep 45;
		emit-sfx 258 from lbflare;
		emit-sfx 257 from rbbarrel1;
		sleep 45;
		issmoking = 0;
	}
}

SweepFire()
{
	start-script SmokeItUp();
	if( gun_1 == 1 )
	{
		emit-sfx 2048 from lfflare1;
		emit-sfx 2048 from rfflare1;
		emit-sfx 1024 + 0 from lfflare2;
		emit-sfx 1024 + 0 from rfflare1;
	}
	if( gun_1 == 2 )
	{
		emit-sfx 2048 from rfflare1;
		emit-sfx 2048 from lfflare2;
		emit-sfx 1024 + 0 from lfflare2;
		emit-sfx 1024 + 0 from rfflare1;
	}
	if( gun_1 == 3 )
	{
		gun_1 = 0;
		emit-sfx 2048 from lfflare2;
		emit-sfx 2048 from rfflare2;
		emit-sfx 1024 + 0 from lfflare2;
		emit-sfx 1024 + 0 from rfflare1;
	}
	if( gun_1 == 4 )
	{
		gun_1 = 1;
		emit-sfx 2048 from rfflare2;
		emit-sfx 2048 from lfflare1;
		emit-sfx 1024 + 0 from lfflare2;
		emit-sfx 1024 + 0 from rfflare1;
	}
	gun_1 = gun_1 + 2;
	return (0);
}

AimWeapon1(heading, pitch)
{
	signal SIGNAL_AIM1;
	set-signal-mask SIGNAL_AIM1;
	isAiming = TRUE;
	start-script SmokeItUp();
	turn aimy1 to y-axis heading speed <130.0>;
	turn aimx1 to x-axis <0.0> - pitch speed <120.0>;
	if ( (oldheading - heading) > 5000 AND targetswap <= 0)
	{
		targetswap = (oldheading - heading)/3034;
	}
	if ( (oldheading - heading) < -5000 AND targetswap <= 0)
	{
		targetswap = -1*(oldheading - heading)/3034;
	}
	oldheading = heading;
	if ( targetswap > 0 AND isfiring == 1 AND FALSE)
	{
		start-script SweepFire();
		sleep 33;
		start-script SweepFire();
		sleep 33;
		start-script SweepFire();
		sleep 33;
		//start-script SweepFire();
		//sleep 33;
		//start-script SweepFire();
		//sleep 33;
		//start-script SweepFire();
		//sleep 33;
		targetswap = targetswap - 1;
		start-script RestoreAfterDelay();
		return (0);
	}
	
	if ((get ABS(oldheading - heading)) > 2000){
		wait-for-turn aimy1 around y-axis;
		wait-for-turn aimx1 around x-axis;
	}
	
	oldheading = heading;
	//wait-for-turn aimy1 around y-axis;
	//wait-for-turn aimx1 around x-axis;
	start-script RestoreAfterDelay();
	isfiring = 1;
	return (1);
}

AimWeapon2(heading, pitch)
{
	signal SIGNAL_AIM2;
	set-signal-mask SIGNAL_AIM2;
	turn aaturretl to y-axis heading speed <192.500000>;
	turn aaturretr to y-axis heading speed <192.500000>;
	turn boxl to x-axis -1*pitch speed <90>;
	turn boxr to x-axis -1*pitch speed <90>;
	wait-for-turn aaturretl around y-axis;
	wait-for-turn boxl around x-axis;
	start-script RestoreAfterDelay();
	return (1);
}


Shot1()
{
	signal SIGNAL_SHOOT1;
	
	set-signal-mask SIGNAL_SHOOT1;
	emit-sfx 1024 + 0 from lfflare2;
	emit-sfx 1024 + 0 from rfflare1;
	//start-script SmokeItUp();
	shotcount = shotcount + 1;
	call-script lua_UnitScriptDistortion(3, shotcount);
	call-script lua_UnitScriptDistortion(4, shotcount);

	//call-script lua_UnitScriptLight(5, shotcount);
	//call-script lua_UnitScriptLight(6, shotcount);
	if( gun_1 == 1 )
	{
		turn aimy1 to x-axis <-1> now; 
		//call-script lua_UnitScriptLight(1, shotcount);
		gun_1 = 2;
		return(1);
	}
	if( gun_1 == 2 )
	{
		//call-script lua_UnitScriptLight(2, shotcount);
		gun_1 = 3;
		return(1);
	}
	if( gun_1 == 3 )

	{		
		//get PRINT(lightcount1);
		if (lightcount1 == 25) {
			call-script lua_UnitScriptLight(1, shotcount);
			call-script lua_UnitScriptDistortion(1, shotcount);
			lightcount1 = 0;
		} else {
			lightcount1 = lightcount1 + 1;
		}
		gun_1 = 4;
		return(1);
	}
	if( gun_1 == 4 )
	{
		if (lightcount2 == 25) {
			call-script lua_UnitScriptLight(2, shotcount);
			call-script lua_UnitScriptDistortion(2, shotcount);
			lightcount2 = 0;
		} else {
			lightcount2 = lightcount2 + 1;
		}
		//call-script lua_UnitScriptLight(2, shotcount);

		gun_1 = 1;
		return(1);
	}
}

FireWeapon1()
{
	
	return(1);
}

FireWeapon2()
{

	if( gun_2 == 0 )
	{
		turn aimy1 to x-axis <-1> now; // dont always do this
		turn aimy1 to x-axis <0> speed <5>;
		move lfbarrel1 to z-axis [-1] speed [750.0];
		sleep 150;
		move lfbarrel1 to z-axis [0.0] speed [8.750000];
		
	}
	if( gun_2 == 1 )
	{
		move rfbarrel1 to z-axis [-1] speed [750.0];
		sleep 150;
		move rfbarrel1 to z-axis [0.0] speed [8.750000];
	}
	gun_2 = !gun_2;
	return (0);
}

Killed(severity, corpsetype)
{
	if( severity <= 25 )
	{
		call-script Die();
		corpsetype = 1 ;
		explode pelvis type BITMAPONLY | NOHEATCLOUD;
		explode rthigh type BITMAPONLY | NOHEATCLOUD;
		explode rleg type BITMAPONLY | NOHEATCLOUD;
		explode torso type BITMAPONLY | NOHEATCLOUD;
		explode lbbarrel2 type BITMAPONLY | NOHEATCLOUD;
		explode luparm type BITMAPONLY | NOHEATCLOUD;
		explode rlarm type BITMAPONLY | NOHEATCLOUD;
		explode rfbarrel1 type BITMAPONLY | NOHEATCLOUD;
		explode head type BITMAPONLY | NOHEATCLOUD;
		return(corpsetype);
	}
	if( severity <= 50 )
	{
		corpsetype = 2 ;
		explode pelvis type BITMAPONLY | NOHEATCLOUD;
		explode rthigh type FIRE | SMOKE | FALL | NOHEATCLOUD;
		explode rleg type FALL | NOHEATCLOUD;
		explode torso type FALL | NOHEATCLOUD;
		explode rbbarrel1 type FIRE | SMOKE | FALL | NOHEATCLOUD;
		explode ruparm type FIRE | SMOKE | FALL | NOHEATCLOUD;
		explode rlarm type FALL | NOHEATCLOUD;
		explode head type FIRE | SMOKE | FALL | NOHEATCLOUD;
		return(corpsetype);
	}
	if( severity <= 99 )
	{
		corpsetype = 2 ;
		explode pelvis type FIRE | SMOKE | FALL | NOHEATCLOUD;
		explode lthigh type SMOKE | FALL | NOHEATCLOUD;
		explode torso type EXPLODE_ON_HIT | SMOKE | FALL | NOHEATCLOUD;
		explode lbturret type EXPLODE_ON_HIT | SMOKE | FALL | NOHEATCLOUD;
		explode luparm type EXPLODE_ON_HIT | FIRE | SMOKE | FALL | NOHEATCLOUD;
		explode ruparm type SMOKE | FALL | NOHEATCLOUD;
		explode rlarm type SMOKE | FALL | NOHEATCLOUD;
		explode rfbarrel1 type EXPLODE_ON_HIT | FIRE | SMOKE | FALL | NOHEATCLOUD;
		explode head type SMOKE | FALL | NOHEATCLOUD;
		return(corpsetype);
	}
	corpsetype = 2 ;
		explode pelvis type EXPLODE_ON_HIT | FIRE | SMOKE | FALL | NOHEATCLOUD;
		explode torso type EXPLODE_ON_HIT | FIRE | FALL | NOHEATCLOUD;
		explode lbturret type EXPLODE_ON_HIT | FIRE | FALL | NOHEATCLOUD;
		explode lbbarrel1 type EXPLODE_ON_HIT | FIRE | SMOKE | FALL | NOHEATCLOUD;
		explode lbbarrel2 type EXPLODE_ON_HIT | FIRE | FALL | NOHEATCLOUD;
		explode ruparm type EXPLODE_ON_HIT | FIRE | FALL | NOHEATCLOUD;
		explode head type EXPLODE_ON_HIT | FIRE | SMOKE | FALL | NOHEATCLOUD;
	return corpsetype;
}
